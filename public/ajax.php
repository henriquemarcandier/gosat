<?php
require_once('connect.php');
require_once('funcoes.php');
ini_set('display_erros', 'on');
header('Content-type: text/html; charset=utf-8');
date_default_timezone_set('America/Sao_Paulo');
switch ($_REQUEST['acao']) {
    case "alteraPermissoes":
        $sql = "SELECT * FROM permissions WHERE user = '".$_REQUEST['user']."' AND module = '".$_REQUEST['module']."'";
        $query = mysqli_query($con, $sql);
        if (!mysqli_num_rows($query)){
            $sql = "INSERT INTO permissions (user, module, ".$_REQUEST['tipo'].", created_at, updated_at) VALUES ('".$_REQUEST['user']."', '".$_REQUEST['module']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
            $img = "sucesso.png";
        }
        else{
            $row = mysqli_fetch_array($query);
            if ($row[$_REQUEST['tipo']] == 1){
                $img = "erro.ico";
                $valor = "0";
            }
            else{
                $img = "sucesso.png";
                $valor = "1";
            }
            $sql = "UPDATE permissions SET `".$_REQUEST['tipo']."` = '".$valor."' WHERE id = '".$row['id']."'";
            mysqli_query($con, $sql);
        }
        $img = "<img src='".URL."dist/img/".$img."' width='18' style='cursor:pointer' onclick=alteraPermissoes('".$_REQUEST['user']."','".$_REQUEST['module']."','".$_REQUEST['tipo']."','".URL."')>";
        echo "1|-|".$img;
        break;
    case "pegaPermissoes":
        $sql = "SELECT a.* FROM modules a WHERE a.module = '0'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = '<table class="table table-hover text-nowrap">
            <thead>
                <tr>
                    <td>Módulo</td>
                    <td>Visualizar</td>
                    <td>Editar</td>
                    <td>Excluir</td>
                </tr>
            </thead>
            <tbody>';
            while ($row = mysqli_fetch_array($query)){
                $html .= "<tr>
                <td>".$row['name']."</td>
                <td></td>
                <td></td>
                <td></td>
                </tr>";
                $sql = "SELECT * FROM modules WHERE module = '".$row['id']."'";
                $query2 = mysqli_query($con, $sql);
                if (mysqli_num_rows($query2)){
                    while ($row2 = mysqli_fetch_array($query2)){
                        $sql = "SELECT * FROM permissions WHERE user = '".$_REQUEST['usuario']."' AND module = '".$row2['id']."'";
                        $query3 = mysqli_query($con, $sql);
                        if (mysqli_num_rows($query3)){
                            $row3 = mysqli_fetch_array($query3);
                        }
                        else{
                            unset($row3);
                        }
                        $html .= "<tr>
                            <td>".$row['name']." => ".$row2['name']."</td>
                            <td id='view".$row2['id']."_".$_REQUEST['usuario']."'>";
                        if (isset($row3) && $row3['view'] == 1){
                            $html .= '<img src="'.URL.'dist/img/sucesso.png" width="18" style="cursor:pointer" onclick=alteraPermissoes("'.$_REQUEST['usuario'].'","'.$row2['id'].'","view","'.URL.'")>';
                        }
                        else{
                            $html .= '<img src="'.URL.'dist/img/erro.ico" width="18" style="cursor:pointer" onclick=alteraPermissoes("'.$_REQUEST['usuario'].'","'.$row2['id'].'","view","'.URL.'")>';
                        }
                        $html .= "</td>
                            <td id='edit".$row2['id']."_".$_REQUEST['usuario']."'>";
                            if (isset($row3) && $row3['edit'] == 1){
                                $html .= '<img src="'.URL.'dist/img/sucesso.png" width="18" style="cursor:pointer" onclick=alteraPermissoes("'.$_REQUEST['usuario'].'","'.$row2['id'].'","edit","'.URL.'")>';
                            }
                            else{
                                $html .= '<img src="'.URL.'dist/img/erro.ico" width="18" style="cursor:pointer" onclick=alteraPermissoes("'.$_REQUEST['usuario'].'","'.$row2['id'].'","edit","'.URL.'")>';
                            }
                            $html .= "</td>
                            <td id='delete".$row2['id']."_".$_REQUEST['usuario']."'>";
                            if (isset($row3) && $row3['delete'] == 1){
                                $html .= '<img src="'.URL.'dist/img/sucesso.png" width="18" style="cursor:pointer" onclick=alteraPermissoes("'.$_REQUEST['usuario'].'","'.$row2['id'].'","delete","'.URL.'")>';
                            }
                            else{
                                $html .= '<img src="'.URL.'dist/img/erro.ico" width="18" style="cursor:pointer" onclick=alteraPermissoes("'.$_REQUEST['usuario'].'","'.$row2['id'].'","delete","'.URL.'")>';
                            }
                            $html .= "</td>
                        </tr>";
                    }
                }
            }
            $html .= '</tbody></table>';
        }
        echo "1|-|".$html;
        break;
    case "verificaApi":
        $url = str_replace("https", "http", URL)."verificaApi?cpf=".$_REQUEST['cpf'];
        $output = file_get_contents($url);
        echo "1|-|".$output;
        break;
    case "editarAvaliacao":
        $sql = "SELECT * FROM avaliations WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (!mysqli_num_rows($query)){
            echo "0|-|Sem essa avaliação encontrada!";
        }
        else{
            $row = mysqli_fetch_array($query);
            echo "1|-|".$row['avaliacao']."|-|".$row['coments']."|-|".$row['id'];
        }
        break;
    case "edicaoSolicitacaoAvaliacoes":
        $sql = "UPDATE avaliations_solicitas SET avaliation = '".$_REQUEST['avaliationSolicitacaoAvaliacaoEdicao']."', avaliacao = '".$_REQUEST['avaliacaoSolicitacaoAvaliacaoEdicao']."', coments = '".$_REQUEST['comentarioSolicitacaoAvaliacaoEdicao']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idSolicitacaoAvaliacaoEdicao']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1";
        break;
    case "editarSolicitacaoAvaliacao":
        $sql = "SELECT * FROM avaliations_solicitas WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        echo "1|-|".$row['id']."|-|".$row['avaliacao']."|-|".$row['coments']."|-|".$row['avaliation'];
        break;
    case "excluirAvaliacao":
        $sql = "UPDATE avaliations SET status = '3' WHERE id = '".$_REQUEST['id']."'"; 
        mysqli_query($con, $sql) or die('ERRO SQL: '.mysqli_error($con)."\r\nSQL: ".$sql);
        echo "1";
        break;
    case "excluirSolicitacaoAvaliacao":
        $sql = "SELECT * FROM avaliations_solicitas WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "DELETE FROM avaliations_solicitas WHERE id = '".$_REQUEST['id']."'"; 
        mysqli_query($con, $sql) or die('ERRO SQL: '.mysqli_error($con)."\r\nSQL: ".$sql);
        echo "1|-|".$row['avaliation'];
        break;
    case "aprovaSolicitacaoAvaliacao":
        $sql = "SELECT * FROM avaliations_solicitas WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "UPDATE avaliations SET avaliacao = '".$row['avaliacao']."', coments = '".$row['coments']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['avaliation']."'";
        mysqli_query($con, $sql);
        $sql = "SELECT * FROM avaliations WHERE id = '".$row['avaliation']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $htmlEmail = '<html>
            <head>
                <title>Solicitação de Avaliação aprovada com sucesso - '.$parametrosSite['title'].'</title>
            <head>
            <body>
                <table border="0" width="100%">
                    <tr>
                        <td width="250" style="text-align:center" valign="top"><img src="'.URL.'img/logo.png" width="200"></td>
                        <td width="250" style="text-align:center">Olá <b>'.$row['name'].'</b>,<br><br>Informamos que a solicitação de alteração da avaliação está aprovada.<br><br>Agora está assim:<br><br>Avaliação: <b>';
                        for ($i = 1; $i <= $row['avaliacao']; $i++){
                            $htmlEmail .= "<img src='".URL."img/star.png' width='18' title='Nota ".$row['avaliacao']."'> ";
                        }
                        if ($row['avaliacao'] < 5){
                            for ($j = $i; $j <= 5; $j++){
                                $htmlEmail .= "<img src='".URL."img/starApagada.png' width='18' title='Nota ".$row['avaliacao']."'> ";
                            }
                        }
                        $htmlEmail .= '</b><br>Comentário: <b>'.nl2br($row['coments']).'</b><br><br>Atenciosamente,<br><br>Equipe <b>'.$parametrosSite['title'].'</b></td>
                    </tr>
                </table>
            </body>
        </html>';
        $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
        $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>"; 
        $email['assunto'] = ('Solicitação de Avaliação aprovada com sucesso - '.$parametrosSite['title']);
        //mail(utf8_decode($parametrosSite['title']."<".$parametrosSite['email']).">", utf8_decode('Email enviado pelo formulário de atualização de comentário do feriado '.$feriado['name'].' - '.$parametrosSite['title']), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $row['email'], utf8_decode($row['name']), utf8_decode($email['assunto']), utf8_decode($htmlEmail));
        $sql = "DELETE FROM avaliations_solicitas WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "visualizarSolicitacaoAvaliacao":
        $sql = "SELECT * FROM avaliations_solicitas WHERE avaliation = '".$_REQUEST['id']."' ORDER BY created_at DESC";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = '
            <center>
                <button class="btn btn-primary" onclick=abreFecha("exportarSolicitacoesAvaliacoes")>Exportar</button>
                <div id="exportarSolicitacoesAvaliacoes" class="btn btn-primary" style="display:none; position: absolute;">
                    <div class="bb-1" onclick="gerarArquivo(\'csv\', \'solicitacaoAvaliacoes\', \''.$_SESSION['user']['id'].'\', \''.URL.'\')"><img src="'.URL.'img/excel.png" width="25"> Exportar CSV</div>
                    <div class="bb-1" onclick="gerarArquivo(\'pdf\', \'solicitacaoAvaliacoes\', \''.$_SESSION['user']['id'].'\', \''.URL.'\')"><img src="'.URL.'img/pdf.png" width="25"> Exportar PDF</div>
                    <div class="bb-1" onclick="gerarArquivo(\'xml\', \'solicitacaoAvaliacoes\', \''.$_SESSION['user']['id'].'\', \''.URL.'\')"><img src="'.URL.'img/xml.png" width="25"> Exportar XML</div>
                    <div class="bb-1" onclick="gerarArquivo(\'json\', \'solicitacaoAvaliacoes\', \''.$_SESSION['user']['id'].'\', \''.URL.'\')"><img src="'.URL.'img/json.png" width="25"> Exportar JSON</div>
                </div>
            </center>
            <table id="example2" class="table table-bordered table-hover">
            <thead>
            <tr>

<th style="padding:5px">Avaliação</th>

<th style="padding:5px">Comentário</th>

<th style="padding:5px">Ações</th>

</tr>
</thead>
<tbody>';
            while ($row = mysqli_fetch_array($query)){
                $html .= '
            <tr>

                <td style="padding:5px; width:30%">';
                for($i = 1; $i <= $row['avaliacao']; $i++){
                    $html .= '<img src="'.URL.'img/star.png" width="18" title="Nota '.$row['avaliacao'].'"> ';
                }
                if ($row['avaliacao'] < 5){
                    for($j = $i; $j <= 5; $j++){
                        $html .= '<img src="'.URL.'img/starApagada.png" width="18" title="Nota '.$row['avaliacao'].'"> ';
                    }
                }
                $html .= '</td>

                <td style="padding:5px" width="50%">' . ($row['coments']) . '</td>

                <td style="padding:5px" width="10%">
                    <img src="'.URL.'img/sucesso.png" width="18" style="cursor:pointer" onclick=aprovaSolicitacaoAvaliacao("'.$row['id'].'","'.URL.'")>
                    <a href="#" data-toggle="modal" data-target="#modalEdicaoSolicitacaoAvaliacao" onclick=editarSolicitacaoAvaliacoes("' . $row['id'] . '","' . URL . '","'.$row['avaliation'].'")><img src="' . URL . 'img/editar.png" width="20"></a>
                    <a style="cursor:pointer" onclick=excluirSolicitacaoAvaliacoes("' . $row['id'] . '","' . URL . '")><img src="' . URL . 'img/excluir.png" width="20"></a>
                </td>
            </tr>';
            }
            $html .= '
            </tbody>
        </table>';
        }
        echo "1|-|".$html."|-|".$_REQUEST['id'];
        break;
    case 'edicaoAvaliacao':
        $sql = "SELECT * FROM avaliations WHERE id = '".$_REQUEST['idEdicao']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        if ($row['avaliacao'] != $_REQUEST['avaliacaoEdicao'] || $row['coments'] != $_REQUEST['comentarioEdicao']){
        $sql = "INSERT INTO avaliations_solicitas (avaliation, avaliacao, coments, created_at, updated_at)
        VALUES ('".$_REQUEST['idEdicao']."', '".$_REQUEST['avaliacaoEdicao']."', '".$_REQUEST['comentarioEdicao']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql) or die('ERRO SQL: '.mysqli_error($con));
        $sql = "SELECT * FROM avaliations WHERE id = '".$_REQUEST['idEdicao']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $htmlEmail = '<html>
            <head>
                <title>Solicitação de Avaliação enviada com sucesso - '.$parametrosSite['title'].'</title>
            <head>
            <body>
                <table border="0" width="100%">
                    <tr>
                        <td width="250" style="text-align:center" valign="top"><img src="'.URL.'img/logo.png" width="200"></td>
                        <td width="250" style="text-align:center">Olá pessoal da <b>'.$parametrosSite['title'].'</b>,<br><br>Informamos que uma solicitação de alteração da avaliação foi enviada através do site.<br><br>Dados da alteração de avaliação:<br><br>Avaliação: <b>';
                        for ($i = 1; $i <= $_REQUEST['avaliacaoEdicao']; $i++){
                            $htmlEmail .= "<img src='".URL."img/star.png' width='18' title='Nota ".$_REQUEST['avaliacaoEdicao']."'> ";
                        }
                        if ($row['avaliacaoEdicao'] < 5){
                            for ($j = $i; $j <= 5; $j++){
                                $htmlEmail .= "<img src='".URL."img/starApagada.png' width='18' title='Nota ".$_REQUEST['avaliacaoEdicao']."'> ";
                            }
                        }
                        $htmlEmail .= '</b><br>Comentário: <b>'.nl2br($_REQUEST['comentarioEdicao']).'</b><br><br>Para ver essa avliação no admin, <a href="'.URL.'admin/avaliacoes">clique aqui</a>.<br><br>Atenciosamente,<br><br>Equipe <b>'.$parametrosSite['title'].'</b></td>
                    </tr>
                </table>
            </body>
        </html>';
        $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
        $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>"; 
        $email['assunto'] = ('Solicitação de Avaliação enviada com sucesso - '.$parametrosSite['title']);
        //mail(utf8_decode($parametrosSite['title']."<".$parametrosSite['email']).">", utf8_decode('Email enviado pelo formulário de atualização de comentário do feriado '.$feriado['name'].' - '.$parametrosSite['title']), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($email['assunto']), utf8_decode($htmlEmail));
            echo "1|-|".$row['avaliacao']."|-|".$row['coments'];
        }
        else{
            echo "0|-|Não existe nenhuma alteração na solicitação enviada por você. Por isso ela não foi inserida!";            
        }
        break;
    case "visualizarAvaliacao":
        $sql = "SELECT * FROM avaliations WHERE status = '2' ORDER BY created_at DESC";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $html .= '<div class="c-center" style="color:#000000"><b>"'.$row['coments'].'"</b> - ';
                for ($i = 1; $i <= $row['avaliacao']; $i++){
                    $html .= '<img src="'.URL.'img/star.png" title="Nota '.$row['avaliacao'].' width="18"> ';
                }
                if ($row['avaliacao'] < 5){
                    for ($j = $i; $j <= 5; $j++){
                        $html .= '<img src="'.URL.'img/starApagada.png" title="Nota '.$row['avaliacao'].'" width="18"> ';
                    }
                } 
                $html .= '<br>por '.$row['name'].', ';
                if ($_SESSION['cliente']['email'] == $row['email']){
                    $html .= '<a href="mailto:'.$row['email'].'" title="Enviar email para '.$row['email'].'" style="color:#000000">'.$row['email'].'</a>, ';
                } 
                $html .= 'em '.date("d/m/Y à\s H:i:s", strtotime($row['created_at'])).'h';
                if ($_SESSION['cliente']['email'] == $row['email']){
                    $html .= ' - <img src="'.URL.'img/editar.png" width="18" style="cursor:pointer" onclick=editarAvaliacao("'.$row['id'].'","'.URL.'")> <img src="'.URL.'img/excluir.png" width="18" style="cursor:pointer" onclick=excluirAvaliacao("'.$row['id'].'","'.URL.'")>';
                }
                $html .= '</div><br>';
            }
        }
        echo "1|-|".$html;
        break;
    case "cadastrarAvaliacao":
        if (!$_REQUEST['avaliacaoAvaliacao']){
            echo "0|-|Informe a avaliação corretamente!";
        }
        else{
            $htmlEmail = '<html>
                <head>
                    <title>Comentário enviado pelo formulário do Quem Somos - '.$parametrosSite['title'].'</title>
                <head>
                <body>
                    <table border="0" width="100%">
                        <tr>
                            <td width="250" style="text-align:center" valign="top"><img src="'.URL.'img/logo.png" width="200"></td>
                            <td width="250" style="text-align:center">Olá pessoal d'.$parametrosSite['artigo'].' <b>'.$parametrosSite['title'].'</b>,<br><br>Informamos que uma avaliação foi enviado através do nosso site.<br><br>Nome: <b>'.$_REQUEST['nomeAvaliacao'].'</b><br>Email: <b>'.$_REQUEST['emailAvaliacao'].'</b><br>Avaliação: <b>';
                            for ($i = 1; $i <= $_REQUEST['avaliacaoAvaliacao']; $i++){
                                $htmlEmail .= "<img src='".URL."img/star.png' width='18' title='Nota ".$_REQUEST['avaliacaoAvaliacao']."'> ";
                            }
                            if ($value->avaliacao < 5){
                                for ($j = $i; $j <= 5; $j++){
                                    $htmlEmail .= "<img src='".URL."img/starApagada.png' width='18' title='Nota ".$_REQUEST['avaliacaoAvaliacao']."'> ";
                                }
                            }
                            $htmlEmail .= '</b><br>Comentário: <b>'.nl2br($_REQUEST['comentarioAvaliacao']).'</b><br><br>Para visualizar essa avaliação no admin do site, <a href="'.URL.'admin/avaliacoes">clique aqui</a>.<br><br>Atenciosamente,<br><br>Equipe <b>'.$parametrosSite['title'].'</b></td>
                        </tr>
                    </table>
                </body>
            </html>';
            $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
            $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>"; 
            $email['assunto'] = ('Avaliação enviada pelo formulário do Site - '.$parametrosSite['title']);
            //mail(utf8_decode($parametrosSite['title']."<".$parametrosSite['email']).">", utf8_decode('Email enviado pelo formulário de atualização de comentário do feriado '.$feriado['name'].' - '.$parametrosSite['title']), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
            enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($email['assunto']), utf8_decode($htmlEmail));
        
            $sql = "INSERT INTO avaliations (name, email, avaliacao, coments, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeAvaliacao']."', '".$_REQUEST['emailAvaliacao']."', '".$_REQUEST['avaliacaoAvaliacao']."', '".$_REQUEST['comentarioAvaliacao']."', '0', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql) or die(mysqli_error($con));
            echo "1|-|".utf8_decode($_SESSION['cliente']['name'])."|-|".$_SESSION['cliente']['email'];
        }
        break;
    case "limparCarrinhoAdmin":
        $sql = "SELECT * FROM carts";
        $query = mysqli_query($con, $sql) or die(mysqli_eeror($con));
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $sql = "SELECT * FROM products_items WHERE id = '".$row['product_item']."'";
                $query2 = mysqli_query($con, $sql) or die(mysqli_error($con));
                if (mysqli_num_rows($query2)){
                    $row2 = mysqli_fetch_array($query2);
                    $estoque = $row['quantity'] + $row2['estoque'];
                    $sql = "UPDATE products_items SET estoque = '".$estoque."' WHERE id = '".$row['product_item']."'";
                    mysqli_query($con, $sql) or die(mysqli_error($con));
                }
            }
        }
        $sql = "TRUNCATE carts";
        mysqli_query($con, $sql) or die(mysqli_eeror($con));
        echo "1";
        break;
        case "excluirCarrinhoAdmin":
            $sql = "SELECT * FROM carts WHERE id = '".$_REQUEST['id']."'";
            $query = mysqli_query($con, $sql) or die(mysqli_eeror($con));
            if (mysqli_num_rows($query)){
                while ($row = mysqli_fetch_array($query)){
                    $sql = "SELECT * FROM products_items WHERE id = '".$row['product_item']."'";
                    $query2 = mysqli_query($con, $sql) or die(mysqli_error($con));
                    if (mysqli_num_rows($query2)){
                        $row2 = mysqli_fetch_array($query2);
                        $estoque = $row['quantity'] + $row2['estoque'];
                        $sql = "UPDATE products_items SET estoque = '".$estoque."' WHERE id = '".$row['product_item']."'";
                        mysqli_query($con, $sql) or die(mysqli_error($con));
                    }
                }
            }
            $sql = "DELETE FROM carts WHERE id = '".$_REQUEST['id']."'";
            mysqli_query($con, $sql) or die(mysqli_eeror($con));
            echo "1";
            break;
    case "fechaMsgTeste":
        $_SESSION['fechaMsgTeste'] = 1;
        echo "1";
        break;
    case "excluirPresente":
        $sql = "DELETE FROM presents_lists_products WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        $sql = "INSERT INTO logs (user, action, created_at, updated_at) VALUES ('".$_SESSION['user']['id']."', 'Excluiu o presente da lista de id = ".$_REQUEST['id']."', now(), now())";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "setaFechaBannerPopup":
        $_SESSION['semBannerPopup'] = 1;
        echo "1";
        break;
    case "importaAnoPassadoFeriado":
        $anoAnterior = $_REQUEST['ano'] - 1;
        $sql = "SELECT * FROM holidays WHERE date LIKE '".$anoAnterior."-%'";
        $query = mysqli_query($con, $sql); 
        $sql = "SELECT * FROM holidays WHERE date LIKE '".$_REQUEST['ano']."-%'";
        $queryAno = mysqli_query($con, $sql);
        if (mysqli_num_rows($query) && !mysqli_num_rows($queryAno)){
            while($row = mysqli_fetch_array($query)){      
                $vet = explode('-', $row['date']);
                $data = $_REQUEST['ano']."-".$vet[1]."-".$vet[2];
                $sql = "INSERT INTO holidays (name, date, comMsg, msg, status, created_at, updated_at)
                VALUES ('".$row['name']."', '".$data."', '".$row['comMsg']."', '".$row['msg']."', '".$row['status']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql) or die(mysqli_error($con));
                $idInserido = mysqli_insert_id($con);
                $sql = "SELECT * FROM holidays_coments WHERE holiday = '".$row['id']."'";
                $query2 = mysqli_query($con, $sql);
                if (mysqli_num_rows($query2)){
                    while ($row2 = mysqli_fetch_array($query2)){
                        $sql = "INSERT INTO holidays_coments (holiday, client, coment, avaliacao, status, created_at, updated_at)
                        VALUES ('".$idInserido."', '".$row2['client']."', '".$row2['coment']."', '".$row2['avaliacao']."', '".$row2['status']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                        mysqli_query($con, $sql);
                    }
                }
            }
            echo "1";
        }
        else{
            echo "0|-|Sem feriados cadastrados no ano passado para importação! Confira!";
        }
        break;
    case "importaAnoSeguinteFeriado":
        $anoAnterior = $_REQUEST['ano'] + 1;
        $sql = "SELECT * FROM holidays WHERE date LIKE '".$anoAnterior."-%'";
        $query = mysqli_query($con, $sql); 
        $sql = "SELECT * FROM holidays WHERE date LIKE '".$_REQUEST['ano']."-%'";
        $queryAno = mysqli_query($con, $sql);
        if (mysqli_num_rows($query) && !mysqli_num_rows($queryAno)){
            while($row = mysqli_fetch_array($query)){      
                $vet = explode('-', $row['date']);
                $data = $_REQUEST['ano']."-".$vet[1]."-".$vet[2];
                $sql = "INSERT INTO holidays (name, date, comMsg, msg, status, created_at, updated_at)
                VALUES ('".$row['name']."', '".$data."', '".$row['comMsg']."', '".$row['msg']."', '".$row['status']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql) or die(mysqli_error($con));
                $idInserido = mysqli_insert_id($con);
                $sql = "SELECT * FROM holidays_coments WHERE holiday = '".$row['id']."'";
                $query2 = mysqli_query($con, $sql);
                if (mysqli_num_rows($query2)){
                    while ($row2 = mysqli_fetch_array($query2)){
                        $sql = "INSERT INTO holidays_coments (holiday, client, coment, avaliacao, status, created_at, updated_at)
                        VALUES ('".$idInserido."', '".$row2['client']."', '".$row2['coment']."', '".$row2['avaliacao']."', '".$row2['status']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                        mysqli_query($con, $sql);
                    }
                }
            }
            echo "1";
        }
        else{
            echo "0|-|Sem feriados cadastrados no ano seguinte para importação! Confira!";
        }
        break;
    case "aprovarSolicitacaoComentariosFeriados":
        $sql = "SELECT * FROM holidays_coments_aprovas WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = ("UPDATE holidays_coments SET avaliacao = '".$row['avaliacao']."', coment = '".$row['coment']."' WHERE id = '".$row['holiday_coment']."'");
        mysqli_query($con, $sql);
        $sql = "DELETE FROM holidays_coments_aprovas WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        echo "1";
        break;
    case "excluirSolicitacaoComentariosFeriados":
        $sql = "DELETE FROM holidays_coments_aprovas WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        echo "1";
        break;
    case "visualizarAprovacoesComentariosFeriados":
        $sql = "SELECT * FROM holidays_coments_aprovas WHERE holiday_coment = '".$_REQUEST['id']."' ORDER BY updated_at DESC";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = "<table width='100%' border='0'>
            <tr>
                <th>Avaliação</th>
                <th>Comentário</th>
                <th>Ações</th>
            </tr>";
            while ($row = mysqli_fetch_array($query)){
                $html .= "<tr>
                    <td>".$row['avaliacao']."</td>
                    <td>".$row['coment']."</td>
                    <td><img src='".URL."img/sucesso.png' width='20' title='Aprovar Solicitação de Comentário' style='cursor:pointer' onclick=aprovarSolicitacaoComentarioFeriado('".$row['id']."','".URL."')> 
                    <img src='".URL."img/excluir.png' width='20' title='Excluir Solicitação de Comentário' style='cursor:pointer' onclick=excluirSolicitacaoComentarioFeriado('".$row['id']."','".URL."')></td>
                </tr>";
            }
            echo "1|-|".$html;
        }
        else{
            echo "0|-|Não existe nenhuma aprovação de comentário de feriado à aprovar!";
        }
        break;
    case "listarComentarioFeriado":
        $sql = "SELECT a.*, b.name AS nomeCliente FROM holidays_coments a LEFT JOIN pessoa_fisicas b ON (a.client = b.client) WHERE a.holiday = '".$_REQUEST['holiday']."' ORDER BY a.created_at DESC";
        $query = mysqli_query($con, $sql);
        if (!mysqli_num_rows($query)){
            $html = '<div class="btn btn-danger">Nenhum comentário encontrado!</div><br><br>';
        }
        else{
            $html = "";
            while($row = mysqli_fetch_array($query)){
                for ($i = 1; $i <= $row['avaliacao']; $i++){
                    $html .= '<img src="https://localhost/lojaalex/site/img/star.png" title="'.$row['avaliacao'].' estrela';
                    if ($row['avaliacao'] > 1){
                        $html .= 's';
                    }
                    $html .= '" width="15">';
                }
                if ($row['avaliacao'] < 5){
                    for ($j = $row['avaliacao']; $j <= 5; $j++){
                        $html .= '<img src="https://localhost/lojaalex/site/img/starApagada.png" title="'.$row['avaliacao'].' estrelas';
                        if ($row['avaliacao'] > 1){
                            $html .= 's';
                        }
                        $html .= '" width="15">';  
                    }
                }
                $html .= ' - "'.(str_replace('##data##', date('d/m/Y'), str_replace('##ano##', date('Y'), $row['coment']))).'" - <sub>por '.($row['nomeCliente']).' em '.date('d/m/Y à\s H:i:s\h', strtotime($row['created_at'])).'</sub>';
                if ($_SESSION['cliente']['id'] == $row['client']){
                    $html .= ' - <span style="padding:5px; background-color:#e7e7e7; border-radius:25px"><img src="'.URL.'img/editar.png" width="15" style="cursor:pointer" onclick=editarComentarioFeriado("'.$row['id'].'","'.URL.'")></span> 
                    <span style="padding:5px; background-color:#e7e7e7; border-radius:25px"><img src="'.URL.'img/excluir.png" width="15" style="cursor:pointer" onclick=excluirComentarioFeriado("'.$row['id'].'","'.URL.'")></span>';
                }
                $html .= '<br><br>';
            }
        }
        echo "1|-|".$html;
        break;
    case "excluirComentarioFeriado":
        $sql = "SELECT * FROM holidays_coments WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "DELETE FROM holidays_coments WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo "1|-|".$row['holiday'];
        break;
    case "editaComentariosFeriados":
        $sql = "INSERT INTO holidays_coments_aprovas (holiday_coment, coment, avaliacao, created_at, updated_at) VALUES ('".$_REQUEST['id']."', '".$_REQUEST['comentario']."', '".$_REQUEST['avaliacao']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $sql = "SELECT * FROM holidays WHERE id = '".$_REQUEST['feriado']."'";
        $query = mysqli_query($con, $sql);
        $feriado = mysqli_fetch_array($query);
        $htmlEmail = '<html>
            <head>
                <title>Email enviado pelo formulário de atualização de comentário do feriado '.$feriado['name'].' - '.$parametrosSite['title'].'</title>
            <head>
            <body>
                <table border="0" width="100%">
                    <tr>
                        <td width="250" style="text-align:center" valign="top"><img src="'.URL.'img/logo.png" width="200"></td>
                        <td width="250" style="text-align:center">Olá pessoal da <b>BH Commerce</b>,<br><br>Informamos que existiu mais uma solicitação de alteração de comentário no feriado de <b>'.$feriado['name'].'</b>.<br><br>Para visualizar todas as solicitações de comentários de feriado, <a href="'.URL.'admin/comentariosFeriados">clique aqui</a>.<br><br>Atenciosamente,<br><br>Equipe <b>'.$parametrosSite['title'].'</b></td>
                    </tr>
                </table>
            </body>
        </html>';
        $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
        $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>"; 
        $email['assunto'] = utf8_decode('Email enviado pelo formulário de atualização de comentário do feriado '.$feriado['name'].' - '.$parametrosSite['title']);
        //mail(utf8_decode($parametrosSite['title']."<".$parametrosSite['email']).">", utf8_decode('Email enviado pelo formulário de atualização de comentário do feriado '.$feriado['name'].' - '.$parametrosSite['title']), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($email['assunto']), utf8_decode($htmlEmail));
        echo "1";
        break;
    case "editarComentariosFeriados":
        $sql = "SELECT a.*, b.name AS nomeFeriado, b.date AS dataFeriado FROM holidays_coments a INNER JOIN holidays b ON (a.holiday = b.id) WHERE a.id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            echo ("1|-|".$row['id']."|-|".$row['avaliacao']."|-|".($row['coment'])."|-|".$row['holiday']."|-|".$row['nomeFeriado']." - ".date('d/m/Y', strtotime($row['dataFeriado'])));
        }
        else{
            echo "0|-|Não foi encontrado o comentário pesquisado! Tente Novamente!";
        }
        break;
    case "cadastrarComentariosFeriados":
        $sql = "INSERT INTO holidays_coments (holiday, client, avaliacao, coment, status, created_at, updated_at)
        VALUES ('".$_REQUEST['feriado']."', '".$_SESSION['cliente']['id']."', '".$_REQUEST['avaliacao']."', '".$_REQUEST['comentario']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $sql = "SELECT * FROM holidays WHERE id = '".$_REQUEST['feriado']."'";
        $query = mysqli_query($con, $sql);
        $feriado = mysqli_fetch_array($query);
        $htmlEmail = '<html>
            <head>
                <title>Email enviado pelo formulário de inserção de comentário do feriado '.$feriado['name'].' - '.$parametrosSite['title'].'</title>
            <head>
            <body>
                <table border="0" width="100%">
                    <tr>
                        <td width="250" style="text-align:center" valign="top"><img src="'.URL.'img/logo.png" width="200"></td>
                        <td width="250" style="text-align:center">Olá pessoal da <b>BH Commerce</b>,<br><br>Informamos que existiu mais um cadastro de comentário no feriado de <b>'.$feriado['name'].'</b>.<br><br>Para visualizar todos os comentários, <a href="'.URL.'admin/comentariosFeriados">clique aqui</a>.<br><br>Atenciosamente,<br><br>Equipe <b>'.$parametrosSite['title'].'</b></td>
                    </tr>
                </table>
            </body>
        </html>';
        $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
        $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>"; 
        $email['assunto'] = utf8_decode('Email enviado pelo formulário de inserção de comentário do feriado '.$feriado['name'].' - '.$parametrosSite['title']);
        //mail(utf8_decode($parametrosSite['title']."<".$parametrosSite['email']).">", utf8_decode('Email enviado pelo formulário de inserção de comentário do feriado '.$feriado['name'].' - '.$parametrosSite['title']), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($email['assunto']), utf8_decode($htmlEmail));
        echo "1";
        break;
        case "cadastrarComentariosFeriados2":
            $sql = "INSERT INTO holidays_coments (holiday, client, avaliacao, coment, status, created_at, updated_at)
            VALUES ('".$_REQUEST['feriado']."', '".$_SESSION['cliente']['id']."', '".$_REQUEST['avaliacao']."', '".($_REQUEST['comentario'])."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
            $sql = "SELECT * FROM holidays WHERE id = '".$_REQUEST['feriado']."'";
            $query = mysqli_query($con, $sql);
            $feriado = mysqli_fetch_array($query);
            $htmlEmail = '<html>
                <head>
                    <title>Email enviado pelo formulário de inserção de comentário do feriado '.$feriado['name'].' - '.$parametrosSite['title'].'</title>
                <head>
                <body>
                    <table border="0" width="100%">
                        <tr>
                            <td width="250" style="text-align:center" valign="top"><img src="'.URL.'img/logo.png" width="200"></td>
                            <td width="250" style="text-align:center">Olá pessoal da <b>BH Commerce</b>,<br><br>Informamos que existiu mais um cadastro de comentário no feriado de <b>'.$feriado['name'].'</b>.<br><br>Para visualizar todos os comentários, <a href="'.URL.'admin/comentariosFeriados">clique aqui</a>.<br><br>Atenciosamente,<br><br>Equipe <b>'.$parametrosSite['title'].'</b></td>
                        </tr>
                    </table>
                </body>
            </html>';
            $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
            $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>"; 
            $email['assunto'] = utf8_decode('Email enviado pelo formulário de inserção de comentário do feriado '.$feriado['name'].' - '.$parametrosSite['title']);
            //mail(utf8_decode($parametrosSite['title']."<".$parametrosSite['email']).">", utf8_decode('Email enviado pelo formulário de inserção de comentário do feriado '.$feriado['name'].' - '.$parametrosSite['title']), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
            enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($email['assunto']), utf8_decode($htmlEmail));
            echo "1";
            break;
    case "pegaTipoBanner":
        switch ($_REQUEST['qual']){
            case 14:
                $table = "banners";
                $orderBy = "position ASC, name ASC, id ASC";
                $artigo = "o";
                break;
            case 15:
                $table = "pages";
                $orderBy = "name ASC";
                $artigo = "a";
                break;
            case 16:
                $table = "subitems";
                $orderBy = "page ASC, name ASC";
                $artigo = "o";
                break;
            case 18:
                $table = "categories";
                $orderBy = "idPai ASC, id ASC";
                $artigo = "a";
                break;
            case 19:
                $table = "brands";
                $orderBy = "name ASC";
                $artigo = "a";
                break;
            case 20:
                $table = "stamps";
                $orderBy = "name ASC";
                $artigo = "o";
                break;
            case 43:
                $table = "suggestions";
                $orderBy = "name ASC";
                $artigo = "a";
                break;            
            case 44:
                $table = "relationships";
                $orderBy = "name ASC";
                $artigo = "o";
                break;                      
            case 45:
                $table = "products";
                $orderBy = "id DESC";
                $artigo = "o";
                break;             
            case 49:
                $table = "partners";
                $orderBy = "name ASC";
                $artigo = "o";
                break;
            }
        $sql = "SELECT * FROM modules WHERE id = '".$_REQUEST['qual']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $qualE = "Tod".$artigo."s";
        $sql = "SELECT * FROM ".$table." ORDER BY ".$orderBy;
        $query2 = mysqli_query($con, $sql);
        $html = "<label for='qual".$_REQUEST['tipo']."'>".$row['name'].": </label>";
        if(mysqli_num_rows($query2)){
            $html .= "<select id='qual".$_REQUEST['tipo']."' name='qual".$_REQUEST['tipo']."' class='form-control'>
                <option value=''>".$qualE."</option>";
            while ($row2 = mysqli_fetch_array($query2)){
                $row2['name'] = $row2['name'] ? $row2['name'] : $row2['nomeAniversariante']." - ".date('d/m/Y', strtotime($row2['dataAniversario']));
                $html .= "
                <option value='".$row2['id']."'";
                if ($_REQUEST['id'] == $row2['id']){
                    $html .= " selected";
                }
                $html .= ">".$row2['name']."</option>";
            }
            $html .= "</select>";
        }
        echo "1|-|".$html;
        break;
    case "solicitarAlteracaoComentariosProduto":
        $sql = ("INSERT INTO products_reviews_solicitas (id_product_review, avaliacao, mensagem, created_at, updated_at) VALUES ('".$_REQUEST['id']."', '".$_REQUEST['avaliacaoComentarioProduto']."', '".(nl2br($_REQUEST['mensagemComentarioProduto']))."', now(), now())");
		mysqli_query($con, $sql);
		$assunto = $parametrosSite['title']." - Solicitação de Alteração em Comentário de Produto!";
		$htmlEmail = '<html><head><title>'.$parametrosSite['title'].' - Solicitação de Alteração em Comentário de Produto!</title></head><body><table border="0" width="100%" cellpadding="0" cellspacing="0"><tr><td width="200" valign="top"><img src="'.URL.'img/logo.png" width="100%"></td><td valign="top">Olá <b>'.$parametrosSite['title'].'</b>,<br><br>Esse email é para informar que foi realizada agora uma alteração em um comentário de um produto no site.<br><br>Para ver essa solicitação, <a href="'.URL.'admin/solicitacaoComentario">clique aqui</a>.<br><br>Atenciosamente,<br><br>Equipe '.$parametrosSite['title'].'</td></tr></table><hr noshade><center>Email Desenvolvido Pela <a href="https://www.bhcommerce.com.br/">BH Commerce</a></center><hr noshade></body></html>';
        $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
        $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($assunto), utf8_decode($htmlEmail));
		//mail(utf8_decode($parametrosSite['title']."<testegosat@bhcommerce.com.br>"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
        echo "1";
        break;
    case "enviarEmailValePresente":
        $sql = "SELECT a.*, b.code, b.value AS valorVale, b.validade, d.email AS emailCliente, e.name AS nomeCliente, f.nomeFantasia, f.contato FROM requests_items a INNER JOIN vales b ON (a.vale = b.id) INNER JOIN requests c ON (a.request = c.id) INNER JOIN clients d ON (c.client = d.id) LEFT JOIN pessoa_fisicas e ON (d.id = e.client) LEFT JOIN pessoa_juridicas f ON (d.id = f.client) WHERE a.vale = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $codigo = $row['code'];
            $paraNome3 = ($row['nomeCliente']) ? $row['nomeCliente'] : $row['nomeFantasia']." - ".$row['contato'];
            $paraEmail = $row['emailCliente'];
            $assunto = $parametrosSite['title']." - Vale Presente de R$".number_format($row['valorVale'], 2, ',', '.');
            $htmlEmail = "<html><head><title>Sistema de Teste Gosat - Vale Presente de R$".number_format($row['valorVale'], 2, ',', '.')."</title></head><body><table border='0' style=background-image:url('".URL."img/valePresente.png');background-repeat:no-repeat;width:456px;height:314px><tr><td height='100' colspan='2'>&nbsp;</td></tr><tr><td width='40%'>&nbsp;</td><td style='color:#999999; text-align:center'><h3>Sistema de Teste Gosat</h3><p style='left:50%; text-align:center'><img src='".URL."img/logo.png' width='75'><b>R$".number_format($row['valorVale'], 2, ',', '.')."</b><br>Válido até: <b>".date('d/m/Y', strtotime($row['validade']))."</b></p><h3 style='text-align:center; padding:5px; margin:none'>".$codigo."</h3></td></tr></table><sub>* válido para utilização no site <a href='".URL."' target='_blank'>".URL."</a>. Caso seja utilizado em compra de menor valor, o desconto será do valor total da compra. Só é possível a utilização uma vez no nosso site.</sub><br><br>Atenciosamente,<br><br>Equipe <a href='".URL."'>Sistema de Teste Gosat</a><hr noshade><center>Email desenvolvido pela <a href='https://www.bhcommerce.com.br'>BH Commerce</a></center><hr noshade></body></html>";
            $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
            $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
            //mail(utf8_decode($paraNome3."<".$paraEmail.">"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
            enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $paraEmail, utf8_decode($paraNome3), utf8_decode($assunto), utf8_decode($htmlEmail));
            $i++;
            echo "1";
        }
        else{
            echo "0";
        }
        break;
    case 'colocaRecebidos':
        $sql = "SELECT * FROM social_networks";
        $query = mysqli_query($con, $sql) or die(mysqli_error());
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                if ($row['slug'] == 'twitter'){
                    $pesquisa = "t.co";
                }
                else{
                    $pesquisa = $row['slug'];
                }
                $pesquisa2 = $row['slug'];
                $vet2 = explode("/", $_REQUEST['HTTP_REFERER']);
                $totalLink = count($vet2) - 3;
                unset($link);
                for ($i = 0; $i <= $totalLink; $i++){
                    $link .= $vet2[$i]."/";
                }
                if ((preg_match("/".$pesquisa."/", $_REQUEST['HTTP_REFERER']) || preg_match("/".$pesquisa2."/", $_REQUEST['HTTP_REFERER'])) && $link != URL_SITE){
                    $recebidos = $row['recebidos'] + 1;
                    $sql = "UPDATE social_networks SET recebidos = '".$recebidos."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
                    mysqli_query($con, $sql);
                    $foi = 1;
                }
            }
        }
        if (!isset($foi)){
            $sql = "SELECT * FROM partners";
            $query = mysqli_query($con, $sql) or die(mysqli_error());
            if (mysqli_num_rows($query)){
                while ($row = mysqli_fetch_array($query)){
                    $vet = explode(';', $row['link']);
                    for ($i = 0; $i < count($vet); $i++){
                        $vet[$i] = trim($vet[$i]);
                        if (isset($_REQUEST['HTTP_REFERER']) && $vet[$i] == $_REQUEST['HTTP_REFERER']){
                            $recebidos = $row['cliques'] + 1;
                            $sql = "UPDATE partners SET cliques = '".$recebidos."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
                            mysqli_query($con, $sql) or die(mysqli_error($con));
                            $sql = "SELECT * FROM counters_partners WHERE partner = '".$row['id']."' AND data = '".date('Y-m-d')."'";
                            $query2 = mysqli_query($con, $sql);
                            if (mysqli_num_rows($query2)){
                                $row2 = mysqli_fetch_array($query2);
                                $acessos = $row2['acessos'] + 1;
                                $sql = "UPDATE counters_partners SET acessos = '".$acessos."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row2['id']."'";
                                mysqli_query($con, $sql);
                            }
                            else{
                                $sql = "INSERT INTO counters_partners (partner, data, acessos, created_at, updated_at) VALUES ('".$row['id']."', '".date('Y-m-d')."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                mysqli_query($con, $sql) or die(mysqli_error($con));
                            }
                            $foi = 1;
                        }
                    }
                }
            }
        }
        if (isset($foi)){
            echo "1";
        }
        else{
            echo "0";
        }
        break;
    case "reescreveUrlEdicao":
        $slug = retirarAcentos($_REQUEST['nome']);
        $slug2 = $slug;
        $i = 1;
        $sql = "SELECT * FROM ".$_REQUEST['table']." WHERE slug = '".$slug."' AND id != '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        while (mysqli_num_rows($query)){
            $slug2 = $slug.$i;
            $sql = "SELECT * FROM ".$_REQUEST['table']." WHERE slug = '".$slug2."' AND id != '".$_REQUEST['id']."'";
            $query = mysqli_query($con, $sql);
            $i++;
        }
        echo "1|-|".$slug2;
        break;
    case "reescreveUrlCadastro":
        $slug = retirarAcentos($_REQUEST['nome']);
        $slug2 = $slug;
        $i = 1;
        $sql = "SELECT * FROM ".$_REQUEST['table']." WHERE slug = '".$slug."'";
        $query = mysqli_query($con, $sql);
        while (mysqli_num_rows($query)){
            $slug2 = $slug.$i;
            $i++;
            $sql = "SELECT * FROM ".$_REQUEST['table']." WHERE slug = '".$slug2."'";
            $query = mysqli_query($con, $sql);
        }
        echo "1|-|".$slug2;
        break;
    case "pegaAtributos":
        $html = "";
        $i = 1;
        $sql = "SELECT a.*, b.name AS nomeAtributo FROM products_attributes a INNER JOIN attributes b ON (a.attribute = b.id) WHERE a.product = '".$_REQUEST['produto']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $html .= '<ul class="list-inline pb-3">
                <li class="list-inline-item">'.$row['nomeAtributo'].':
                    <input type="hidden" name="product-size" id="product-size" value="S">
                </li>
                <li class="list-inline-item"><select name="atributo'.$i.'" id="atributo'.$i.'" class="form-control" onchange=selecionaAtributo($("#atributo1").val(),$("#atributo2").val(),$("#atributo3").val(),$("#atributo4").val(),$("#atributo5").val(),$("#atributo6").val(),$("#atributo7").val(),$("#atributo8").val(),$("#atributo9").val(),$("#atributo10").val(),"'.$_REQUEST['produto'].'","'.URL.'","10","1")>';
                $sql = "SELECT DISTINCT a.attribute".$i.", b.name FROM products_items a INNER JOIN attributes b ON (a.attribute".$i." = b.id) WHERE a.product = '".$_REQUEST['produto']."'";
                $query2 = mysqli_query($con, $sql);
                if (mysqli_num_rows($query2)){
                    while ($row2 = mysqli_fetch_array($query2)){
                        $html .= "<option value='".$row2['attribute'.$i]."'>".$row2['name']."</option>";
                    }
                }
                $i++;
                $html .= '</select></li>
            </ul>';
            }
        }
        echo "1|-|".$html;
        break;
    case "insereLog":
        $acao = "Visualizou o módulo de ".$_REQUEST['nome'];
        $sql = "INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', '".$acao."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1";
        break;
    case "cadastrarProduto":
        $slug = retirarAcentos(($_REQUEST['nomeProdutoCadastrar']));
        $sql = "SELECT * FROM products WHERE slug = '".$slug."'";
        $query = mysqli_query($con, $sql);
        $i = 1;
        while (mysqli_num_rows($query)){
            $slug2 = $slug.$i;
            $i++;
            $sql = "SELECT * FROM products WHERE slug = '".$slug2."'";
            $query = mysqli_query($con, $sql);
        }
        if ($slug2){
            $slug = $slug2;
        }
        $sql = ("INSERT INTO products (name, status, apareceVitrine, destaque, compreAgora, freteGratis, mostraCarrinho, promocao, valorContaParaOFrete, itemRecomendado, prioridadeBusca, apareceLateralEsquerda, ofertaDoDia, ofertaEspecial, client, slug, created_at, updated_at) VALUES ('".$_REQUEST['nomeProdutoCadastrar']."', '2', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '".$_SESSION['cliente']['id']."', '".$slug."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        $query = mysqli_query($con, $sql) or die(mysqli_error($con));
        $idProduto = mysqli_insert_id($con);
        if ($_REQUEST['numDescricoesCadastrarProduto']){
            $sql = "DELETE FROM products_descriptions WHERE product = '".$idProduto."'";
            mysqli_query($con, $sql);
            for($i = 1; $i <= $_REQUEST['numDescricoesCadastrarProduto']; $i++){
                $sql = ("INSERT products_descriptions (num, type, text, product, created_at, updated_at) VALUES ('".$i."', '".$_REQUEST['tipoDescricao'.$i.'ProdutoCadastrar']."', '".$_REQUEST['descricao'.$i.'ProdutoCadastrar']."', '".$idProduto."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                mysqli_query($con, $sql);
            }
        } 
        $sql = "DELETE FROM products_categories WHERE product = '".$idProduto."'";
        mysqli_query($con, $sql);
        $sql = "INSERT INTO products_categories (product, categorie, created_at, updated_at) VALUES ('".$idProduto."', '".$_REQUEST['categoriasProdutoCadastrar']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $sql = "INSERT INTO products_categories (product, categorie, created_at, updated_at) VALUES ('".$idProduto."', '".$_REQUEST['subcategoriaProdutoCadastrar']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $sql = "DELETE FROM products_brands WHERE product = '".$idProduto."'";
        mysqli_query($con, $sql);        
        if ($_REQUEST['marcaProdutoCadastrar']){
            $sql = "INSERT INTO products_brands (product, brand, created_at, updated_at) VALUES ('".$idProduto."', '".$_REQUEST['marcaProdutoCadastrar']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql) or die(mysqli_error($con));
        }
        $sql = "DELETE FROM products_suggestions WHERE product = '".$idProduto."'";
        mysqli_query($con, $sql);
        $sql = "SELECT * FROM suggestions";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                if ($_REQUEST['sugestaoProdutoCadastrar'.$row['id']] == 'on'){
                    $sql = "INSERT INTO products_suggestions (product, suggestion, created_at, updated_at) VALUES ('".$idProduto."', '".$row['id']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                    mysqli_query($con, $sql) or die(mysqli_error($con));
                }
            }
        }
        $sql = "DELETE FROM products_relationships WHERE product = '".$idProduto."'";
        mysqli_query($con, $sql);
        $sql = "SELECT * FROM relationships";
        $query = mysqli_query($con, $sql) or die(mysqli_error($con));
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                if ($_REQUEST['relacionamentosProdutoCadastrar'.$row['id']] == 'on'){
                    $sql = "INSERT INTO products_relationships (product, relationship, created_at, updated_at) VALUES ('".$idProduto."', '".$row['id']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                    mysqli_query($con, $sql) or die(mysqli_error($con));
                }
            }
        }
        $sql = "DELETE FROM products_stamps WHERE product = '".$idProduto."'";
        mysqli_query($con, $sql);
        $sql = "SELECT * FROM stamps";
        $query = mysqli_query($con, $sql) or die(mysqli_error($con));
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                if ($_REQUEST['seloProdutoCadastrar'.$row['id']] == 'on'){
                    $sql = "INSERT INTO products_stamps (product, stamp, created_at, updated_at) VALUES ('".$idProduto."', '".$row['id']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                    mysqli_query($con, $sql) or die(mysqli_error($con));
                }
            }
        }
        $sql = "DELETE FROM products_attributes WHERE product = '".$idProduto."'";
        mysqli_query($con, $sql);
        $sql = "SELECT * FROM attributes WHERE idPai = '0'";
        $query = mysqli_query($con, $sql) or die(mysqli_error($con));
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                if ($_REQUEST['atributosProdutoCadastrar'.$row['id']] == 'on'){
                    $sql = "INSERT INTO products_attributes (product, attribute, created_at, updated_at) VALUES ('".$idProduto."', '".$row['id']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                    mysqli_query($con, $sql) or die(mysqli_error($con));
                }
            }
        }
        $sql = "SELECT * FROM products_images WHERE product = '".$idProduto."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                unlink(DIRETORIO."storage/".$row['img']);
            }
        }
        $sql = "DELETE FROM products_images WHERE product = '".$idProduto."'";
        mysqli_query($con, $sql);
        $sql = "DELETE FROM products_items WHERE product = '".$idProduto."'";
        mysqli_query($con, $sql);
        for ($i = 1; $i <= $_REQUEST['qualEstaEstoque']; $i++){
            if ($_REQUEST['codigoItemProdutoCadastrar'.$i] && $_REQUEST['nomeItemProdutoCadastrar'.$i] && $_REQUEST['valorItemProdutoCadastrar'.$i]){
                $_REQUEST['valorItemProdutoCadastrar'.$i] = str_replace('.', '', $_REQUEST['valorItemProdutoCadastrar'.$i]);
                $_REQUEST['valorItemProdutoCadastrar'.$i] = str_replace(',', '.', $_REQUEST['valorItemProdutoCadastrar'.$i]);
                $_REQUEST['promocaoItemProdutoCadastrar'.$i] = str_replace('.', '', $_REQUEST['promocaoItemProdutoCadastrar'.$i]);
                $_REQUEST['promocaoItemProdutoCadastrar'.$i] = str_replace(',', '.', $_REQUEST['promocaoItemProdutoCadastrar'.$i]);
                $sql = ("INSERT INTO products_items (product, code, name, value, promotion, validity_promotion, status, estoque, ");
                for($j = 1; $j <= 10; $j++){
                    $sql .= "attribute".$j.", ";
                    $_REQUEST['tipoAtributo'.$j.$i] = ($_REQUEST['tipoAtributo'.$j.$i]) ? $_REQUEST['tipoAtributo'.$j.$i] : "0";
                } 
                $sql .= ("created_at, updated_at) VALUES ('".$idProduto."', '".$_REQUEST['codigoItemProdutoCadastrar'.$i]."', '".$_REQUEST['nomeItemProdutoCadastrar'.$i]."', '".$_REQUEST['valorItemProdutoCadastrar'.$i]."', '".$_REQUEST['promocaoItemProdutoCadastrar'.$i]."', '".$_REQUEST['validadePromocaoItemProdutoCadastrar'.$i]."', '1', '".$_REQUEST['estoqueItemProdutoCadastrar'.$i]."', ");
                for($j = 1; $j <= 10; $j++){
                    $sql .= "'".$_REQUEST['tipoAtributo'.$j.$i]."', ";
                }
                $sql .= "'".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql) or die(mysqli_error($con));
                $idItemProduto = mysqli_insert_id($con);
                for ($j = 1; $j <= $_REQUEST['qualEstaImagem']; $j++){
                    if ($_REQUEST['nomeFotoCadastrar'.$j]){
                        $sql = "INSERT INTO products_images (product, product_item, name, status, created_at, updated_at) VALUES ('".$idProduto."', '".$idItemProduto."', '".$_REQUEST['nomeFotoCadastrar'.$j]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                        $query = mysqli_query($con, $sql);
                        $_REQUEST['id'] = mysqli_insert_id($con);
                        if ($_FILES['imagemCadastrar'.$j]['error'] == 0 && $_FILES['imagemCadastrar'.$j]['tmp_name']){
                            if(preg_match("/.jpg/", $_FILES['imagemCadastrar'.$j]['name'])){
                                $img = "produto".$idProduto."_".$_REQUEST['id'].".jpg";
                            }
                            elseif(preg_match("/.jpeg/", $_FILES['imagemCadastrar'.$j]['name'])){
                                $img = "produto".$idProduto."_".$_REQUEST['id'].".jpeg";
                            }
                            elseif(preg_match("/.gif/", $_FILES['imagemCadastrar'.$j]['name'])){
                                $img = "produto".$idProduto."_".$_REQUEST['id'].".gif";
                            }
                            elseif(preg_match("/.png/", $_FILES['imagemCadastrar'.$j]['name'])){
                                $img = "produto".$idProduto."_".$_REQUEST['id'].".png";
                            }
                            elseif(preg_match("/.bmp/", $_FILES['imagemCadastrar'.$j]['name'])){
                                $img = "produto".$idProduto."_".$_REQUEST['id'].".bmp";
                            }
                            elseif(preg_match("/.svg/", $_FILES['imagemCadastrar'.$j]['name'])){
                                $img = "produto".$idProduto."_".$_REQUEST['id'].".svg";
                            }
                            elseif(preg_match("/.webp/", $_FILES['imagemCadastrar'.$j]['name'])){
                                $img = "produto".$idProduto."_".$_REQUEST['id'].".webp";
                            }
                            if ($img) {
                                copy($_FILES['imagemCadastrar'.$j]['tmp_name'], DIRETORIO."storage/".$img);
                                $sql = "UPDATE products_images SET img = '".$img."' WHERE id = '".$_REQUEST['id']."'";
                                mysqli_query($con, $sql);
                            }
                        }
                    }
                }
            }
        }
        $sql = "DELETE FROM products_videos WHERE product = '".$idProduto."'";
        mysqli_query($con, $sql);
        for($i = 1; $i <= $_REQUEST['qualEstaVideos']; $i++){
            if ($_REQUEST['nomeVideoCadastrar'.$i] && $_REQUEST['vCadastrar'.$i]){
                $sql = "INSERT INTO products_videos (product, name, v, status, created_at, updated_at) VALUES ('".$idProduto."', '".$_REQUEST['nomeVideoCadastrar'.$i]."', '".$_REQUEST['vCadastrar'.$i]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql) or die (mysqli_error($con));
            }
        }
        echo "1|-|".$idProduto;
        break;
    case "listarPedidosComMeusProdutos":
        $sql = "SELECT a.*, d.name AS nomeCliente, e.nomeFantasia, e.contato, f.name AS nomeStatus, f.color, f.background, g.name AS nomeFormaPagamento
        FROM requests a
        INNER JOIN requests_items b ON (a.id = b.request)
        INNER JOIN products c ON (b.product = c.id)
        LEFT JOIN pessoa_fisicas d ON (a.client = d.client)
        LEFT JOIN pessoa_juridicas e ON (a.client = e.client)
        INNER JOIN requests_statuses f ON (a.status = f.id)
        INNER JOIN payment_methods g ON (a.paymentMethod = g.id)
        WHERE c.client = '".$_SESSION['cliente']['id']."'
        GROUP BY a.id
        ORDER BY a.id DESC";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $html .= "<div class='col-6' style='background-color:".$row['background']."; color: ".$row['color']."; float:left; padding:15px; border-radius:10px; cursor:pointer; height:300px' onclick=location.href='".URL."pagina/ver-pedido/".base64_encode($row['id'])."'><h7>Pedido ".sprintf("%012s", $row['id'])."</h7><p><b>Status do Pedido: </b>".($row['nomeStatus'])."<br><b>Valor do Pedido: </b>R$".number_format($row['valueTotal'], 2, ',', '.')."<br><b>Nome do Cliente: </b>";
                if ($row['nomeCliente']){
                    $html .= ($row['nomeCliente']);
                }
                else{
                    $html .= ($row['nomeFantasia']." - ".$row['contato']);
                }
                $html .= "<br><b>Forma de Pagamento: </b>".($row['nomeFormaPagamento'])."</p></div>";
            }
        }
        else{
            $html = "<div class='btn btn-danger'>Não foi encontrado nenhum pedido com produto seu</div>";
        }
        echo "1|-|".$html;
        break;
    case "listarComentariosDeProdutos":
        $sql = "SELECT * FROM clients WHERE id = '".$_SESSION['cliente']['id']."'";
        $query2 = mysqli_query($con, $sql);
        if (mysqli_num_rows($query2)){
            $row = mysqli_fetch_array($query2);
            $sql = "SELECT a.*, b.name AS nomeProduto, b.id AS idProduto, b.slug AS urlProduto
            FROM products_reviews a INNER JOIN products b ON (a.product = b.id)
            WHERE a.email = '".$row['email']."'
            ORDER BY a.created_at DESC";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                while ($row = mysqli_fetch_array($query)){
                    $html .= "<div style='width:100%; padding:15px; border:1px solid #000000; border-radius:10px;'>";
                    $html .= "<b>Produto: </b><a href='".URL."produto/".$row['urlProduto']."'>".($row['nomeProduto'])."</a><br>";
                    $html .= "<b>Avaliação: </b>";
                    for ($i = 1; $i <= $row['avaliacao']; $i++){
                        $html .= "<img src='".URL."img/star.png' title='Avaliado em ".$row['avaliacao']." estrela";
                        if ($row['avaliacao'] > 1){
                            $html .= "s";
                        }
                        $html .= "'> ";
                    }
                    if ($i <= 5){
                        for ($i = $i; $i <= 5; $i++){
                            $html .= "<img src='".URL."img/starApagada.png' title='Avaliado em ".$row['avaliacao']." estrela";
                            if ($row['avaliacao'] > 1){
                                $html .= "s";
                            }
                            $html .= "'> ";
                        }
                    }
                    $html .= "<br>";
                    $html .= "<b>Mensagem: </b><p>".nl2br(($row['mensagem']))."</p><br>";
                    $html .= "<img src='".URL."img/editar.svg' width='25' title='Editar Comentário' style='cursor:pointer' onclick=editarComentariosProduto('".$row['id']."','".URL."','".$_SESSION['cliente']['id']."')> <img src='".URL."img/excluir.svg' width='25' style='cursor:pointer' title='Excluir Comentário' onclick=excluirComentarioProduto('".$row['id']."','".URL."','".$_SESSION['cliente']['id']."')>";
                    $html .= "<div style='position:absolute; width:100%; display:none; color:#000000; border:1px solid #e7e7e7; border-radius:25px; padding:5px; background-color:#FFFFFF' id='editaComentariosProduto".$row['id']."'><div style='position:absolute; float:left; left:92%'><img src='".URL."img/close.png' style='cursor:pointer' onclick=fecha('editaComentariosProduto".$row['id']."') width='25'></div>";
                    $html .= "<h3>Solicitação de edição de comentário</h3>";
                    $html .= "<p><b>Avaliação: </b><span id='avaliacaoComentariosProduto".$row['id']."'>";
                    for ($i = 1; $i <= $row['avaliacao']; $i++){
                        $html .= "<img src='".URL."img/star.png' title='Avaliado em ".$row['avaliacao']." estrela";
                        if ($row['avaliacao'] > 1){
                            $html .= "s";
                        }
                        $html .= "' style='cursor:pointer' onclick=mudaAvaliacaoComentarioProduto('".$row['id']."','".$i."','".URL."')> ";
                    }
                    if ($i <= 5){
                        for ($i = $i; $i <= 5; $i++){
                            $html .= "<img src='".URL."img/starApagada.png' title='Avaliado em ".$row['avaliacao']." estrela";
                            if ($row['avaliacao'] > 1){
                                $html .= "s";
                            }
                            $html .= "' style='cursor:pointer' onclick=mudaAvaliacaoComentarioProduto('".$row['id']."','".$i."','".URL."')> ";
                        }
                    }
                    $html .= "</span><input type='hidden' value='".$row['avaliacao']."' name='avaliacao".$row['id']."' id='avaliacao".$row['id']."'></p>";
                    $html .= "<b>Mensagem: </b> <textarea name='mensagemAvaliacao".$row['id']."' id='mensagemAvaliacao".$row['id']."' class='form-control' rows='10'>".str_replace("<br>", "\r\n", ($row['mensagem']))."</textarea>";
                    $html .= "<center><input type='button' class='btn btn-primary' value='Solicitar Alteração' onclick=solicitarAlteracaoComentario('".$row['id']."','".URL."','".$_SESSION['cliente']['id']."')> <input type='button' class='btn btn-danger' value='Fechar' onclick=fecha('editaComentariosProduto".$row['id']."')></center>";
                    $html .= "</div>";
                    $html .= "</div>";
                }
            }
            else{
                $html = "<div class='btn btn-danger'>Não foi encontrado nenhum comentário de produto seu</div>";
            }
            echo "1|-|".$html;
        }
        else{
            echo "0|-|Você não está logado no site. Se logue no site primeiro depois tente acessar essa página novamente!";
        }
        break;
    case "excluirComentarioProduto":
        $sql = "DELETE FROM products_reviews WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        $sql = "INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_REQUEST['idCliente']."', 'Excluiu o comentário de produto número ".$_REQUEST['id']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);        
        echo "1";
        break;
    case "listarComentariosDeFeriados":
        $sql = "SELECT a.*, b.name AS nomeFeriado, b.date AS dataFeriado
        FROM holidays_coments a INNER JOIN holidays b ON (a.holiday = b.id)
        WHERE a.client = '".$_SESSION['cliente']['id']."' AND b.date LIKE '".$_REQUEST['anoFiltro']."%'
        ORDER BY b.date DESC, a.created_at DESC";
        $query = mysqli_query($con, $sql);
        $html = "
        <div style='text-align:center'>
            <a class='btn btn-primary' onclick=abreFecha('cadastrarComentarioFeriado');cadastrarComentarioFeriado('".URL."');>Cadastrar Novo</a>
            <button type='button' class='btn btn-danger' data-bs-dismiss='modal' aria-label='Close' aria-hidden='true'>Fechar</button>
        </div>
        <div id='cadastrarComentarioFeriado' style='display:none; position:absolute; border:1px solid #000000; border-radius:15px; background-color:#FFFFFF; width:100%; text-align:center; padding:5px'>
            <div style='position:absolute; float:left; left:92%'><img src='".URL."img/close.png' style='cursor:pointer' onclick=fecha('cadastrarComentarioFeriado')></div>
            <h3>Cadastrar Comentário de Feriado</h3>
            <label for='feriadoCadastroComentarioFeriado'>Feriado: </label>
            <select name='feriadoCadastroComentarioFeriado' id='feriadoCadastroComentarioFeriado' class='form-control' onchange=selecionaFeriadoCadastroComentarioFeriado()>
                <option value=''>Selecione o feriado abaixo corretamente...</option>
                ";
                $sql = "SELECT * FROM holidays WHERE date LIKE '".$_REQUEST['anoFiltro']."%' ORDER BY date ASC";
                $query2 = mysqli_query($con, $sql);
                if (mysqli_num_rows($query2)){
                    while ($row2 = mysqli_fetch_array($query2)){
                        $html .= "<option value='".$row2['id']."'>".($row2['name'])." - ".date('d/m/Y', strtotime($row2['date']))."</option>";
                    }
                }
                $html .= "
            </select>
            <div id='msgFeriadoCadastroComentarioFeriado' style='position:absolute; border:1px solid #FF0000; width:100%; color:#FFFFFF; padding:5px; background-color: #FF0000; display:none; font-size:8px; font-weigth: bold; border-radius:15px'><div style='position:absolute; float:left; left:90%'><img src='".URL."img/fechar.png' width='25' style='cursor:pointer' title='Fechar Informe' onclick=fecha('msgFeriadoCadastroComentarioFeriado')></div><h5>Informe o feriado para continuar!</h5></div>
            <label for='avaliacaoCadastroComentarioFeriado'>Avaliação: </label>
            <input type='hidden' name='avaliacaoCadastroComentarioFeriado' id='avaliacaoCadastroComentarioFeriado' value='0'>
            <span id='estrelasCadastroComentarioFeriado'>";
            for($i = 1; $i <= 5; $i++){
                $html .= "<img src='".URL."img/starApagada.png' width='20' title='Nota ".$i."' style='cursor:pointer' onclick=selecionaEstrelasCadastroComentarioFeriado('".$i."','".URL."')> ";
            }
            $html .= "
            </span><br>
            <div id='msgSelecionarEstrelasCadastroComentarioFeriado' style='position:absolute; border:1px solid #FF0000; width:100%; color:#FFFFFF; padding:5px; background-color: #FF0000; display:none; font-size:8px; font-weigth: bold; border-radius:15px'><div style='position:absolute; float:left; left:90%'><img src='".URL."img/fechar.png' width='25' style='cursor:pointer' title='Fechar Informe' onclick=fecha('msgSelecionarEstrelasCadastroComentarioFeriado')></div><h5>Informe a avaliação para continuar!</h5></div>
            <label for='comentarioCadastroComentarioFeriado'>Comentário: </label>
            <textarea name='comentarioCadastroComentarioFeriado' id='comentarioCadastroComentarioFeriado' class='form-control' placeholder='Informe o comentário do feriado corretamente...' onkeyup=selecionaComentarioCadastroComentarioFeriado()></textarea>
            <div id='msgComentarioCadastroComentarioFeriado' style='position:absolute; border:1px solid #FF0000; width:100%; color:#FFFFFF; padding:5px; background-color: #FF0000; display:none; font-size:8px; font-weigth: bold; border-radius:15px'><div style='position:absolute; float:left; left:90%'><img src='".URL."img/fechar.png' width='25' style='cursor:pointer' title='Fechar Informe' onclick=fecha('msgComentarioCadastroComentarioFeriado')></div><h5>Informe o comentário para continuar!</h5></div>
            <input type='button' class='btn btn-primary' value='Cadastrar' onclick=verificaCadastroComentarioFeriado('".URL."')>
            <input type='button' class='btn btn-danger' value='Fechar' onclick=fecha('cadastrarComentarioFeriado')>
        </div>
        <div id='editarComentarioFeriado' style='display:none; position:absolute; border:1px solid #000000; border-radius:15px; background-color:#FFFFFF; width:100%; text-align:center; padding:5px'>
            <div style='position:absolute; float:left; left:92%'><img src='".URL."img/close.png' style='cursor:pointer' onclick=fecha('editarComentarioFeriado')></div>
            <h3>Editar Comentário de Feriado</h3>
            <input id='idEdicaoComentarioFeriado' name='idEdicaoComentarioFeriado' value='Aguarde... Carregando' type='hidden'>
            <label for='feriadoEdicaoComentarioFeriado'>Feriado: </label> <b id='feriadoEdicaoComentarioFeriado'></b><br>
            <label for='avaliacaoEdicaoComentarioFeriado'>Avaliação: </label>
            <input type='hidden' name='avaliacaoEdicaoComentarioFeriado' id='avaliacaoEdicaoComentarioFeriado' value='0'>
            <span id='estrelasEdicaoComentarioFeriado'>";
            for($i = 1; $i <= 5; $i++){
                $html .= "<img src='".URL."img/starApagada.png' width='20' title='Nota ".$i."' style='cursor:pointer' onclick=selecionaEstrelasEdicaoComentarioFeriado('".$i."','".URL."')> ";
            }
            $html .= "
            </span><br>
            <label for='comentarioEdicaoComentarioFeriado'>Comentário: </label>
            <textarea name='comentarioEdicaoComentarioFeriado' id='comentarioEdicaoComentarioFeriado' class='form-control' onkeyup=verificaComentarioEdicaoComentarioFeriado() placeholder='Informe o comentário do feriado corretamente...'>Aguarde... Carregando...</textarea>
            <div id='msgComentarioEdicaoComentarioFeriado' style='position:absolute; border:1px solid #FF0000; width:100%; color:#FFFFFF; padding:5px; background-color: #FF0000; display:none; font-size:8px; font-weigth: bold; border-radius:15px'><div style='position:absolute; float:left; left:90%'><img src='".URL."img/fechar.png' width='25' style='cursor:pointer' title='Fechar Informe' onclick=fecha('msgComentarioEdicaoComentarioFeriado')></div><h5>Informe o comentário para continuar!</h5></div>
            <input type='button' class='btn btn-primary' value='Editar' onclick=verificaEdicaoComentarioFeriado('".URL."')>
            <input type='button' class='btn btn-danger' value='Fechar' onclick=fecha('editarComentarioFeriado')>
        </div>";
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $html .= "<div style='width:100%; padding:15px; border:1px solid #000000; border-radius:10px;'>";
                $html .= "<b>Nome / Data do Feriado: </b>".($row['nomeFeriado'])." / ".date('d/m/Y', strtotime($row['dataFeriado']))."<br>";
                $html .= "<b>Avaliação: </b>";
                for ($i = 1; $i <= $row['avaliacao']; $i++){
                    $html .= "<img src='".URL."img/star.png' title='Avaliado em ".$row['avaliacao']." estrela";
                    if ($row['avaliacao'] > 1){
                        $html .= "s";
                    }
                    $html .= "'> ";
                }
                if ($i <= 5){
                    for ($i = $i; $i <= 5; $i++){
                        $html .= "<img src='".URL."img/starApagada.png' title='Avaliado em ".$row['avaliacao']." estrela";
                        if ($row['avaliacao'] > 1){
                            $html .= "s";
                        }
                        $html .= "'> ";
                    }
                }
                $html .= "<br>";
                $html .= "<b>Comentário: </b><p>".nl2br(($row['coment']))."</p><br>";
                $status = ($row['status'] == 1) ? "<span style='color:#999900; font-weight:bold'>Pendente</span>" : "<span style='color:#000033; font-weight:bold'>Aprovado</span>";
                $html .= "<b>Status do Comentário: </b><p>".$status."</p><br>";
                $html .= "<img src='".URL."img/editar.svg' width='25' title='Editar Comentário' style='cursor:pointer' onclick=editarComentariosFeriados('".$row['id']."','".URL."','".$_SESSION['cliente']['id']."')> <img src='".URL."img/excluir.svg' width='25' style='cursor:pointer' title='Excluir Comentário' onclick=excluirComentariosFeriados('".$row['id']."','".URL."','".$_SESSION['cliente']['id']."')>";
                $html .= "<div style='position:absolute; width:100%; display:none; color:#000000; border:1px solid #e7e7e7; border-radius:25px; padding:5px; background-color:#FFFFFF' id='editaComentariosProduto".$row['id']."'><div style='position:absolute; float:left; left:92%'><img src='".URL."img/close.png' style='cursor:pointer' onclick=fecha('editaComentariosProduto".$row['id']."') width='25'></div>";
                $html .= "<h3>Solicitação de edição de comentário</h3>";
                $html .= "<p><b>Avaliação: </b><span id='avaliacaoComentariosProduto".$row['id']."'>";
                for ($i = 1; $i <= $row['avaliacao']; $i++){
                    $html .= "<img src='".URL."img/star.png' title='Avaliado em ".$row['avaliacao']." estrela";
                    if ($row['avaliacao'] > 1){
                        $html .= "s";
                    }
                    $html .= "' style='cursor:pointer' onclick=mudaAvaliacaoComentarioProduto('".$row['id']."','".$i."','".URL."')> ";
                }
                if ($i <= 5){
                    for ($i = $i; $i <= 5; $i++){
                        $html .= "<img src='".URL."img/starApagada.png' title='Avaliado em ".$row['avaliacao']." estrela";
                        if ($row['avaliacao'] > 1){
                            $html .= "s";
                        }
                        $html .= "' style='cursor:pointer' onclick=mudaAvaliacaoComentarioProduto('".$row['id']."','".$i."','".URL."')> ";
                    }
                }
                $html .= "</span><input type='hidden' value='".$row['avaliacao']."' name='avaliacao".$row['id']."' id='avaliacao".$row['id']."'></p>";
                $html .= "<b>Mensagem: </b> <textarea name='mensagemAvaliacao".$row['id']."' id='mensagemAvaliacao".$row['id']."' class='form-control' rows='10'>".str_replace("<br>", "\r\n", ($row['mensagem']))."</textarea>";
                $html .= "<center><input type='button' class='btn btn-primary' value='Solicitar Alteração' onclick=solicitarAlteracaoComentario('".$row['id']."','".URL."','".$_SESSION['cliente']['id']."')> <input type='button' class='btn btn-danger' value='Fechar' onclick=fecha('editaComentariosProduto".$row['id']."')></center>";
                $html .= "</div>";
                $html .= "</div>";
            }
            $html .= "<div style='text-align:center'><a class='btn btn-primary' onclick=abreFecha('cadastrarComentarioFeriado');cadastrarComentarioFeriado('".URL."');>Cadastrar Novo</a> <button type='button' class='btn btn-danger' data-bs-dismiss='modal' aria-label='Close' aria-hidden='true'>Fechar</button></div>";
        }
        else{
            $html = "<div class='btn btn-danger'>Não foi encontrado nenhum comentário de feriado seu</div>";
        }
        echo "1|-|".$html;
        break;
    case "editarPedido":
        $sql = "SELECT * FROM requests WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        if ($_REQUEST['numProdutosE'] != $_REQUEST['numProdutos']){
            if ($_REQUEST['formaPagamentoE']){
                $_REQUEST['formaPagamento'] = $_REQUEST['formaPagamentoE'];
            }
            if ($_REQUEST['statusE']){
                $_REQUEST['status'] = $_REQUEST['statusE'];
            }
            if ($_REQUEST['idEnderecoE']){
                $_REQUEST['idEndereco'] = $_REQUEST['idEnderecoE'];
            }
        }
        if ($row['status'] != $_REQUEST['status']){
            $sql = "SELECT * FROM requests_statuses WHERE id = '".$_REQUEST['status']."'";
            $query = mysqli_query($con, $sql);
            $rowStatus = mysqli_fetch_array($query);
            if ($rowStatus['send_email'] == 1){
                $sql = "SELECT a.*, b.name AS nomeCliente, c.nomeFantasia, c.contato FROM clients a LEFT JOIN pessoa_fisicas b ON (a.id = b.client) LEFT JOIN pessoa_juridicas c ON (a.id = c.client) WHERE a.id = '".$row['client']."'";
                $query = mysqli_query($con, $sql);
                $rowCliente = mysqli_fetch_array($query);
                $nomeEmail = ($rowCliente['nomeCliente']) ? $rowCliente['nomeCliente'] : $rowCliente['nomeFantasia']." - ".$rowCliente['contato'];
                $htmlEmail = "<html>
                    <head>
                        <title>Sistema de Teste Gosat - Pedido ".sprintf("%012s", $_REQUEST['id'])." alterado para ".$rowStatus['name']."</title>
                    </head>
                    <body>
                    <h3>Sistema de Teste Gosat - Pedido ".sprintf("%012s", $_REQUEST['id'])." alterado para ".$rowStatus['name']."</h3>
                    <p>".str_replace("##numPedido##", sprintf("%012s", $_REQUEST['id']), str_replace("##dataHora##", date("d/m/Y às H:i:s"), str_replace("##linkAcompanha##", 'https://rastreamento.correios.com.br/app/index.php', str_replace("##nomeCliente##", $nomeEmail, str_replace("##nomeSite##", $parametrosSite['title'], nl2br($rowStatus['email']))))))."<hr noshade><center>Email desenvolvido pela <a href='https://www.bhcommerce.com.br'>BH Commerce</a></center><hr noshade></p>
                    </body>
                </html>";
                $assunto = $parametrosSite['title']." - Pedido ".sprintf("%012s", $_REQUEST['id'])." alterado para ".$rowStatus['name'];
                $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";     
                //mail(utf8_decode($nomeEmail."<".$rowCliente['email'].">"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
                enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $rowCliente['email'], utf8_decode($nomeEmail), utf8_decode($assunto), utf8_decode($htmlEmail));
            }
        }
        if ($row['codRastreamento'] != $_REQUEST['codRastreamento'] && $_REQUEST['codRastreamento']){
                $sql = "SELECT a.*, b.name AS nomeCliente, c.nomeFantasia, c.contato FROM clients a LEFT JOIN pessoa_fisicas b ON (a.id = b.client) LEFT JOIN pessoa_juridicas c ON (a.id = c.client) WHERE a.id = '".$row['client']."'";
                $query = mysqli_query($con, $sql);
                $rowCliente = mysqli_fetch_array($query);
                $nomeEmail = ($rowCliente['nomeCliente']) ? $rowCliente['nomeCliente'] : $rowCliente['nomeFantasia']." - ".$rowCliente['contato'];
                $htmlEmail = "<html>
                    <head>
                        <title>Sistema de Teste Gosat - Pedido ".sprintf("%012s", $_REQUEST['id'])." - Envio do código de rastreamento</title>
                    </head>
                    <body>
                    <h3>Sistema de Teste Gosat - Pedido ".sprintf("%012s", $_REQUEST['id'])." - Envio do código de Rastreamento</h3>
                    <p>Olá ".$nomeEmail.",<br><br>Informamos que o seu pedido número ".sprintf("%012s", $_REQUEST['id'])." acaba de ganhar um número de rastreamento. Para rastrear o seu pedido, <a href='".URL_SITE."pagina/rastreio-de-encomendas?codigo=".$_REQUEST['codRastreamento']."'>clique aqui</a> ou entre em nosso site, se logue e na central do cliente clique em meus pedidos. Depois clique em cima do pedido de número ".sprintf("%012s", $_REQUEST['id']).". Aí clique em Clique aqui no .<br><br>Atenciosamente,<br><br>Equipe Sistema de Teste Gosat<hr noshade><center>Email desenvolvido pela <a href='https://www.bhcommerce.com.br'>BH Commerce</a></center><hr noshade></p>
                    </body>
                </html>";
                $assunto = $parametrosSite['title']." - Pedido ".sprintf("%012s", $_REQUEST['id'])." - Envio do código de rastreamento";
                $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";     
                //mail(utf8_decode($nomeEmail."<".$rowCliente['email'].">"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
                enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $rowCliente['email'], utf8_decode($nomeEmail), utf8_decode($assunto), utf8_decode($htmlEmail));
        }
        $sql = "UPDATE requests SET paymentMethod = '".$_REQUEST['formaPagamento']."', status = '".$_REQUEST['status']."', address = '".$_REQUEST['idEndereco']."', codRastreamento = '".$_REQUEST['codRastreamento']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        $i = 0;
        if (($_REQUEST['numProdutos'] == $_REQUEST['numProdutosE'] || $_REQUEST['numProdutos'] == $_REQUEST['numProdutosNao']) && ($_REQUEST['numProdutosE'] || $_REQUEST['numProdutosNao'])){
            $sql = "UPDATE requests_items SET paymentMethod = '".$_REQUEST['formaPagamento']."', status = '".$_REQUEST['status']."', codRastreamento = '".$_REQUEST['codRastreamento']."', address = '".$_REQUEST['idEndereco']."' WHERE request = '".$_REQUEST['id']."'";
            mysqli_query($con, $sql);
        }
        else{
            $sql = "SELECT a.*, b.client AS idClienteVendeu FROM requests_items a INNER JOIN products b ON (a.product = b.id) WHERE a.request = '".$row['id']."'";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                $i = 0;
                while ($rowItems = mysqli_fetch_array($query)){
                    $i++;
                    if ($rowItems['idClienteVendeu'] == $_SESSION['cliente']['id']){
                        $sql = "UPDATE requests_items SET ";
                        if ($_REQUEST['formaPagamento'.$i]){
                            $sql .= "paymentMethod = '".$_REQUEST['formaPagamento'.$i]."', ";
                        }
                        if ($_REQUEST['status'.$i]){
                            $sql .= "status = '".$_REQUEST['status'.$i]."', ";
                        }
                        $sql .= "codRastreamento = '".$_REQUEST['codRastreamento'.$i]."'";
                        if ($_REQUEST['idEndereco'.$i]){
                            $sql .= ", address = '".$_REQUEST['idEndereco'.$i]."'";
                        }
                        $sql .= " WHERE id = '".$_REQUEST['idItem'.$i]."'";
                        mysqli_query($con, $sql) or die(mysqli_error($con));
                        if ($_REQUEST['codRastreamento'.$i] && $_REQUEST['codRastreamento'.$i] != $rowItems['codRastreamento']){
                            $sql = "SELECT a.*, b.name AS nomeCliente, c.nomeFantasia, c.contato FROM clients a LEFT JOIN pessoa_fisicas b ON (a.id = b.client) LEFT JOIN pessoa_juridicas c ON (a.id = c.client) WHERE a.id = '".$row['client']."'";
                            $query = mysqli_query($con, $sql);
                            $rowCliente = mysqli_fetch_array($query);
                            $paraNome3 = ($rowCliente['nomeCliente']) ? $rowCliente['nomeCliente'] : $rowCliente['nomeFantasia']." - ".$rowCliente['contato'];
                            $paraEmail = $rowCliente['email'];
                            $assunto = $parametrosSite['title']." - Email de aviso de inserção de código de rastreamento do pedido ".sprintf("%012s", $row['id']);
                            $htmlEmail = "<html><head><title> Email de aviso de inserção de código de rastreamento do pedido ".sprintf("%012s", $row['id'])."</title></head><body>
                            <table border='0' width='100%'>
                                <tr>
                                    <td valign='top' width='150'><img src='".URL."img/logo.png' width='150'></td>
                                    <td>Olá ".$paraNome3.",<br><br>Informamos que foi adicionado um código de rastreo ao seu pedido ".sprintf("%012s", $row['id'])."<br><br>Para acompanhar o seu pedido, <a href='".URL_SITE."pagina/rastreio-de-encomendas?codigo=".$_REQUEST['codRastreamento'.$i]."'>clique aqui</a>, ou vá até a sua central do clicando, se logando em nosso site, e clique em pedidos. Depois é só clicar em cima do pedido ".sprintf("%012s", $row['id']).". Aí basta clicar em cima de rastrear pedido para acompanhar os dados do pedido.<br><br>Atenciosamente,<br><br>Equipe Loja Virtual da BH Commerce<hr noshade><center>Email desenvolvido pela <a href='https://www.bhcommerce.com.br'>BH Commerce</a></center><hr noshade></td></td></tr></table></body></html>";
                            $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                            $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
                            enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $paraEmail, utf8_decode($paraNome3), utf8_decode($assunto), utf8_decode($htmlEmail));
                            //mail(utf8_decode($paraNome3."<".$paraEmail.">"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
                            echo $htmlEmail;
                        }
                    }
                }
            }
        }
        echo "1";
        break;
    case "selecionarEndereco":
        $sql = "SELECT a.*, b.name AS nomePais FROM addresses a INNER JOIN countries b ON (a.country = b.id) WHERE a.id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        echo "1|-|".$row['name']."|-|".$row['address']."|-|".$row['number']."|-|".$row['complement']."|-|".$row['neighborhood']."|-|".$row['city']."|-|".$row['state']."|-|".$row['cep']."|-|".$row['nomePais'];
        break;
    case "pedidosProdutoCadastrado":
        $sql = "SELECT a.*, d.color, d.background, d.name AS nomeStatus, e.name AS nomeCliente, f.nomeFantasia, f.contato, g.name AS nomeFormaPagamento 
        FROM requests a 
        INNER JOIN requests_items b ON (a.id = b.request) 
        INNER JOIN products c ON (b.product = c.id) 
        INNER JOIN requests_statuses d ON (a.status = d.id) 
        LEFT JOIN pessoa_fisicas e ON (c.client = e.client) 
        LEFT JOIN pessoa_juridicas f ON (c.client = f.client) 
        INNER JOIN payment_methods g ON (a.paymentMethod = g.id) 
        WHERE c.client = '".$_SESSION['cliente']['id']."' AND c.id = '".$_REQUEST['id']."' 
        GROUP BY a.id
        ORDER BY a.id DESC";
        $query = mysqli_query($con, $sql);
        $html = "<div style='position:absolute; float:left; left:90%; cursor:pointer' onclick=fecha('pedidosProdutosCadastrados".$_REQUEST['id']."')>&times;</div>";
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $html .= "<div style='background-color:".$row['background']."; color: ".$row['color']."; padding:15px; border-radius:10px; cursor:pointer' onclick=location.href='".URL."pagina/ver-pedido/".base64_encode($row['id'])."'><h3>Pedido ".sprintf("%012s", $row['id'])."</h3><p><b>Status do Pedido: </b>".($row['nomeStatus'])."<br><b>Valor do Pedido: </b>R$".number_format($row['valueTotal'], 2, ',', '.')."<br><b>Nome do Cliente: </b>";
                if ($row['nomeCliente']){
                    $html .= ($row['nomeCliente']);
                }
                $html .= "<br><b>Forma de Pagamento: </b>".($row['nomeFormaPagamento'])."</p></div>";
            }
        }
        else{
            $html .= "<div class='btn btn-danger'>Sem nenhum pedido encontrado com esse produto!</div>";
        }
        echo "1|-|".$html;
        break;
    case "excluirDescricaoProduto";
        $sql = "SELECT * FROM products_descriptions WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "DELETE FROM products_descriptions WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "addDescricaoCadastrarProduto":
        $html .= '<label for="tipoDescricao'.$_REQUEST['vaiPara'].'ProdutoCadastrar">* Tipo da Descrição '.$_REQUEST['vaiPara'].'</label>
        <select name="tipoDescricao'.$_REQUEST['vaiPara'].'ProdutoCadastrar" id="tipoDescricao'.$_REQUEST['vaiPara'].'ProdutoCadastrar" class="input-xlarge" style="width:100%">
            <option value="">Selecione o tipo da descrição abaixo...</option>
            <option value="h1">Título 1</option>
            <option value="h2">Título 2</option>
            <option value="h3">Título 3</option>
            <option value="h4">Título 4</option>
            <option value="h5">Título 5</option>
            <option value="p">Parágrafo</option>
        </select>
        <label for="descricao'.$_REQUEST['vaiPara'].'ProdutoCadastrar">* Descrição '.$_REQUEST['vaiPara'].'</label>
        <textarea name="descricao'.$_REQUEST['vaiPara'].'ProdutoCadastrar" id="descricao'.$_REQUEST['vaiPara'].'ProdutoCadastrar" class="input-xlarge" style="width:100%" placeholder="* Informe a descrição do produto '.$_REQUEST['vaiPara'].' aqui..."></textarea>
        <div id="descricoesCadastrarProduto'.$_REQUEST['vaiPara'].'"><a style="cursor:pointer" onclick=adicionarDescricaoCadastrarProduto("'.URL.'")><img src="'.URL.'img/plus.png" width="20"> Adicionar Descrição</a></div>';
        echo "1|-|".$html;
        break;
    case "editarProduto":
        $slugProduto = retirarAcentos($_REQUEST['nomeProdutoCadastrar']);
        $sql = ("UPDATE products SET name = '".$_REQUEST['nomeProdutoCadastrar']."', slug = '".$slugProduto."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idProdutoCadastrar']."'");
        mysqli_query($con, $sql);
        $sql = "DELETE FROM products_descriptions WHERE product = '".$_REQUEST['idProdutoCadastrar']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        if ($_REQUEST['numDescricoesCadastrarProduto']){
            for ($i = 1; $i <= $_REQUEST['numDescricoesCadastrarProduto']; $i++){
                $sql = ("INSERT INTO products_descriptions (product, num, text, type, created_at, updated_at) VALUES ('".$_REQUEST['idProdutoCadastrar']."', '".$i."', '".$_REQUEST['descricao'.$i."ProdutoCadastrar"]."', '".$_REQUEST['tipoDescricao'.$i."ProdutoCadastrar"]."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                mysqli_query($con, $sql)  or die(mysqli_error($con));
            }
        }
        $sql = "DELETE FROM products_categories WHERE product = '".$_REQUEST['idProdutoCadastrar']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "INSERT INTO products_categories (product, categorie, created_at, updated_at) VALUES ('".$_REQUEST['idProdutoCadastrar']."', '".$_REQUEST['categoriasProdutoCadastrar']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql)  or die(mysqli_error($con));
        $sql = "INSERT INTO products_categories (product, categorie, created_at, updated_at) VALUES ('".$_REQUEST['idProdutoCadastrar']."', '".$_REQUEST['subcategoriaProdutoCadastrar']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql)  or die(mysqli_error($con));
        $sql = "DELETE FROM products_brands WHERE product = '".$_REQUEST['idProdutoCadastrar']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        if ($_REQUEST['marcaoProdutoCadastrar']){
            $sql = "INSERT INTO products_brands (product, brand, created_at, updated_at) VALUES ('".$_REQUEST['idProdutoCadastrar']."', '".$_REQUEST['marcaoProdutoCadastrar']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql) or die(mysqli_error($con));
        } 
        $sql = "DELETE FROM products_attributes WHERE product = '".$_REQUEST['idProdutoCadastrar']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        for ($i = 1; $i <= 99999; $i++){
            if ($_REQUEST['atributosProdutoCadastrar'.$i]){
                $sql = "INSERT INTO products_attributes (product, attribute, created_at, updated_at) VALUES ('".$_REQUEST['idProdutoCadastrar']."', '".$i."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql) or die(mysqli_error($con));
            }   
        }
        $sql = "DELETE FROM products_suggestions WHERE product = '".$_REQUEST['idProdutoCadastrar']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        for ($i = 1; $i <= 9999; $i++){
            if ($_REQUEST['sugestaoProdutoCadastrar'.$i]){
                $sql = "INSERT INTO products_suggestions (product, suggestion, created_at, updated_at) VALUES ('".$_REQUEST['idProdutoCadastrar']."', '".$i."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql) or die(mysqli_error($con));
            }   
        }
        $sql = "DELETE FROM products_stamps WHERE product = '".$_REQUEST['idProdutoCadastrar']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        for ($i = 1; $i <= 9999; $i++){
            if ($_REQUEST['seloProdutoCadastrar'.$i]){
                $sql = "INSERT INTO products_stamps (product, stamp, created_at, updated_at) VALUES ('".$_REQUEST['idProdutoCadastrar']."', '".$i."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql) or die(mysqli_error($con));
            }   
        }
        $sql = "DELETE FROM products_relationships WHERE product = '".$_REQUEST['idProdutoCadastrar']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        for ($i = 1; $i <= 9999; $i++){
            if ($_REQUEST['relacionamentosProdutoCadastrar'.$i]){
                $sql = "INSERT INTO products_relationships (product, relationship, created_at, updated_at) VALUES ('".$_REQUEST['idProdutoCadastrar']."', '".$i."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql) or die(mysqli_error($con));
            }   
        }
        echo "1";
        break;
    case "abreVideos":
        $idE = $_GET['id'] + 1;
        $html .= "<label for='nomeVideosCadastrar".$idE."'>Nome do Vídeo ".$idE.":</label>
        <input type='text' name='nomeVideosCadastrar".$idE."' id='nomeVideosCadastrar".$idE."' value='' placeholder='Informe o nome da foto corretamente...' class='input-xlarge' style='width:98%' required>
        <label for='vCadastrar".$idE."'>Parâmetro v do vídeo  ".$idE." no Youtube:</label>
        <input type='text' name='vCadastrar".$idE."' id='vCadastrar".$idE."' value='' placeholder='Informe o v dp vídeo no Youtube corretamente...' class='input-xlarge' style='width:98%' required>
        <div id='videosPrincipal".$idE."'><img src='".URL."img/excluir.svg' width='25' style='cursor:pointer' onclick=fechaVideos('".$idE."','".URL."')> <img src='".URL."img/mais.png' width='25' style='cursor:pointer' onclick=abreVideos('".$idE."','".URL."')></div>
        ";
        $html .= "|-|".$idE;
        echo "1|-|".$html;
        break;
    case "abreImagem":
        $idE = $_GET['id'] + 1;
        $html .= "<label for='nomeFotoCadastrar".$idE."'>Nome da Foto ".$idE.":</label>
        <input type='text' name='nomeFotoCadastrar".$idE."' id='nomeFotoCadastrar".$idE."' value='' placeholder='Informe o nome da foto corretamente...' class='input-xlarge' style='width:98%' required>
        <label for='imagemCadastrar".$idE."'>Foto ".$idE.":</label>
        <input type='file' name='imagemCadastrar".$idE."' id='imagemCadastrar".$idE."' value='' placeholder='Informe a foto corretamente...' class='input-xlarge' style='width:98%' required>
        <div id='imagemPrincipal".$idE."'><img src='".URL."img/excluir.svg' width='25' style='cursor:pointer' onclick=fechaImagem('".$idE."','".URL."',$('#atributosProdutoCadastrar').val())> <img src='".URL."img/mais.png' width='25' style='cursor:pointer' onclick=abreImagem('".$idE."','".URL."',$('#atributosProdutoCadastrar').val())></div>
        ";
        $html .= "|-|".$idE;
        echo "1|-|".$html;
        break;
    case "abreEstoque":
        $numAtributos = 0;
        if ($_REQUEST['atributos']){
            $idE = $_GET['id'] + 1;
            $idE2 = (int)$idE + 1;
            $vet = explode(",", $_REQUEST['atributos']);
            foreach ($vet as $key => $value){
                if ($value){
                    $html .= "<fieldset>Atributo ".$idE."</fieldset>";
                    $chave = $key+1;
                    $sql = "SELECT * FROM attributes WHERE id = '".$value."'";
                    $query = mysqli_query($con, $sql);
                    $row = mysqli_fetch_array($query);
                    $html .= "<span id='tiposAtributos".$idE.$value."'><label for='tiposAtributos".$idE.$value."'>".$row['name']." do item ".$idE.": </label>
                    <select name='tipoAtributo".$idE.$value."' id='tipoAtributo".$idE.$value."' style='width:97%' required>
                        <option value=''>Seleciona o atributo ".$row['name']." abaixo corretamente!</option>
                        ";
                    $sql = "SELECT * FROM attributes WHERE idPai = '".$row['id']."'";
                    $query2 = mysqli_query($con, $sql);
                    if (mysqli_num_rows($query2)){
                        while ($row2 = mysqli_fetch_array($query2)){
                            $html .= "<option value='".$row2['id']."'>".$row2['name']."</option>";
                        }
                    }
                    $html .= "</select></span><img src='".URL."img/mais.png' width='25' style='cursor:pointer' title='Cadastrar ".$row['name']."' onclick=abreFecha('cadastrarTipoAtributo".$idE.$value."')>
                    <div id='cadastrarTipoAtributo".$idE.$value."' style='width:320px; position:absolute; display:none; padding:5px; border:1px solid #e7e7e7; background-color:#FFFFFF; border-radius:15px'>
                    <h3>Cadastrar ".$row['name']."</h3>
                    <label for='nomeCadastrarTipoAtributo".$idE.$value."'>Nome: </label>
                    <input type='text' name='nomeCadastrarTipoAtributo".$idE.$value."' id='nomeCadastrarTipoAtributo".$idE.$value."' placeholder='Informe o nome do tipo de atributo corretamente...' class='input-xlarge' style='width:97%'>
                    <div style='text-align:center'><input class='btn btn-primary btn-xl text-uppercase' id='submitButton' type='button' onClick=cadastrarTipoAtributo('".$idE.$value."','".URL."') value='Cadastrar'></div>
                    </div>
                    ";
                    $numAtributos++;
                }
            }
            $html .= "<label for='codigoItemProdutoCadastrar".$idE."'>Código do item ".$idE.":</label>
            <input type='text' name='codigoItemProdutoCadastrar".$idE."' id='codigoItemProdutoCadastrar".$idE."' value='' placeholder='Informe o código do item corretamente...' class='input-xlarge' style='width:98%' required>
            <label for='nomeItemProdutoCadastrar0'>Nome do item ".$idE.":</label>
            <input type='text' name='nomeItemProdutoCadastrar".$idE."' id='nomeItemProdutoCadastrar".$idE."' value='' placeholder='Informe o nome do item corretamente...' class='input-xlarge' style='width:98%' required>
            <label for='valorItemProdutoCadastrar".$idE."'>Valor do item ".$idE.": R$</label>
            <input type='text' name='valorItemProdutoCadastrar".$idE."' id='valorItemProdutoCadastrar".$idE."' value='' placeholder='Informe o valor do item corretamente, este campo se formata automaticamente...' class='input-xlarge' style='width:98%' required onkeyup=mascaraValor(this.value,'valorItemProdutoCadastrar".$idE."')>
            <label for='promocaoItemProdutoCadastrar".$idE."'>Promoção do item ".$idE.": R$</label>
            <input type='text' name='promocaoItemProdutoCadastrar".$idE."' id='promocaoItemProdutoCadastrar".$idE."' value='' placeholder='Informe o valor da promoção do item corretamente, este campo se formata automaticamente...' class='input-xlarge' style='width:98%' onkeyup=mascaraValor(this.value,'promocaoItemProdutoCadastrar".$idE."')>
            <label for='validadePromocaoItemProdutoCadastrar".$idE."'>Validade da Promoção do item ".$idE.":</label>
            <input type='date' name='validadePromocaoItemProdutoCadastrar".$idE."' id='validadePromocaoItemProdutoCadastrar".$idE."' value='' class='input-xlarge' style='width:98%'>
            <label for='estoqueItemProdutoCadastrar".$idE."'>Estoque do item ".$idE.":</label>
            <input type='number' name='estoqueItemProdutoCadastrar".$idE."' id='estoqueItemProdutoCadastrar".$idE."' value='1' placeholder='Informe o estoque do item corretamente...' class='input-xlarge' style='width:98%' required min='1'>
            <div id='tiposAtributosPrincipal".$idE."'><img src='".URL."img/excluir.svg' width='25' style='cursor:pointer' onclick=fechaEstoque('".$idE."','".URL."',$('#atributosProdutoCadastrar').val())> <img src='".URL."img/mais.png' width='25' style='cursor:pointer' onclick=abreEstoque('".$idE."','".URL."',$('#atributosProdutoCadastrar').val())></div>
            ";
        }
        if ($numAtributos >= 1){
            $displayApareceMaisAtributos = "";
        }
        else{
            $displayApareceMaisAtributos = "none";
        }
        $html .= "|-|".$idE."|-|".$displayApareceMaisAtributos."|-|".$numAtributos;
        echo "1|-|".$html;
        break;
    case "selecionarAtributo":
        $numAtributos = 0;
        if ($_REQUEST['atributos']){
            $qualEsta = $_REQUEST['qualEsta'];
            $qualEsta++;
            $vet = explode(",", $_REQUEST['atributos']);
            foreach ($vet as $key => $value){
                if ($value){
                    $chave = $key+1;
                    $sql = "SELECT * FROM attributes WHERE id = '".$value."'";
                    $query = mysqli_query($con, $sql);
                    $row = mysqli_fetch_array($query);
                    $html .= "<span id='tiposAtributos1".$value."'><label for='tipoAtributo1".$value."'>".$row['name']." do item 1: </label>
                    <select name='tipoAtributo1".$value."' id='tipoAtributo1".$value."' style='width:97%' required>
                        <option value=''>Seleciona o atributo ".$row['name']." abaixo corretamente!</option>
                        ";
                    $sql = "SELECT * FROM attributes WHERE idPai = '".$row['id']."'";
                    $query2 = mysqli_query($con, $sql);
                    if (mysqli_num_rows($query2)){
                        while ($row2 = mysqli_fetch_array($query2)){
                            $html .= "<option value='".$row2['id']."'>".$row2['name']."</option>";
                        }
                    }
                    $html .= "</select></span><img src='".URL."img/mais.png' width='25' style='cursor:pointer' title='Cadastrar ".$row['name']."' onclick=abreFecha('cadastrarTipoAtributo".$value."')>
                    <div id='cadastrarTipoAtributo".$value."' style='width:320px; position:absolute; display:none; padding:5px; border:1px solid #e7e7e7; background-color:#FFFFFF; border-radius:15px'>
                    <h3>Cadastrar ".$row['name']."</h3>
                    <label for='nomeCadastrarTipoAtributo".$value."'>Nome: </label>
                    <input type='text' name='nomeCadastrarTipoAtributo".$value."' id='nomeCadastrarTipoAtributo".$value."' placeholder='Informe o nome do tipo de atributo corretamente...' class='input-xlarge' style='width:97%'>
                    <div style='text-align:center'><input class='btn btn-primary btn-xl text-uppercase' id='submitButton' type='button' onClick=cadastrarTipoAtributo('".$value."','".URL."') value='Cadastrar'></div>
                    </div>";
                    $numAtributos++;
                }
            }
        }
        if ($numAtributos >= 1){
            $displayApareceMaisAtributos = "";
        }
        else{
            $displayApareceMaisAtributos = "none";
        }
        $html .= "|-|".$numAtributos."|-|".$displayApareceMaisAtributos."|-|".$numAtributos;
        echo "1|-|".$html;
        break;
    case "cadastrarNovoProduto":
        print_r($_REQUEST);
        echo "1";
        break;
    case "marcaCadastrar":
        $slug = retirarAcentos($_REQUEST['marca']);
        $sql = "INSERT INTO brands (name, slug, status, created_at, updated_at) VALUES ('".$_REQUEST['marca']."', '".$slug."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $idMarca = mysqli_insert_id($con);
        $sql = "SELECT * FROM brands WHERE status = '1'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = "<select name='marcaProdutoCadastrar' id='marcaProdutoCadastrar' class='marcaCadastrarMarca' class='input-xlarge' style='width:97%'>
            <option value ''>Selecione a marca se desejar...</option>";
            while ($row = mysqli_fetch_array($query)){
                $html .= "<option value='".$row['id']."' ";
                if ($row['id'] == $idMarca){
                    $html .= ' selected';
                }
                $html .= ">".$row['name']."</option>";
            }
            $html .= "</select>";
        }
        echo "1|-|".$html;
        break;
    case "sugestaoCadastrar":
        $slug = retirarAcentos($_REQUEST['sugestao']);
        $sql = "INSERT INTO suggestions (name, slug, status, created_at, updated_at) VALUES ('".$_REQUEST['sugestao']."', '".$slug."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $idSugestao = mysqli_insert_id($con);
        $sql = "SELECT * FROM suggestions WHERE status = '1'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = "";
            while ($row = mysqli_fetch_array($query)){
                $html .= '<input type="checkbox" name="sugestaoProdutoCadastrar'.$row['id'].'" id="sugestaoProdutoCadastrar'.$row['id'].'"';
                if ($row['id'] == $idSugestao){
                    $html .= ' checked="checked"';
                }
                $html .= " style='padding:5px; float:left'><label for='sugestaoProdutoCadastrar".$row['id']."' style='float:left; padding:5px'>".$row['name']."</label><br><br>";
            }
            $html .= "";
        }
        echo "1|-|".$html;
        break;
    case "atributoCadastrar":
        $sql = "INSERT INTO attributes (name, idPai, status, created_at, updated_at) VALUES ('".$_REQUEST['atributo']."', '0', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $idSugestao = mysqli_insert_id($con);
        $sql = "SELECT * FROM attributes WHERE status = '1' AND idPai = '0'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = "";
            while ($row = mysqli_fetch_array($query)){
                $html .= '<input type="checkbox" name="atributoCadastrarAtributo'.$row['id'].'" id="atributoCadastrarAtributo'.$row['id'].'"';
                if ($row['id'] == $idSugestao){
                    $html .= ' checked="checked"';
                }
                $html .= " style='padding:5px; float:left'><label for='atributoCadastrarAtributo".$row['id']."' style='float:left; padding:5px'>".$row['name']."</label><br><br>";
            }
            $html .= "";
        }
        echo "1|-|".$html;
        break;
    case "tipoAtributoCadastrar":
        $sql = "INSERT INTO attributes (name, idPai, status, created_at, updated_at) VALUES ('".$_REQUEST['atributo']."', '".$_REQUEST['atributoPai']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $idSugestao = mysqli_insert_id($con);
        $sql = "SELECT * FROM attributes WHERE status = '1' AND id = '".$_REQUEST['atributoPai']."'";
        $queryAtributo = mysqli_query($con, $sql);
        $rowAtributo = mysqli_fetch_array($queryAtributo);
        $sql = "SELECT * FROM attributes WHERE status = '1' AND idPai = '".$_REQUEST['atributoPai']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = "<label for='tipoAtributo".$_REQUEST['atributoPai']."'>".$rowAtributo['name'].":</label>
            <select name='tipoAtributo".$_REQUEST['atributoPai']."' id='tipoAtributo".$_REQUEST['atributoPai']."' style='width:97%'>
            <option value=''>Seleciona o tipo de atributo abaixo corretamente!</option>
            ";
            while ($row = mysqli_fetch_array($query)){
                $html .= '<option value="'.$row['id'].'">'.$row['name'].'</option>';
            }
            $html .= "</select>";
        }
        echo "1|-|".$html;
        break;
    case "seloCadastrar":
        $sql = "INSERT INTO stamps (name, status, created_at, updated_at) VALUES ('".$_REQUEST['selo']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $idSelo = mysqli_insert_id($con);
        $sql = "SELECT * FROM stamps WHERE status = '1'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = "";
            while ($row = mysqli_fetch_array($query)){
                $html .= '<input type="checkbox" name="seloCadastrarSelo'.$row['id'].'" id="seloCadastrarSelo'.$row['id'].'"';
                if ($row['id'] == $idSelo){
                    $html .= ' checked="checked"';
                }
                $html .= " style='padding:5px; float:left'><label for='seloCadastrarSelo".$row['id']."' style='float:left; padding:5px'>".$row['name']."</label><br><br>";
            }
            $html .= "";
        }
        echo "1|-|".$html;
        break;
    case "relacionamentoCadastrar":
        $sql = "INSERT INTO relationships (name, status, created_at, updated_at) VALUES ('".$_REQUEST['relacionamento']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $idSelo = mysqli_insert_id($con);
        $sql = "SELECT * FROM relationships WHERE status = '1'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = "";
            while ($row = mysqli_fetch_array($query)){
                $html .= '<input type="checkbox" name="relacionamentosProdutoCadastrar'.$row['id'].'" id="relacionamentosProdutoCadastrar'.$row['id'].'"';
                if ($row['id'] == $idSelo){
                    $html .= ' checked="checked"';
                }
                $html .= " style='padding:5px; float:left'><label for='relacionamentosProdutoCadastrar".$row['id']."' style='float:left; padding:5px'>".$row['name']."</label><br><br>";
            }
            $html .= "";
        }
        echo "1|-|".$html;
        break;
    case "categoriaCadastrar":
        $slug = retirarAcentos($_REQUEST['categoria']);
        $sql = "INSERT INTO categories (name, slug, status, created_at, updated_at) VALUES ('".$_REQUEST['categoria']."', '".$slug."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $idCategoria = mysqli_insert_id($con);
        $sql = "SELECT * FROM categories WHERE status = '1' AND idPai = '0'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = "<select name='categoriasProdutoCadastrar' id='categoriasProdutoCadastrar' class='input-xlarge' style='width:97%'>
            <option value=''>Selecione a categoria abaixo corretamente...</option>";
            while ($row = mysqli_fetch_array($query)){
                $html .= "<option value='".$row['id']."'";
                if ($row['id'] == $idSugestao){
                    $html .= ' selected="selected"';
                }
                $html .= ">".$row['name']."</option>";
            }
            $html .= "</select>";
        }
        echo "1|-|".$html;
        break;
    case "selecionaSubcategoria":
        $sql = "SELECT * FROM categories WHERE status = '1' AND idPai = '".$_REQUEST['categoria']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = "<select name='subcategoriaProdutoCadastrar' id='subcategoriaProdutoCadastrar' class='input-xlarge' style='width:97%'>
            <option value=''>Selecione a sub-categoria abaixo corretamente...</option>";
            while ($row = mysqli_fetch_array($query)){
                $html .= "<option value='".$row['id']."'";
                if ($row['id'] == $_REQUEST['idSub']){
                    $html .= ' selected="selected"';
                }
                $html .= ">".($row['name'])."</option>";
            }
            $html .= "</select>";
        }
        else{
            $html .= "Nenhuma sub-categoria cadastrada nessa categoria! Cadastre uma agora mesmo!";
        }
        $html .= '<img src="'.URL.'img/mais.png" width="25" style="cursor:pointer" onclick=abreFecha("cadastrarSubdepartanento")>
        <div style="width:350px; position:absolute; background-color:#FFFFFF; padding:5px; border:1px solid #e7e7e7; border-radius:25px; display:none" id="cadastrarSubdepartanento">
            <h3>Cadastrar Sub-categoria</h3>
            <label for="subcategoriaCadastrarProduto">Nome da Sub-categoria:</label>
            <input type="text" id="subcategoriaCadastrarProduto" name="subcategoriaCadastrarProduto" placeholder="Informe o nome da sub-categoria corretamente..." class="input-xlarge" style="width:97%">
            <div style="text-align:center"><input class="btn btn-primary btn-xl text-uppercase" id="submitButton" type="button" onClick=cadastrarSubcategoria("'.$_REQUEST['categoria'].'","'.URL.'") value="Cadastrar"></div>
        </div>
   ';
        echo "1|-|".$html;
        break;
    case "subcategoriaCadastrar":
        $slug = retirarAcentos($_REQUEST['subcategoria']);
        $sql = "INSERT INTO categories (idPai, name, slug, status, created_at, updated_at) VALUES ('".$_REQUEST['categoria']."', '".$_REQUEST['subcategoria']."', '".$slug."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $idSubcategoria = mysqli_insert_id($con);
        $sql = "SELECT * FROM categories WHERE status = '1' AND idPai = '".$_REQUEST['categoria']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = "<select name='subcategoriaProdutoCadastrar' id='subcategoriaProdutoCadastrar' class='input-xlarge' style='width:97%'>
            <option value=''>Selecione a sub-categoria se desejar...</option>";
            while ($row = mysqli_fetch_array($query)){
                $html .= "<option value='".$row['id']."'";
                if ($row['id'] == $idSubcategoria){
                    $html .= ' selected="selected"';
                }
                $html .= ">".$row['name']."</option>";
            }
            $html .= "</select>";
        }
        echo "1|-|".$html;
        break;
        break;
    case "cadastreOSeuProduto":
        $passo = $_REQUEST['passoCadastrarProduto'] + 1;
        echo "1|-|oi|-|".$passo;
        break;
    case "favoritar":
        $sql = "INSERT INTO products_favorites (product, client, created_at, updated_at) VALUES ('".$_REQUEST['product']."', '".$_REQUEST['client']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "desfavoritar":
        $sql = "DELETE FROM products_favorites WHERE product = '".$_REQUEST['product']."' AND client = '".$_REQUEST['client']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1";
        break;
    case "validaBusca":
        $html = '<div style="position:absolute; float:left; left:93%; top:5px; cursor:pointer" onclick=fecha("buscar")>&times;</div><h4>Resultado da Busca Por "'.$_REQUEST['busca'].'"</h4>';
        $sql = "SELECT DISTINCT a.id, a.*, b.id AS product_item, b.value, b.promotion, b.validity_promotion, b.estoque, c.name AS nomeTipoAtributo, d.categorie FROM products a INNER JOIN products_items b ON (b.product = a.id) LEFT JOIN attributes c ON (b.attribute1 = c.id) INNER JOIN products_categories d ON (a.id = d.product) WHERE (a.name LIKE '%".$_REQUEST['busca']."%' OR a.description LIKE '%".$_REQUEST['busca']."%')";
        if ($_REQUEST['categoria']){
            $sql .= " AND d.categorie = '".base64_decode($_REQUEST['categoria'])."'";
        }
        $sql .= " AND a.status = '1' GROUP BY a.id ORDER BY a.prioridadeBusca DESC, a.id ASC";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                if ($id != $row['id']){
                $sql = "SELECT * FROM products_images WHERE product = '".$row['id']."' AND product_item = '".$row['product_item']."' LIMIT 1";
                $query2 = mysqli_query($con, $sql);
                $row2 = mysqli_fetch_array($query2);
                $html .= "<div class='backProdutos'><a href='".URL."produto/".$row['slug']."' title='".($row['name'])."'><img src='".URL."storage/";
                if ($row2['img']){
                    $html .= $row2['img'];
                }
                else{
                    $html .= "sem_imagem.png";
                }
                $html .= "' width='50'> ".substr(($row['name']),0,50);
                if (strlen(($row['name'])) > 50){
                    $html .= "...";
                }
                $html .= " - ";
                if ($row['nomeTipoAtributo']){
                    $html .= $row['nomeTipoAtributo']." - ";
                }
                $html .= "<b>R$";
                if ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')){
                    $html .= number_format($row['promotion'] - ($row['promotion'] * $parametrosSite['descontoAVista'] / 100), 2, ',', '.');
                    if ($parametrosSite['descontoAVista']){
                        $html .= " <b title='".(str_replace("##descontoAVista##", $parametrosSite['descontoAVista'], $parametrosSite['descricaoPagamentoAVista']))."'>*</b>";
                    }
                }
                else{
                    $html .= number_format($row['value'] - ($row['value'] * $parametrosSite['descontoAVista'] / 100), 2, ',', '.');
                    if ($parametrosSite['descontoAVista']){
                        $html .= " <b title='".(str_replace("##descontoAVista##", $parametrosSite['descontoAVista'], $parametrosSite['descricaoPagamentoAVista']))."'>*</b>";
                    }
                }
                $html .= "</b></a></div> ";
                if ($row['estoque']){
                    $html .= "<a onclick=addCarrinho('".$row['id']."','".$row['product_item']."','".$_REQUEST['urlE']."','".URL."') class='btn btn-success add-to-cart' title='Adicionar Ao Carrinho'><i class='fa fa-shopping-cart'></i></a>";
                }
                $html .= " <a href='".URL."produto/".$row['slug']."' title='".($row['name'])."' class='btn btn-success add-to-cart'><i class='fa fa-eye'></i></a>";
                $id = $row['id'];
                }
            }
        }
        else{
            $html .= '<div style="text-align:center"><div class="btn btn-danger">Sem produtos encontrados!</div></div>';
        }
        $html .= '<div style="text-align:center"><div class="btn btn-danger" onclick=fecha("buscar")>Fechar</div></div>';
        echo "1|-|".$html;
        break;
	case "paginacaoComentariosProduto":
		$ini = (10 * $_REQUEST['pag']) - 10;
		$fim = 10;
		if ($_REQUEST['pags'] >= 2){
			if ($_REQUEST['pag'] >= 2){
				$anterior = $_REQUEST['pag'] - 1;
			}
			else{
				$anterior = 1;
			}
			if ($_REQUEST['pag'] != $_REQUEST['pags']){
				$proximo = $_REQUEST['pag'] + 1;
			}
			else{
				$proximo = $_REQUEST['pags'];
			}
			$html = '
											<div style="text-align:center">
											<span class="btn" onclick=\'paginacaoComentariosProduto("1", "'.$_REQUEST['pags'].'", "'.$_REQUEST['product'].'", "'.URL.'")\'>&laquo;</span>
											<span class="btn" onclick=\'paginacaoComentariosProduto("'.$anterior.'", "'.$_REQUEST['pags'].'", "'.$_REQUEST['product'].'", "'.URL.'")\'><</span>
											';
											for ($i = 1; $i <= $_REQUEST['pags']; $i++){
												$html .= '<span class="btn';
												if ($i == $_REQUEST['pag']){
													$html .= " btn-primary";
												}
												$html .= '" onclick=\'paginacaoComentariosProduto("'.$i.'", "'.$_REQUEST['pags'].'", "'.$_REQUEST['product'].'", "'.URL.'")\'>'.$i.'</span>
												';
											}
											$html .= '
											<span class="btn" onclick=\'paginacaoComentariosProduto("'.$proximo.'", "'.$_REQUEST['pags'].'", "'.$_REQUEST['product'].'", "'.URL.'")\'>></span>
											<span class="btn" onclick=\'paginacaoComentariosProduto("'.$_REQUEST['pags'].'", "'.$_REQUEST['pags'].'", "'.$_REQUEST['product'].'", "'.URL.'")\'>&raquo;</span>
											</div><br><br>';
		}
        $html .= '<div id="editarComentarioProduto" style="display:none; left:0%; position:absolute; width:100%; border:1px solid #E7E7E7; background-color:#FFFFFF; padding:5px; border-radius: 25px"></div></form>';
		$sql = "SELECT * FROM products_reviews WHERE product = '".$_REQUEST['product']."' AND status = '1' ORDER BY created_at DESC";
		$query = mysqli_query($con, $sql);
		$tot = mysqli_num_rows($query);
		$sql .= " LIMIT ".$ini.", ".$fim;
		$query = mysqli_query($con, $sql);
		if (mysqli_num_rows($query)){
			while ($value = mysqli_fetch_object($query)){
				$vet = explode(' ', $value->created_at);
				$vet2 = explode('-', $vet[0]);
				$value->hora = $vet[1]."h";
				$value->data = $vet2[2]."/".$vet2[1]."/".$vet2[0];
				$html .= '<table width="100%" border="0" cellspacing="0" cellpadding="0">
                                                <tr>
													<td width="33%" style="font-family: cursive"><img src="'.URL.'img/usuario.png" width="25"> '.($value->nome).'</td>
													<td width="33%" style="font-family: cursive"><img src="'.URL.'img/relogio.svg" width="25"> '.($value->hora).'</td>
													<td width="34%" style="font-family: cursive"><img src="'.URL.'img/calendario.svg" width="25"> '.($value->data);
				if ($_SESSION['cliente']['email'] == $value->email){
					$html .= ' <img src="'.URL.'img/editar.svg" width="20" style="cursor:pointer" onclick=editarComentarioProduto("'.$value->id.'","'.URL.'")>';
				}
				$html .= '</td>
												</tr>
                                                </table>
												<p style="font-family: cursive">';
												for ($i = 1; $i <= 5; $i++){
													$html .= '<img src="'.URL.'img/star';
													if ($i > $value->avaliacao){
														$html .= "Apagada";
													}
													$html .= '.png" title="Avaliação: '.$value->avaliacao.'"> ';
												}
												$html .= '</p>
												<p style="font-family: cursive;">"'.(nl2br($value->mensagem)).'"</p>';
			}
		}

		if ($_REQUEST['pags'] >= 2){
			if ($_REQUEST['pag'] >= 2){
				$anterior = $_REQUEST['pag'] - 1;
			}
			else{
				$anterior = 1;
			}
			if ($_REQUEST['pag'] != $_REQUEST['pags']){
				$proximo = $_REQUEST['pag'] + 1;
			}
			else{
				$proximo = $_REQUEST['pags'];
			}
			$html .= '
											<div style="text-align:center">
											<span class="btn" onclick=\'paginacaoComentariosProduto("1", "'.$_REQUEST['pags'].'", "'.$_REQUEST['product'].'", "'.URL.'")\'>&laquo;</span>
											<span class="btn" onclick=\'paginacaoComentariosProduto("'.$anterior.'", "'.$_REQUEST['pags'].'", "'.$_REQUEST['product'].'", "'.URL.'")\'><</span>
											';
											for ($i = 1; $i <= $_REQUEST['pags']; $i++){
												$html .= '<span class="btn';
												if ($i == $_REQUEST['pag']){
													$html .= " btn-primary";
												}
												else{
													$html .= "";
												}
												$html .= '" onclick=\'paginacaoComentariosProduto("'.$i.'", "'.$_REQUEST['pags'].'", "'.$_REQUEST['product'].'", "'.URL.'")\'>'.$i.'</span>
												';
											}
											$html .= '
											<span class="btn" onclick=\'paginacaoComentariosProduto("'.$proximo.'", "'.$_REQUEST['pags'].'", "'.$_REQUEST['product'].'", "'.URL.'")\'>></span>
											<span class="btn" onclick=\'paginacaoComentariosProduto("'.$_REQUEST['pags'].'", "'.$_REQUEST['pags'].'", "'.$_REQUEST['product'].'", "'.URL.'")\'>&raquo;</span>
											</div><br><br>';
		}
		echo "1|-|".$_REQUEST['pag']."|-|".$html."|-|".$tot;
		break;
        case "editarComentarioProduto":
            $sql = "SELECT * FROM products_reviews WHERE id = '".$_REQUEST['id']."'";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                $row = mysqli_fetch_array($query);
                $html = "<div style='position:absolute; float:left; left:95%'><img src='".URL."img/close.png' style='cursor: pointer' onclick=fecha('editarComentarioProduto')></div>
                <div style='width:95%'>
                <h3>Solicitação de Edição de Comentário do Produto</h3>
                </div>
                <input type='hidden' name='urlComentarioProduto' id='urlComentarioProduto' value='".URL."'>
                <input type='hidden' name='idComments' id='idComments' value='".$row['id']."'>
                <label for='estrelasComentarioProduto'>Avaliação</label>
                <div style='width:100%' id='estrelasComentarioProduto'>";
                for ($i = 1; $i <= 5; $i++){
                    $html .= "<img src='".URL."img/star";
                    if ($i > $row['avaliacao']){
                        $html .= "Apagada";
                    }
                    $html .= ".png' style='cursor:pointer' title='Nota ".$i."' onclick=mudaImgNotasEdicao('".$i."','".$row['id']."','".URL."')> ";
                }
                $html .= '<input type="hidden" name="avaliacaoComentarioProduto" id="avaliacaoComentarioProduto" value="'.$row['avaliacao'].'"></div>
                <label for="mensagemComentarioProduto">Mensagem</label>
                <textarea name="mensagemComentarioProduto" id="mensagemComentarioProduto'.$row['id'].'" style="width:100%; height:250px">'.(preg_replace('/\<br(\s*)?\/?\>/i', "\n", $row['mensagem'])).'</textarea>
                <center><button class="btn btn-primary" type="submit">Solicitar Alteração</button> <button type="button" class="btn btn-warning" onclick=fecha("editarComentarioProduto")>Fechar</button></center>';
            }
            else{
                $html .= "Não existe esse comentário do produto!";
            }
            echo "1|-|".$html;
        break;
    case "editarComentariosProduto":
        $sql = "SELECT * FROM products_reviews WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $html = "<div style='position:absolute; float:left; left:95%'><img src='".URL."img/close.png' style='cursor: pointer' onclick=fecha('editaComentariosProduto".$_REQUEST['id']."')></div>
            <div style='width:95%'>
            <h3>Solicitação de Edição de Comentário</h3>
            </div>
            <input type='hidden' name='urlComentariosProduto".$_REQUEST['id']."' id='urlComentariosProduto".$_REQUEST['id']."' value='".URL."'>
            <input type='hidden' name='idComments".$_REQUEST['id']."' id='idComments".$_REQUEST['id']."' value='".$row['id']."'>
            <label for='estrelasComentarioProduto".$_REQUEST['id']."'>Avaliação</label>
            <div style='width:100%' id='estrelasComentarioProduto".$_REQUEST['id']."'>";
            for ($i = 1; $i <= 5; $i++){
                $html .= "<img src='".URL."img/star";
                if ($i > $row['avaliacao']){
                    $html .= "Apagada";
                }
                $html .= ".png' style='cursor:pointer' title='Nota ".$i."' onclick=mudaImgNotasEdicaoComentarios('".$i."','".$row['id']."','".URL."')> ";
            }
            $html .= '<input type="hidden" name="avaliacaoComentarioProduto'.$_REQUEST['id'].'" id="avaliacaoComentarioProduto'.$_REQUEST['id'].'" value="'.$row['avaliacao'].'"></div>
            <label for="mensagemComentarioProduto'.$_REQUEST['id'].'">Mensagem</label>
            <textarea name="mensagemComentarioProduto'.$_REQUEST['id'].'" id="mensagemComentarioProduto'.$_REQUEST['id'].'" style="width:100%; height:250px">'.($row['mensagem']).'</textarea>
            <center><button class="btn btn-primary" type="button" onclick=solicitarAlteracaoComentarioProduto("'.$row['id'].'","'.URL.'","'.$_SESSION['cliente']['id'].'")>Solicitar Alteração</button> <button class="btn btn-warning" onclick=fecha("editaComentariosProduto'.$_REQUEST['id'].'") type="button">Fechar</button></center>';
        }
        else{
            $html .= "Não existe esse comentário do produto!";
        }
        echo "1|-|".$html;
        break;
	case 'solicitarAlteracaoComentarioProduto':
		$sql = ("INSERT INTO products_reviews_solicitas (id_product_review, avaliacao, mensagem, created_at, updated_at) VALUES ('".$_REQUEST['idComments']."', '".$_REQUEST['avaliacaoComentarioProduto']."', '".($_REQUEST['mensagemComentarioProduto'])."', now(), now())");
		mysqli_query($con, $sql);
		$assunto = $parametrosSite['title']." - Solicitação de Alteração em Comentário de Produto!";
		$htmlEmail = '<html><head><title>'.$parametrosSite['title'].' - Solicitação de Alteração em Comentário de Produto!</title></head><body><table border="0" width="100%" cellpadding="0" cellspacing="0"><tr><td width="200" valign="top"><img src="'.URL.'img/logo.png" width="100%"></td><td valign="top">Olá <b>'.$parametrosSite['title'].'</b>,<br><br>Esse email é para informar que foi realizada agora uma alteração em um comentário de um produto no site.<br><br>Para ver essa solicitação, <a href="'.URL.'admin/solicitacaoComentario">clique aqui</a>.<br><br>Atenciosamente,<br><br>Equipe '.$parametrosSite['title'].'</td></tr></table><hr noshade><center>Email Desenvolvido Pela <a href="https://www.bhcommerce.com.br/">BH Commerce</a></center><hr noshade></body></html>';
        $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
        $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($assunto), utf8_decode($htmlEmail));
		//mail(utf8_decode($parametrosSite['title']."<testegosat@bhcommerce.com.br>"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
        echo "1";
		break;
    case "contabilizaExibicoesBanner":
        $sql = "SELECT * FROM banners WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)) {
            $row = mysqli_fetch_array($query);
            $exibitions = $row['exibitions'] + 1;
            $sql = "UPDATE banners SET exibitions = '".$exibitions."' WHERE id = '".$_REQUEST['id']."'";
            mysqli_query($con, $sql);
            echo "1|-|".$row['link'];
        }
        else{
            echo "0|-|Não foi encontrado banner com o id informado!";
        }
        break;
    case "marcarBannerVisitadoEPegarUrl":
        $sql = "SELECT * FROM counters_banners WHERE data = '".date('Y-m-d')."' AND banner = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $acessos = $row['acessos'] + 1;
            $sql = "UPDATE counters_banners SET acessos = '".$acessos."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
            mysqli_query($con, $sql);
        }
        else{
            $sql = "INSERT INTO counters_banners (banner, data, acessos, created_at, updated_at) VALUES ('".$_REQUEST['id']."', '".date('Y-m-d')."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
        }
        $sql = "SELECT * FROM banners WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)) {
            $row = mysqli_fetch_array($query);
            $clicks = $row['clicks'] + 1;
            $sql = "UPDATE banners SET clicks = '".$clicks."' WHERE id = '".$_REQUEST['id']."'";
            mysqli_query($con, $sql);
            echo "1|-|".$row['link'];
        }
        else{
            echo "0|-|Não foi encontrado banner com o id informado! Você será redirecionado para a home!";
        }
        break;
    case "editaPresente":
        $sql = "SELECT * FROM presents_lists_products WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        echo "1|-|".$row['product']."|-|".$row['product_item']."|-|".$row['quantity']."|-|".$row['id'];
        break;
    case "excluirPresenteSite":
        $sql = "DELETE FROM presents_lists_products WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo '1';
        break;
    case "cadastrarPresenteSite":
        $sql = "SELECT * FROM presents_lists_products WHERE product = '".$_REQUEST['produto']."' AND product_item = '".$_REQUEST['itemProduto']."' AND lista = '".$_REQUEST['lista']."'";
        $query = mysqli_query($con, $sql);
        if (!mysqli_num_rows($query)){
            $sql = "INSERT INTO presents_lists_products (product, product_item, quantity, ganhou, lista, created_at, updated_at) VALUES ('".$_REQUEST['produto']."', '".$_REQUEST['itemProduto']."', '".$_REQUEST['quantidade']."', '0', '".$_REQUEST['lista']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        }
        else{
            $row = mysqli_fetch_array($query);
            $quantidade = $_REQUEST['quantidade'] + $row['quantity'];
            $sql = "UPDATE presents_lists_products SET quantity = '".$quantidade."' WHERE id = '".$row['id']."'";
        }
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1";
        break;
    case "atualizarPresenteSite":
        $sql = "UPDATE presents_lists_products SET product_item = '".$_REQUEST['itemProduto']."', quantity = '".$_REQUEST['quantidade']."' WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "mostraEdicaoListaPooduto":
        $html = '<div style="display:none; position:absolute; border:1px solid #000000; border-radius:15px; background-color:#FFFFFF; width:100%; z-index:99999999; padding:5px; background-color:#FFFFFF;" id="addPresente'.$_REQUEST['qual'].$_REQUEST['i'].'"><div style="position:absolute; float:left; left:95%; cursor:pointer" onclick=fecha("addPresente'.$_REQUEST['qual'].$_REQUEST['i'].'")>&times;</div><input type="hidden" id="listaAdd'.$_REQUEST['qual'].$_REQUEST['i'].'" name="listaAdd'.$_REQUEST['qual'].$_REQUEST['i'].'" value="'.$_REQUEST['lista'].'"><h3 style="text-align:center">Adicionar Produto de Presente</h3><label for="itemProduto'.$_REQUEST['qual'].$_REQUEST['i'].'">Item do Produto:</label><select name="itemProduto'.$_REQUEST['qual'].$_REQUEST['i'].'" id="itemProduto'.$_REQUEST['qual'].$_REQUEST['i'].'" class="form-control" onchange=selecionaItemProduto(this.value,"'.$_REQUEST['produto'].'","'.$_REQUEST['qual'].'","'.URL.'","'.$_REQUEST['i'].'","'.$_REQUEST['lista'].'")><option value="">Selecione o item do produto abaixo...</option>';
        $sql = "SELECT a.*, b.name AS nomeProduto FROM products_items a INNER JOIN products b ON (a.product = b.id) WHERE a.product = '".$_REQUEST['produto']."'";
        $query = mysqli_query($con, $sql);
        while ($row = mysqli_fetch_array($query)){
            $html .= "<option value='".$row['id']."'>".($row['nomeProduto']." - ".$row['name'])."</option>";
        }
        $html .= '</select><div id="quantidadePresente'.$_REQUEST['qual'].$_REQUEST['i'].'"></div></div><div style="display:none; position:absolute; border:1px solid #000000; border-radius:15px; background-color:#FFFFFF; width:100%; z-index:99999999; padding:5px; background-color:#FFFFFF;" id="editaPresente'.$_REQUEST['qual'].$_REQUEST['i'].'"><div style="position:absolute; float:left; left:95%; cursor:pointer" onclick=fecha("editaPresente'.$_REQUEST['qual'].$_REQUEST['i'].'")>&times;</div><input type="hidden" id="listaEdita'.$_REQUEST['qual'].$_REQUEST['i'].'" name="listaEdita'.$_REQUEST['qual'].$_REQUEST['i'].'" value="'.$_REQUEST['lista'].'"><h3 style="text-align:center">Atualizar Produto de Presente</h3><label for="itemProdutoEdita'.$_REQUEST['qual'].$_REQUEST['i'].'">Item do Produto:</label><select name="itemProdutoEdita'.$_REQUEST['qual'].$_REQUEST['i'].'" id="itemProdutoEdita'.$_REQUEST['qual'].$_REQUEST['i'].'" class="form-control" onchange=selecionaItemProdutoEdita(this.value,"'.$_REQUEST['produto'].'","'.$_REQUEST['qual'].'","'.URL.'","'.$_REQUEST['i'].'","'.$_REQUEST['lista'].'")><option value="">Selecione o item do produto abaixo...</option>';
        $sql = "SELECT a.*, b.name AS nomeProduto FROM products_items a INNER JOIN products b ON (a.product = b.id) WHERE a.product = '".$_REQUEST['produto']."'";
        $query = mysqli_query($con, $sql);
        while ($row = mysqli_fetch_array($query)){
            $html .= "<option value='".$row['id']."'>".($row['nomeProduto']." - ".$row['name'])."</option>";
        }
        $html .= '</select><div id="quantidadePresenteEdita'.$_REQUEST['qual'].$_REQUEST['i'].'"></div></div><input type="hidden" name="listaPresentEdita'.$_REQUEST['qual'].$_REQUEST['i'].'" id="listaPresentEdita'.$_REQUEST['qual'].$_REQUEST['i'].'" value="'.$_REQUEST['lista'].'"><input type="hidden" name="idEdita'.$_REQUEST['qual'].$_REQUEST['i'].'" id="idEdita'.$_REQUEST['qual'].$_REQUEST['i'].'" value=""><div style="position:absolute; float:left; left:95%; cursor:pointer" onclick=fecha("listaPresentes'.$_REQUEST['qual'].$_REQUEST['i'].'")>&times;</div><a id="topoListaPresente'.$_REQUEST['qual'].$_REQUEST['i'].'"></a><h3>Produtos Adicionados à Lista</h3><div style="text-align:right"><button class="btn btn-primary" onclick=addPresente("'.$_REQUEST['qual'].$_REQUEST['i'].'")>Adicionar</button></div>';
        $sql = "SELECT a.*, b.name AS nomeProduto, c.name AS nomeItem FROM presents_lists_products a INNER JOIN products b ON (a.product = b.id) INNER JOIN products_items c ON (a.product_item = c.id) WHERE a.product = '".$_REQUEST['produto']."' AND a.lista = '".$_SESSION['idLista']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html .= '<table border="0" width="100%" cellpadding="0" cellspacing="0"><tr><th>Nome do Produto</th><th>Pediu</th><th>Ganhou</th><th>Ações</th></tr>';
            while ($row = mysqli_fetch_array($query)){
                $html .= "<tr><td style='text-align:center'>".($row['nomeProduto']." - ".$row['nomeItem'])."</td><td valign='top' style='text-align:center'>".$row['quantity']."</td><td valign='top' style='text-align:center'>".$row['ganhou']."</td><td valign='top' style='text-align:center'><img src='".URL."img/editar.png' width='20' style='cursor:pointer' onclick=editaPresente('".$row['id']."','".URL."','".$row['product']."','".$_REQUEST['qual']."','".$_REQUEST['i']."','".$_REQUEST['lista']."')><img src='".URL."img/excluir.png' width='20' style='cursor:pointer' onclick=excluirPresente('".$row['id']."','".URL."','".$row['product']."','".$_REQUEST['qual']."','".$_REQUEST['i']."','".$_REQUEST['lista']."')></td></tr>";
            }
            $html .= "</table>";
        }
        else{
            $html .= "<div class='btn btn-danger'>Sem nenhum desse produto adicionado à lista!</div>";
        }
        echo "1|-|".$html;
        break;
    case "atualizarPresente":
        $sql = "UPDATE presents_lists_products SET product = '".$_REQUEST['product']."', product_item = '".$_REQUEST['product_item']."', quantity = '".$_REQUEST['quantidade']."' WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "adicionarPresente":
        $sql = "SELECT * FROM presents_lists_products WHERE lista = '".$_REQUEST['lista']."' AND product = '".$_REQUEST['product']."' AND product_item = '".$_REQUEST['product_item']."'";
        $query = mysqli_query($con, $sql);
        if(!mysqli_num_rows($query)){
            $sql = "INSERT INTO presents_lists_products (lista, product, product_item, quantity, ganhou, created_at, updated_at) VALUES ('".$_REQUEST['lista']."', '".$_REQUEST['product']."', '".$_REQUEST['product_item']."', '".$_REQUEST['quantidade']."', '0', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        }
        else{
            $row = mysqli_fetch_array($query);
            $quantidade = $row['quantity'] + $_REQUEST['quantidade'];
            $sql = "UPDATE presents_lists_products SET quantity = '".$quantidade."' WHERE id = '".$row['id']."'";
        }
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "selecionaProdutoPresente":
        $sql = "SELECT * FROM products_items WHERE product = '".$_REQUEST['produto']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = '<label for="itemProdutoPresenteAdd">Item do Produto</label><select name="itemProdutoPresenteAdd" id="itemProdutoPresenteAdd" class="form-control" onclick=selecionaItemProdutoPresente(this.value,"'.URL.'")><option value="">Selecione o item abaixo corretamente...</option>';
            while ($row = mysqli_fetch_array($query)){
                $html .= '<option value="'.$row['id'].'">'.($row['name']).'</option>';
            }
            $html .= '</select><div id="qtdeAdd"></div>';
        }
        else{
            $html = '<div class="btn btn-danger">Nenhum item encontrado!</div>';
        }
        echo "1|-|".$html;
        break;
    case "selecionaProdutoPresenteEdita":
        $sql = "SELECT * FROM products_items WHERE product = '".$_REQUEST['produto']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = '<label for="itemProdutoPresenteEdita">Item do Produto</label><select name="itemProdutoPresenteEdita" id="itemProdutoPresenteEdita" class="form-control" onclick=selecionaItemProdutoPresenteEdita(this.value,"'.URL.'","'.$_REQUEST['qualEQuant'].'")><option value="">Selecione o item abaixo corretamente...</option>';
            while ($row = mysqli_fetch_array($query)){
                $html .= '<option value="'.$row['id'].'"';
                if ($_REQUEST['qualE'] == $row['id']){
                    $html .= " selected";
                }
                $html .= '>'.($row['name']).'</option>';
            }
            $html .= '</select><div id="qtdeEdita"></div>';
        }
        else{
            $html = '<div class="btn btn-danger">Nenhum item encontrado!</div>';
        }
        echo "1|-|".$html."|-|".$_REQUEST['qualEQuant'];
        break;
    case "adicionarConvidado":
        $sql = "SELECT * FROM presents_lists_guests WHERE lista = '".$_REQUEST['lista']."' AND email = '".$_REQUEST['email']."'";
        $query = mysqli_query($con, $sql);
        $rows = mysqli_num_rows($query);
        $sql = "SELECT a.* FROM presents_lists a INNER JOIN clients b ON (a.client = b.id) WHERE a.id = '".$_REQUEST['lista']."' AND b.email = '".$_REQUEST['email']."'";
        $query2 = mysqli_query($con, $sql);
        $rows2 = mysqli_num_rows($query2);
        if ($rows){
            echo "0|-|Já existe um convidado com o email informado! Tente outro!";
        }
        elseif ($rows2) {
            echo "0|-|Não é possível cadastrar o mesmo email do cliente da lista! Tente outro!";
        }
        else {
            $sql = "INSERT INTO presents_lists_guests (lista, name, email, cel, created_at, updated_at) VALUES ('".$_REQUEST['lista']."', '".$_REQUEST['nome']."', '".$_REQUEST['email']."', '".$_REQUEST['cel']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
            echo "1";
        }
        break;
    case "atualizaConvidado":
        $sql = "SELECT * FROM presents_lists_guests WHERE lista = '".$_REQUEST['lista']."' AND email = '".$_REQUEST['email']."' AND id != '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $rows = mysqli_num_rows($query);
        $sql = "SELECT a.* FROM presents_lists a INNER JOIN clients b ON (a.client = b.id) WHERE a.id = '".$_REQUEST['lista']."' AND b.email = '".$_REQUEST['email']."'";
        $query2 = mysqli_query($con, $sql);
        $rows2 = mysqli_num_rows($query2);
        if ($rows){
            echo "0|-|Já existe um convidado com o email informado! Tente outro!";
        }
        elseif ($rows2) {
            echo "0|-|Não é possível cadastrar o mesmo email do cliente da lista! Tente outro!";
        }
        else {
            $sql = ("UPDATE presents_lists_guests SET name = '".$_REQUEST['nome']."', email = '".$_REQUEST['email']."', cel = '".$_REQUEST['cel']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['id']."'");
            mysqli_query($con, $sql);
            echo "1";
        }
        $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Editou o convidado ".$_REQUEST['id']." da lista de presentes ".$_REQUEST['lista']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql);
        break;
    case "enviarEmailConvidado":
        $sql = "SELECT a.*, b.nomeAniversariante, b.dataAniversario, b.nomeMae, b.nomePai, b.idade, b.cep, b.address, b.number, b.complement, b.neighborhood, b.city, b.state, b.slug, d.name AS nomeCliente, e.nomeFantasia, e.contato FROM presents_lists_guests a INNER JOIN presents_lists b ON (a.lista = b.id) INNER JOIN clients c ON (b.client = c.id) LEFT JOIN pessoa_fisicas d ON (c.id = d.client) LEFT JOIN pessoa_juridicas e ON (c.id = e.client) WHERE a.id = '" . $_REQUEST['id'] . "'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $idLista = $row['lista'];
        $id = $row['id'];
        $nomeCliente = ($row['nomeCliente']) ? $row['nomeCliente'] : $row['nomeFantasia']." - ".$row['contato'];
        $vet = explode('-', $row['dataAniversario']);
        $row['dataAniversario'] = $vet[2]."/".$vet[1]."/".$vet[0];
        $htmlEmail = ("<html><head><title>Email de Lista de presentes</title></head><body><table width='100%' border='0' cellpadding='0' cellspacing='0'><tr><td width='150' valign='top'><img src='".URL."img/logo.png' width='150'></td><td valign='top'>Olá <b>".($row['name'])."</b>,<br>O cliente ".($nomeCliente)." te adicionou a uma lista de presentes em nosso site.<h3>Dados da Lista</h3>Nome do Aniversariante: <b>".($row['nomeAniversariante'])."</b><br>Data do aniversário: <b>".$row['dataAniversario']."</b><br>Nome da mãe: <b>".($row['nomeMae'])."</b><br>Nome do pai: <b>".($row['nomePai'])."</b><br>Idade que vai completar: <b>".($row['idade'])."</b><br>Endereço: <b>".($row['address'].", ".$row['number']));
        if ($row['complement']){
            $htmlEmail .= ', '.$row['complement'];
        }
        $htmlEmail .= (" - B. ".($row['neighborhood']." - ".$row['city']." - ".$row['state'])." - CEP: ".$row['cep']."</b><br><a href='".URL."lista-de-presentes/".$row['slug']."'>Ver a Lista de Presentes</a><h3>Produtos da Lista</h3>");
        $sql = "SELECT a.*, b.name AS nomeProduto, b.slug, c.id AS idItemProduto, c.name AS nomeItemProduto, c.value, c.promotion, c.validity_promotion FROM presents_lists_products a INNER JOIN products b ON (a.product = b.id) INNER JOIN products_items c ON (a.product_item = c.id) WHERE a.lista = '".$row['lista']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $i = 0;
            $htmlEmail .= "<table width='100%' cellpadding='0' cellspacing='0' border='0'><tr><th>Produto</th><th>Valor do Produto</th><th>Qtde</th><th>Ganhou</th><th>Comprar</th></tr>";
            while ($row2 = mysqli_fetch_array($query)){
                $valorProduto = ($row2['promotion'] && $row2['valiidity_promotion'] <= date('Y-m-d')) ? $row2['promotion'] : $row2['value'];
                $sql = "SELECT * FROM products_images WHERE product_item = '".$row2['idItemProduto']."' LIMIT 1";
                $query3 = mysqli_query($con, $sql);
                $row3 = mysqli_fetch_array($query3);
                $htmlEmail .= "<tr><td";
                if ($i % 2 == 0){
                    $htmlEmail .= " style='background-color:#E7E7E7'";
                }
                $htmlEmail .= "><a href='".URL_SITE."produto/".$row2['slug']."'>";
                $htmlEmail .= "<img src='".URL."storage/".$row3['img']."' width='100'>";

                $htmlEmail .= "<br>".$row2['nomeProduto']." - ".$row2['nomeItemProduto']."</a></td><td";
                if ($i % 2 == 0){
                    $htmlEmail .= " style='background-color:#E7E7E7'";
                }
                $htmlEmail .= ">R$ ".number_format($valorProduto, 2, ',','.')."</td><td";
                if ($i % 2 == 0){
                    $htmlEmail .= " style='background-color:#E7E7E7'";
                }
                $htmlEmail .= ">".$row2['quantity']."</td><td";
                if ($i % 2 == 0){
                    $htmlEmail .= " style='background-color:#E7E7E7'";
                }
                $htmlEmail .= ">".$row2['ganhou']."</td><td style='text-align:center; ";
                if ($i % 2 == 0){
                    $htmlEmail .= "background-color:#E7E7E7";
                }
                $htmlEmail .= "'>";
                if ($row2['quantity'] > $row2['ganhou']) {
                    $htmlEmail .= "<a href='" . URL_SITE . "addCart.php?idList=" . base64_encode($row2['lista']) . "&product=" . base64_encode($row2['product']) . "&product_item=" . base64_encode($row2['product_item']) . "&idGuest=" . base64_encode($row2['id']) . "&quantidade=1'><img src='" . URL . "img/addCart.png' width='50'></a>";
                }
                $htmlEmail .= "</td></tr>";
                $i++;
            }
            $htmlEmail .= "</table>";
        }
        $htmlEmail .= "</td></td></tr></table>Atenciosamente,<br><br>Equipe Sistema de Teste Gosat<hr noshade><center>Email Desenvolvido Pela <a href='https://www.bhcommerce.com.br/'>BH Commerce</a></center><hr noshade></body></html>";
        $assunto = $parametrosSite['title']." - Lista de Presentes";
        $paraNome = $nomeCliente;
        $paraEmail = $row['email'];
        $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
        $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
        //mail((utf8_decode($paraNome."<".$paraEmail).">"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $paraEmail, utf8_decode($paraNome), utf8_decode($assunto), utf8_decode($htmlEmail));
        $sql = "UPDATE presents_lists_guests SET send_email_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$id."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1|-|".$row['lista']."|-|".$htmlEmail;
        break;
    case "enviarFaleConosco":
        $sql = "INSERT INTO messages (name, email, subject, phone, text, status, created_at, updated_at) VALUES ('".$_REQUEST['nome']."', '".$_REQUEST['email']."', '".$_REQUEST['assunto']."', '".$_REQUEST['phone']."', '".$_REQUEST['message']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
		$htmlEmail = ("<html><head><title>Email Enviado pelo formulário de contato d".$parametrosSite['artigo']." Sistema de Teste Gosat</title></head><body><table width='100%' border='0' cellpadding='0' cellspacing='0'><tr><td width='150' valign='top'><img src='".URL."img/logo.png'></td><td valign='top'>Olá <b>Equipe Sistema de Teste Gosat</b>,<br>Foi enviado um email pelo formulário de fale conosco d".$parametrosSite['artigo']." Sistema de Teste Gosat<br><br>Dados da Mensagem:<br><br>Nome: <b>".$_REQUEST['nome']."</b><br>Email: <b>".$_REQUEST['email']."</b><br>Assunto: <b>".$_REQUEST['assunto']."</b><br>Telefone: <b>".$_REQUEST['phone']."</b><br>Mensagem: <b>".$_REQUEST['message']."</b><br>Data/Hora de Envio: <b>".date('d/m/Y H:i:s')."</b>");
        $htmlEmail .= "<br><br>Para ver essa mensagem no admin, <a href='".URL."admin/faleConosco'>clique aqui.</a><br><br></br>Atenciosamente,<br><br>Equipe Sistema de Teste Gosat<hr noshade><center>Email Desenvolvido Pela <a href='https://www.bhcommerce.com.br/'>BH Commerce</a></center><hr noshade></body></html>";
        $assunto = $parametrosSite['title'].(" - Email enviado pelo formulário de Fale Conosco do Site");
        $paraNome = $row['nome'];
        $paraEmail = $row['email'];
        $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
        $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($assunto), utf8_decode($htmlEmail));
        //mail(utf8_decode($parametrosSite['title']."<testegosat@bhcommerce.com.br>"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
        echo "1|-|".$_SESSION['cliente']['name']."|-|".$_SESSION['cliente']['email'];
        break;
    case "enviarTodosNaoEnviados":
        $sql = "SELECT a.*, b.nomeAniversariante, b.dataAniversario, b.nomeMae, b.nomePai, b.idade, b.cep, b.address, b.number, b.complement, b.neighborhood, b.city, b.state, b.slug, d.name AS nomeCliente, e.nomeFantasia, e.contato FROM presents_lists_guests a INNER JOIN presents_lists b ON (a.lista = b.id) INNER JOIN clients c ON (b.client = c.id) LEFT JOIN pessoa_fisicas d ON (c.id = d.client) LEFT JOIN pessoa_juridicas e ON (c.id = e.client) WHERE a.lista= '" . $_REQUEST['id'] . "' AND (a.send_email_at = '0000-00-00 00:00:00' OR a.send_email_at IS NULL)";
        //echo $sql;
        $query = mysqli_query($con, $sql);
        while($row = mysqli_fetch_array($query)) {
            $idLista = $row['lista'];
            $id = $row['id'];
            $nomeCliente = ($row['nomeCliente']) ? $row['nomeCliente'] : $row['nomeFantasia'] . " - " . $row['contato'];
            $vet = explode('-', $row['dataAniversario']);
            $row['dataAniversario'] = $vet[2] . "/" . $vet[1] . "/" . $vet[0];
            $htmlEmail = ("<html><head><title>Email de Lista de presentes</title></head><body><table width='100%' border='0' cellpadding='0' cellspacing='0'><tr><td width='150' valign='top'><img src='" . URL . "img/logo.png' width='150'></td><td valign='top'>Olá <b>" . ($row['name']) . "</b>,<br>O cliente " . ($nomeCliente) . " te adicionou a uma lista de presentes em nosso site.<h3>Dados da Lista</h3>Nome do Aniversariante: <b>" . ($row['nomeAniversariante']) . "</b><br>Data do aniversário: <b>" . $row['dataAniversario'] . "</b><br>Nome da mãe: <b>" . ($row['nomeMae']) . "</b><br>Nome do pai: <b>" . ($row['nomePai']) . "</b><br>Idade que vai completar: <b>" . ($row['idade']) . "</b><br>Endereço: <b>" . ($row['address'] . ", " . $row['number']));
            if ($row['complement']) {
                $htmlEmail .= ', ' . $row['complement'];
            }
            $htmlEmail .= (" - B. " . ($row['neighborhood'] . " - " . $row['city'] . " - " . $row['state']) . " - CEP: " . $row['cep'] . "</b><br><a href='".URL."lista-de-presentes/".$row['slug']."'>Ver a Lista de Presentes</a><h3>Produtos da Lista</h3>");
            $sql = "SELECT a.*, b.name AS nomeProduto, b.slug, c.id AS idItemProduto, c.name AS nomeItemProduto, c.value, c.promotion, c.validity_promotion FROM presents_lists_products a INNER JOIN products b ON (a.product = b.id) INNER JOIN products_items c ON (a.product_item = c.id) WHERE a.lista = '" . $row['lista'] . "'";
            $query2 = mysqli_query($con, $sql);
            if (mysqli_num_rows($query2)) {
                $i = 0;
                $htmlEmail .= "<table width='100%' cellpadding='0' cellspacing='0' border='0'><tr><th>Produto</th><th>Valor do Produto</th><th>Qtde</th><th>Ganhou</th><th>Comprar</th></tr>";
                while ($row2 = mysqli_fetch_array($query2)) {
                    $valorProduto = ($row2['promotion'] && $row2['valiidity_promotion'] <= date('Y-m-d')) ? $row2['promotion'] : $row2['value'];
                    $sql = "SELECT * FROM products_images WHERE product_item = '" . $row2['idItemProduto'] . "' LIMIT 1";
                    $query3 = mysqli_query($con, $sql);
                    $row3 = mysqli_fetch_array($query3);
                    $htmlEmail .= "<tr><td";
                    if ($i % 2 == 0) {
                        $htmlEmail .= " style='background-color:#E7E7E7'";
                    }
                    $htmlEmail .= "><a href='" . URL . "produto/" . $row2['slug'] . "'>";
                    $htmlEmail .= "<img src='" . URL . "storage/" . $row3['img'] . "' width='100'>";
                    $htmlEmail .= "<br>" . $row2['nomeProduto'] . " - " . $row2['nomeItemProduto'] . "</a></td><td";
                    if ($i % 2 == 0) {
                        $htmlEmail .= " style='background-color:#E7E7E7'";
                    }
                    $htmlEmail .= ">R$ " . number_format($valorProduto, 2, ',', '.') . "</td><td";
                    if ($i % 2 == 0) {
                        $htmlEmail .= " style='background-color:#E7E7E7'";
                    }
                    $htmlEmail .= ">" . $row2['quantity'] . "</td><td";
                    if ($i % 2 == 0) {
                        $htmlEmail .= " style='background-color:#E7E7E7'";
                    }
                    $htmlEmail .= ">" . $row2['ganhou'] . "</td><td style='text-align:center; ";
                    if ($i % 2 == 0) {
                        $htmlEmail .= "background-color:#E7E7E7";
                    }
                    $htmlEmail .= "'>";
                    if ($row2['quantity'] > $row2['ganhou']) {
                        $htmlEmail .= "<a href='" . URL . "addCart.php?idList=" . base64_encode($row2['lista']) . "&product=" . base64_encode($row2['product']) . "&product_item=" . base64_encode($row2['product_item']) . "&idGuest=" . base64_encode($row2['id']) . "'><img src='" . URL . "img/addCart.png' width='50'></a>";
                    }
                    $htmlEmail .= "</td></tr>";
                    $i++;
                }
                $htmlEmail .= "</table>";
            }
            $htmlEmail .= "</td></td></tr></table>Atenciosamente,<br><br>Equipe " . $parametrosSite['title'] . "<hr noshade><center>Email Desenvolvido Pela <a href='https://www.bhcommerce.com.br/'>BH Commerce</a></center><hr noshade></body></html>";
            $assunto = $parametrosSite['title'] . " - Lista de Presentes";
            $paraNome = $nomeCliente;
            $paraEmail = $row['email'];
            $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
            $cabecalhoEmail .= "From: " . $parametrosSite['title'] . "<" . $parametrosSite['email'] . ">\nReply-To: " . $parametrosSite['title'] . "<" . $parametrosSite['email'] . ">";
            enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $paraEmail, utf8_decode($paraNome), utf8_decode($assunto), utf8_decode($htmlEmail));
			//mail(utf8_decode($paraNome."<".$paraEmail.">"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
            $sql = "UPDATE presents_lists_guests SET send_email_at = '".date('Y-m-d H:i:s')."' WHERE id = '" . $id . "'";
            mysqli_query($con, $sql) or die(mysqli_error($con));
        }
        echo "1|-|".$_REQUEST['id']."|-|".$htmlEmail;
        break;
    case "excluirConvidado":
        $sql = "SELECT * FROM presents_lists_guests WHERE id = '" . $_REQUEST['id'] . "'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $sql = "DELETE FROM presents_lists_guests WHERE id = '" . $_REQUEST['id'] . "'";
            $query = mysqli_query($con, $sql);
            $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Excluiu o convidado ".$_REQUEST['id']." da lista de presentes ".$row['lista']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
            mysqli_query($con, $sql);
            echo "1|-|".$row['lista'];
        }
        break;
    case "visualizaConvidado":
        $sql = "SELECT * FROM presents_lists_guests WHERE id = '" . $_REQUEST['id'] . "'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        if ($row['send_email_at'] != '0000-00-00 00:00:00'){
            $vet = explode(' ', $row['send_email_at']);
            $vet2 = explode('-', $vet[0]);
            $row['send_email_at'] = $vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h";
        }
        else{
            $row['send_email_at'] = "Não Enviado";
        }
        $vet = explode(' ', $row['created_at']);
        $vet2 = explode('-', $vet[0]);
        $row['created_at'] = $vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h";
        $vet = explode(' ', $row['updated_at']);
        $vet2 = explode('-', $vet[0]);
        $row['updated_at'] = $vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h";
        echo "1|-|<div style='position:absolute; float:left; left:95%; cursor:pointer' onclick=fecha('visualizaConvidado')>&times;</div><h3 style='text-align:center'>Visualizar Convidado</h3><hr style='color:#f7f7f7'>Nome do convidado: <b>".($row['name'])."</b><br>Email do convidado: <b>".$row['email']."</b><br>Celular do convidado: <b>".$row['cel']."</b><br>Email enviado em: <b>".$row['send_email_at']."</b><br>Cadastrado em: <b>".$row['created_at']."</b><br>Atualizado em: <b>".$row['updated_at']."</b>";
        break;
    case "atualizarConvidado":
        if ($_REQUEST['emailConvidado'] != $_SESSION['cliente']['email']) {
            $sql = "SELECT * FROM presents_lists_guests WHERE id = '".$_REQUEST['id']."'";
            $query = mysqli_query($con, $sql);
            $row = mysqli_fetch_array($query);
            $sql = ("UPDATE presents_lists_guests SET name = '".$_REQUEST['nomeConvidado']."', email = '".$_REQUEST['emailConvidado']."', cel = '".$_REQUEST['celConvidado']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['id']."'");
            mysqli_query($con, $sql) or die(mysqli_error($con));
            $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Editou o convidado ".$_REQUEST['id']." da lista de presentes ".$row['lista']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
            mysqli_query($con, $sql);
            echo "1";
        }
        else{
            echo "0|-|Não é possível cadastrar o seu email em suas listas!";
        }
        break;
    case "editaConvidado":
        $sql = "SELECT * FROM presents_lists_guests WHERE id = '" . $_REQUEST['id'] . "'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        echo ("1|-|".$row['name']."|-|".$row['email']."|-|".$row['cel']);
        break;
    case 'cadastrarConvidado':
        if ($_REQUEST['emailConvidado'] != $_SESSION['cliente']['email']) {
            $sql = "SELECT * FROM presents_lists_guests WHERE lista = '" . $_REQUEST['idLista'] . "' AND email = '" . $_REQUEST['emailConvidado'] . "'";
            $query = mysqli_query($con, $sql);
            if (!mysqli_num_rows($query)) {
                $sql = ("INSERT INTO presents_lists_guests (lista, name, email, cel, send_email_at, created_at, updated_at) VALUES ('" . $_REQUEST['idLista'] . "', '" . $_REQUEST['nomeConvidado'] . "', '" . $_REQUEST['emailConvidado'] . "', '" . $_REQUEST['celConvidado'] . "', '0000-00-00 00:00:00', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                mysqli_query($con, $sql) or die(mysqli_error($con));
                $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Cadastrou um convidado à lista de presentes ".$_REQUEST['idLista']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                mysqli_query($con, $sql);
            }
            echo "1";
        }
        else{
            echo "0|-|Não é possível cadastrar o seu email em suas listas!";
        }
        break;
    case "abreListaConvidados":
        echo "1|-|<div style='position:absolute; float:left; left:95%; cursor:pointer' onclick=fecha('listaDeConvidados')>&times;</div><h3 style='text-align:center'>Lista de Convidados</h3><hr style='color:#E7E7E7'><div id='visualizaConvidado' style='display:none; position:absolute; width:100%; padding:5px; background-color:#FFFFFF; border-color:#e7e7e7; border-radius:15px'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick=fecha('visualizaConvidado')>&times;</div></div><div id='editConvidado' style='display:none; position:absolute; width:100%; padding:5px; background-color:#FFFFFF; border-color:#e7e7e7; border-radius:15px'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick=fecha('editConvidado')>&times;</div><h3 style='text-align:center'>Atualizar Convidado</h3><hr style='color:#e7e7e7'><input type='hidden' value='".$_REQUEST['id']."' name='idListEdita' id='idListEdita'><label for='nomeConvidadoEdita'>Nome do Convidado: </label><input type='text' class='form-control' name='nomeConvidadoEdita' id='nomeConvidadoEdita' required placeholder='Informe o nome do convidado aqui...'><label for='emailConvidadoEdita'>Email do Convidado: </label><input type='email' class='form-control' name='emailConvidadoEdita' id='emailConvidadoEdita' required placeholder='Informe o email do convidado aqui...'><label for='celConvidadoEdita'>Celular do Convidado: </label><input type='text' class='form-control' name='celConvidadoEdita' id='celConvidadoEdita' maxlength='14' onkeyup=formataCampo(this,'(##)#####-####',event) required placeholder='Informe o celular com o DDD do convidado aqui...'><input type='hidden' id='idEdita' name='idEdita' value=''><div style='text-align:right'><button type='button' class='btn btn-primary' onclick=atualizarConvidado('".URL."')>Atualizar</button> <button type='button' class='btn btn-secondary' onclick=fecha('editConvidado')>Fechar</button></div></div><div id='addConvidado' style='display:none; position:absolute; width:100%; padding:5px; background-color:#FFFFFF; border-color:#e7e7e7; border-radius:15px'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick=fecha('addConvidado')>&times;</div><h3 style='text-align:center'>Adicionar Convidado</h3><hr style='color:#e7e7e7'><input type='hidden' value='".$_REQUEST['id']."' name='idListAdd' id='idListAdd'><label for='nomeConvidadoAdd'>Nome do Convidado: </label><input type='text' class='form-control' name='nomeConvidadoAdd' id='nomeConvidadoAdd' required placeholder='Informe o nome do convidado aqui...'><label for='emailConvidadoAdd'>Email do Convidado: </label><input type='email' class='form-control' name='emailConvidadoAdd' id='emailConvidadoAdd' required placeholder='Informe o email do convidado aqui...'><label for='celConvidadoAdd'>Celular do Convidado: </label><input type='text' class='form-control' name='celConvidadoAdd' id='celConvidadoAdd' maxlength='14' onkeyup=formataCampo(this,'(##)#####-####',event) required placeholder='Informe o celular com o DDD do convidado aqui...'><div style='text-align:right'><button type='button' class='btn btn-primary' onclick=cadastrarConvidado('".URL."')>Cadastrar</button> <button type='button' class='btn btn-secondary' onclick=fecha('addConvidado')>Fechar</button></div></div>";
		$sql = "SELECT * FROM presents_lists WHERE id = '".$_REQUEST['id']."' AND status = '1'";
		$query = mysqli_query($con, $sql);
		$totLista = mysqli_num_rows($query);
		if ($totLista){
			echo "<div style='text-align:right; float:left'><button type='button' class='btn btn-primary' onclick=abreFecha('addConvidado')>Adicionar Convidado</button> <div style='float:left; padding-top:15px'><button type='button' class='btn btn-info' onclick=enviarTodosNaoEnviados('".$_REQUEST['id']."','".URL."')>Enviar a Todos não enviados</button></div>";
		}
		echo "</div>";
        $sql = "SELECT * FROM presents_lists_guests WHERE lista = '".$_REQUEST['id']."' ORDER BY created_at DESC";
        //echo $sql;
        $query = mysqli_query($con, $sql);
        $i = 0;
        if (mysqli_num_rows($query)){
            echo "<table border='0' width='100%' cellpadding='0' cellspacing='0' style='border-radius:15px'><tr><th style='text-align:center'>Nome do Convidado</th><th style='text-align:center'>Email do Convidado</th><th style='text-align:center'>Celular do Convidado</th><th style='text-align:center'>Data de Envio</th><th style='text-align:center'>Ações</th></tr>";
            while ($row = mysqli_fetch_array($query)){
                echo "<tr><td style='padding:5px;";
                if ($i % 2 == 0){
                    echo " background-color:#e7e7e7";
                }
                echo "'>".($row['name'])."</td><td style='padding:5px;";
                if ($i % 2 == 0){
                    echo " background-color:#e7e7e7";
                }
                echo "'>".$row['email']."</td><td style='padding:5px;";
                if ($i % 2 == 0){
                    echo " background-color:#e7e7e7";
                }
                echo "'>".$row['cel']."</td>";
                if ($row['send_email_at'] != '0000-00-00 00:00:00'){
                    $vet = explode(' ', $row['send_email_at']);
                    $vet2 = explode('-', $vet[0]);
                    $row['send_email_at'] = $vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h";
                }
                else{
                    $row['send_email_at'] = "Não enviado";
                }
                echo "<td style='padding:5px;";
                if ($i % 2 == 0){
                    echo " background-color:#e7e7e7";
                }
                echo "'>".$row['send_email_at']."</td><td style='padding:5px;";
                if ($i % 2 == 0){
                    echo " background-color:#e7e7e7";
                }
                echo "'>";
				if ($totLista){
					echo "<img src='".URL."img/enviarEmail.png' width='20' style='cursor:pointer' onclick=enviarEmailConvidado('".$row['id']."','".URL."')> ";
				}
				echo "<img src='".URL."img/visualizar.svg' width='20' style='cursor:pointer' onclick=visualizaConvidado('".$row['id']."','".URL."')> ";
				if ($totLista){
					echo "<img src='".URL."img/editar.png' width='20' style='cursor:pointer' onclick=editaConvidado('".$row['id']."','".URL."')> <img src='".URL."img/excluir.png' width='20' style='cursor:pointer' onclick=excluirConvidado('".$row['id']."','".URL."')>";
				}
				echo "</td></tr>";
                $i++;
            }
            echo "</table>";
        }
        else{
            echo "<button type='button' class='btn btn-danger'>Nenhum convidado encontrado!</button>";
        }
        echo "<div style='text-align:right'><button type='button' class='btn btn-secondary' onclick=fecha('listaDeConvidados')>Fechar</button></div>";
        $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Visualizou os convidados da lista de presentes ".$_REQUEST['id']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql);
        break;
    case "atualizarProdutoLista":
        $sql = "SELECT * FROM presents_lists_products WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "UPDATE presents_lists_products SET product = '".$_REQUEST['produto']."', product_item = '".$_REQUEST['itemVenda']."', quantity = '".$_REQUEST['quantidade']."' WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo "1|-|".$row['lista'];
        break;
    case "excluirProdutoLista":
        $sql = "SELECT * FROM presents_lists_products WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "DELETE FROM presents_lists_products WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Excluiu o produto ".$row['product']." da lista de presentes ".$row['lista']."!', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1|-|".$row['lista'];
        break;
    case "editaProdutoLista":
        $sql = "SELECT * FROM presents_lists_products WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $html = "<div style='position:absolute; float:left; left:95%; cursor:pointer' onclick=fecha('editaProdutoLista')>&times;</div><h3 style='text-align:center'>Editar Produto da Lista</h3><hr style='color:#e7e7e7'><label for='produtoListaEdicao'>Produto:</label><select name='produtoListaEdicao' id='produtoListaEdicao' onchange=selecionaProdutoListaProdutos(this.value,'".URL."','itemVendaEdicao') class='form-control'><option value=''>Selecione um produto corretamente...</option>";
        $sql = "SELECT * FROM products WHERE status = '1'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row2 = mysqli_fetch_array($query)){
                $html .= "<option value='".$row2['id']."' ";
                if ($row2['id'] == $row['product']){
                    $html .= "selected";
                }
                $html .= ">".($row2['name'])."</option>";
            }
        }
        $html .= "</select><div id='itemVendaEdicao'><label for='itemVendaListaEdicao'>Item de Venda:</label><select name='itemVendaListaEdicao' id='itemVendaListaEdicao' onchange=selecionaItemVendaProdutoLista(this.value,'".URL."','quantidadeEdicao') class='form-control'><option value=''>Selecione um item de venda corretamente...</option>";
        $sql = "SELECT a.*, b.name AS nomeProduto FROM products_items a INNER JOIN products b ON (a.product = b.id) WHERE a.status = '1' AND a.product = '".$row['product']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row3 = mysqli_fetch_array($query)){
                $html .= "<option value='".$row3['id']."' ";
                if ($row3['id'] == $row['product_item']){
                    $html .= "selected";
                }
                $html .= ">".($row3['nomeProduto']." - ".$row3['name'])."</option>";
            }
        }
        $html .= "</select><div id='quantidadeEdicao'><label for='quantidadeListaProdutosEdicao'>Quantidade:</label><input type='number' id='quantidadeListaProdutosEdicao' name='quantidadeListaProdutosEdicao' class='form-control' value='".$row['quantity']."' min='1' max='".$row['estoque']."'></div></div><span id='editarProdutoLista'><button class='btn btn-primary' onclick=atualizarProdutoLista('".$_REQUEST['id']."','".URL."')>Atualizar</button></span><button class='btn btn-secondary' onclick=fecha('editaProdutoLista')>Fechar</button>";
        $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Atualizou o produto ".$row['product']." da lista de presentes ".$row['lista']."!', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1|-|".($html);
        break;
    case "cadastrarProdutoLista":
        $sql = "SELECT * FROM presents_lists_products WHERE lista = '".$_REQUEST['id']."' AND product = '".$_REQUEST['produto']."' AND product_item = '".$_REQUEST['itemVenda']."'";
        $query = mysqli_query($con, $sql);
        if (!mysqli_num_rows($query)) {
            $sql = "INSERT INTO presents_lists_products (lista, product, product_item, quantity, ganhou, created_at, updated_at) VALUES ('" . $_REQUEST['id'] . "', '" . $_REQUEST['produto'] . "', '" . $_REQUEST['itemVenda'] . "', '" . $_REQUEST['quantidade'] . "', '0', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
        }
        else{
            $row = mysqli_fetch_array($query);
            $quantidade = $row['quantity'] + $_REQUEST['quantidade'];
            $sql = "UPDATE presents_lists_products SET quantity = '".$quantidade."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
            mysqli_query($con, $sql);
        }
        $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Inseriu um produto a lista de presentes ".$_REQUEST['id']."!', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1";
        break;
    case "selecionaItemVendaProdutoLista":
        $sql = "SELECT * FROM products_items WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = "<label for='quantidadeProdutoLista'>Quantidade: </label>";
            $row = mysqli_fetch_array($query);
            if ($row['estoque']){
                $html .= "<input type='number' name='quantidadeProdutoLista' id='quantidadeProdutoLista' class='form-control' min='1' max='".$row['estoque']."' value='1'>";
                $semEstoque = 0;
            }
            else{
                $html = "<button class='btn btn-danger'>Este item de venda se encontra sem estoque!!</button>";
                $semEstoque = 1;
            }
        }
        else{
            $html = "<button class='btn btn-danger'>Este item de venda não existe!</button>";
        }
        echo "1|-|".$html."|-|".$semEstoque;
        break;
    case "selecionaProdutoListaProdutos":
        $html = "<label for='itemVendaListaProdutos'>Item de Venda: </label><select name='itemVendaListaProdutos' id='itemVendaListaProdutos' class='form-control' onchange=selecionaItemVendaProdutoLista(this.value,'".URL."')><option value=''>Selecione o item de venda corretamente...</option>";
        $sql =  "SELECT a.*, b.name AS nomeProduto FROM products_items a INNER JOIN products b ON (a.product = b.id) WHERE a.product = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $valor = ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')) ? $row['promotion'] : $row['value'];
                $html .= "<option value='".$row['id']."'>".($row['nomeProduto']." - ".$row['name'])." - R$ ".number_format($valor, 2, ',', '.')."</option>";
            }
        }
        $html .= "</select><div id='qtdeProdutoListaProdutos' style='display:none'></div>";
        echo "1|-|".$html;
       break;
    case 'abreListaPresentes':
        $html = "<div style='height:500px; overflow:auto'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick=fecha('listaDePresentes')>&times;</div><div id='editaProdutoLista' style='display:none; position:absolute; background-color:#FFFFFF; border:1px solid #e7e7e7; width:100%; border-radius:15px; padding:5px'></div><div id='addProdutoListaPresentes' style='position:absolute; width:100%; background-color:#FFFFFF; border:1px solid #e7e7e7; border-radius:15px; padding:5px; display:none'><div style='position:absolute;float:left; left:95%; cursor:pointer' onclick=fecha('addProdutoListaPresentes')>&times;</div><h3 style='text-align:center'>Adicionar Produto à Lista</h3><hr style='color:#e7e7e7'><input type='hidden' id='idListaProdutosCadastro' name='idListaProdutosCadastro' value='".$_REQUEST['id']."'><label for='produtoListaProdutos'>Produto: </label><select name='produtoListaProdutos' id='produtoListaProdutos' class='form-control' required onchange=selecionaProdutoListaProdutos(this.value,'".URL."')><option value=''>Selecione o produto abaixo corretamente...</option>";
        $sql = "SELECT * FROM products WHERE status = '1'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $html .= "<option value='".$row['id']."'>".($row['name'])."</option>";
            }
        }
		$sql = "SELECT * FROM presents_lists WHERE id = '".$_REQUEST['id']."' AND status = '1'";
		$query = mysqli_query($con, $sql);
		$totLista = mysqli_num_rows($query);
        $html .= "</select><div id='itensVendaProdutoListaProdutos' style='display:none'></div><div style='text-align:right'><span id='salvarProdutoLista' style='display:none'><button class='btn btn-primary' onclick=cadastrarProdutoLista('".$_REQUEST['id']."','".URL."')>Cadastrar</button></span><button class='btn btn-secondary' onclick=fecha('addProdutoListaPresentes')>Fechar</button></div></div><h3 style='text-align:center'>Lista de Presentes</h3><hr style='color: #e7e7e7'>";
		if ($totLista){
			$html .= "<button type='button' class='btn btn-primary' onclick=abreFecha('addProdutoListaPresentes')>Cadastrar Novo</button>";
        }
		$sql = "SELECT a.*, b.name AS nomeProduto, b.slug, c.name AS nomeItemVenda, c.value, c.promotion, c.validity_promotion, c.estoque FROM presents_lists_products a INNER JOIN products b ON (a.product = b.id) INNER JOIN products_items c ON (a.product_item = c.id) WHERE a.lista = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html .= "<table width='100%' border='0' cellpadding='0' cellspacing='0'><tr><th>Produto</th><th>Valor</th><th>Quantidade</th><th>Ganhou</th><th>Ações</th></tr>";
            while ($row = mysqli_fetch_array($query)){
                $sql = "SELECT * FROM products_images WHERE product_item = '".$row['product_item']."' LIMIT 1";
                $query2 = mysqli_query($con, $sql);
                $row2 = mysqli_fetch_array($query2);
                $valor = ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')) ? $row['promotion'] : $row['value'];
                $html .= ("<tr><td style='text-align:center'><a href='".URL."produto/".$row['slug']."'>");
                if ($row2['img']){
                    $html .= "<img src='".URL."storage/".$row2['img']."' width='100'>";
                }
                else{
                    $html .= "<img src='".URL."storage/sem_imagem.png' width='100'>";
                }
                $html .= ("<br>".$row['nomeProduto']." - ".$row['nomeItemVenda']."</a></td><td style='text-align:center'>R$ ".number_format($valor, 2,',','.')."</td><td style='text-align:center'>".$row['quantity']."</td><td style='text-align:center'>".$row['ganhou']."</td><td style='text-align:center'>");
                if ($totLista && $row['quantity'] > $row['ganhou']) {
                    $html .= "<img src='" . URL . "img/editar.png' width='20' style='cursor:pointer' onclick=editaProdutoLista('" . $row['id'] . "','" . URL . "')> <img src='" . URL . "img/excluir.png' width='20' style='cursor:pointer' onclick=excluirProdutoLista('" . $row['id'] . "','" . URL . "')>";
                }
                $html .= "</td></tr>";
            }
            $html .= "</table>";
        }
        else{
            $html .= "<center><button class='btn btn-danger'>Não foi encontrado nenhum produto para esta lista!</button></center>";
        }
        $html .= "</div>";
        echo "1|-|".$html;
        break;
    case "visusalizarListaPresentes":
        $sql = "SELECT * FROM presents_lists WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $lista = mysqli_fetch_array($query);
            $vet = explode('-', $lista['dataAniversario']);
            $lista['dataAniversario'] = $vet[2]."/".$vet[1]."/".$vet[0];
            $vet = explode(' ', $lista['created_at']);
            $vet2 = explode('-', $vet[0]);
            $lista['created_at'] = $vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h";
        }
        $html = "<div style='position:absolute; float:left; left:95%; cursor:pointer' onclick='fecha(\"visusalizarListaPresentes\")'>&times;</div><h3 style='text-align:center'>Visualização de Lista de Presentes</h3><hr style='color:#E7E7E7'>URL da Lista: <a href='".URL."lista-de-presentes/".$lista['slug']."'>".URL."lista-de-presentes/".$lista['slug']."</a><br>Nome do Aniversariante: <b>".($lista['nomeAniversariante'])."</b><br>Data do Aniversário: <b>".$lista['dataAniversario']."</b><br>Nome da Mãe: <b>".($lista['nomeMae'])."</b><br>Nome do Pai: <b>".($lista['nomePai'])."</b><br>Idade do Aniversariante: <b>".$lista['idade']." ano";
        if ($lista['idade'] > 1){
            $html .= "s";
        }
        $html .= "</b><br>CEP: <b>".$lista['cep']."</b><br>Logradouro: <b>".($lista['address'])."</b><br>Número: <b>".($lista['number'])."</b>";
        if ($lista['complement']) {
            $html .= "<br>Complemento: <b>" . ($lista['complement']) . "</b>";
        }
        $html .= "<br>Bairro: <b>".($lista['neighborhood'])."</b><br>Cidade: <b>".($lista['city'])."</b><br>Estado: <b>".($lista['state'])."</b><br>Data do Cadastro: <b>".$lista['created_at']."</b>";
        echo "1|-|".$html;
        break;
    case "editaListaPresentes":
        $sql = "SELECT * FROM presents_lists WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $lista = mysqli_fetch_array($query);
        }
        $html = "<input type='hidden' value='".$lista['id']."' name='idListaEdicao' id='idListaEdicao'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick='fecha(\"editarListaPresentes\")'>&times;</div><h3 style='text-align:center'>Atualização de Lista de Presentes</h3><hr style='color:#E7E7E7'><label for='nomeAniversarianteEdicao'>Nome do(a) Aniversariante: </label><input type='text' value='".($lista['nomeAniversariante'])."' name='nomeAniversarianteEdicao' id='nomeAniversarianteEdicao' required class='form-control'><label for='dataAniversarioEdicao'>Data do Aniversário: </label><input type='date' value='".$lista['dataAniversario']."' name='dataAniversarioEdicao' id='dataAniversarioEdicao' required class='form-control'><label for='nomeMaeEdicao'>Nome da Mãe do(a) Aniversariante: </label><input type='text' value='".($lista['nomeMae'])."' class='form-control' name='nomeMaeEdicao' id='nomeMaeEdicao' required><label for='nomePaiEdicao'>Nome do Pai do(a) Aniversariante: </label><input type='text' value='".($lista['nomePai'])."' class='form-control' name='nomePaiEdicao' id='nomePaiEdicao' required><label for='idadeEdicao'>Idade que o(a) aniversariante vai fazer: </label><input type='number' value='".$lista['idade']."' name='idadeEdicao' id='idadeEdicao' class='form-control' required><label for='cepListaEdicao'>CEP: </label><input type=\"text\" name=\"cepListaEdicao\" id=\"cepListaEdicao\" class=\"form-control\" onkeyup=\"mascara(this, '#####-###', event); pesquisacependerecoedicaolista(this.value)\" maxlength=\"9\" value='".($lista['cep'])."'><label for='logradouroListaEdicao'>Logradouro: </label><input type='text' value='".($lista['address'])."' class='form-control' name='logradouroListaEdicao' id='logradouroListaEdicao' required><label for='numeroListaEdicao'>Número: </label><input type='text' value='".($lista['number'])."' class='form-control' name='numeroListaEdicao' id='numeroListaEdicao' required>";
        if ($lista['complement']){
            $html .= "<label for='complementoListaEdicao'>Complemento: </label><input type='text' value='".($lista['complement'])."' class='form-control' name='complementoListaEdicao' id='complementoListaEdicao'>";
        }
        $html .= "<label for='bairroListaEdicao'>Bairro: </label><input type='text' value='".($lista['neighborhood'])."' class='form-control' name='bairroListaEdicao' id='bairroListaEdicao' required><label for='cidadeListaEdicao'>Cidade: </label><input type='text' value='".($lista['city'])."' class='form-control' name='cidadeListaEdicao' id='cidadeListaEdicao' required><label for='estadoListaEdicao'>Estado: </label><select class='form-control' name='estadoListaEdicao' id='estadoListaEdicao' required><option value=''>UF</option>";
        $sql = "SELECT * FROM states ORDER BY sigla ASC";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $html .= "<option value='".$row['sigla']."'";
                if ($row['sigla'] == $lista['state']){
                    $html .= " selected";
                }
                $html .= ">".$row['sigla']."</option>";
            }
        }
        $html .= "</select><div style='float:left; padding-top:0px; margin:0px'><button type='button' class='btn btn-primary' onclick=edicaoListaPresentes('".URL."')>Editar</button></div><div style='float:left; padding-top:15px; margin:0px'><button type='button' class='btn btn-info' onclick=fecha('editarListaPresentes')>Fechar</button></div>";
        echo "1|-|".$html;
        break;
    case "removerDaListaPresentes":
        unset($_SESSION['idLista']);
        echo "1";
        break;
    case "adicionarProdutosALista":
        $_SESSION['idLista'] = $_REQUEST['id'];
        echo "1";
        break;
    case "excluirListaPresentes":
        $sql = ("DELETE FROM presents_lists WHERE id = '".$_REQUEST['id']."'");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $_SESSION['idLista'] = mysqli_insert_id($con);
        $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Excluiu a lista de presentes ".$_REQUEST['id']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql);
        echo "1|-|";
        break;
    case "cadastraListaPresentes":
        $slug = RetirarAcentos(($_REQUEST['nomeAniversariante']."_".$_REQUEST['dataAniversario']));
        $sql = "SELECT * FROM presents_lists WHERE slug = '".$slug."'";
        $query = mysqli_query($con, $sql);
        $qualEsta = 2;
        while (mysqli_num_rows($query)){
            $slug = RetirarAcentos(($_REQUEST['nomeAniversariante']."_".$qualEsta."_".$_REQUEST['dataAniversario']));
            $sql = "SELECT * FROM presents_lists WHERE slug = '".$slug."'";
            $query = mysqli_query($con, $sql);
            $qualEsta++;
        }
        $sql = ("INSERT INTO presents_lists (client, nomeAniversariante, dataAniversario, slug, nomeMae, nomePai, idade, cep, address, number, complement, neighborhood, city, state, status, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', '".$_REQUEST['nomeAniversariante']."', '".$_REQUEST['dataAniversario']."', '".$slug."', '".$_REQUEST['nomeMae']."', '".$_REQUEST['nomePai']."', '".$_REQUEST['idade']."', '".$_REQUEST['cep']."', '".$_REQUEST['logradouro']."', '".$_REQUEST['numero']."', '".$_REQUEST['complemento']."', '".$_REQUEST['bairro']."', '".$_REQUEST['cidade']."', '".$_REQUEST['estado']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $_SESSION['idLista'] = mysqli_insert_id($con);
        $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Cadastrou uma nova lista de presentes!', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1|-|".$sql;
        break;
    case "atualizaListaPresentes":
	$slug = RetirarAcentos(($_REQUEST['nomeAniversariante']."_".$_REQUEST['dataAniversario']));
        $sql = "SELECT * FROM presents_lists WHERE slug = '".$slug."' AND id != '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $qualEsta = 2;
        while (mysqli_num_rows($query)){
            $slug = RetirarAcentos(($_REQUEST['nomeAniversariante']."_".$qualEsta."_".$_REQUEST['dataAniversario']));
            $sql = "SELECT * FROM presents_lists WHERE slug = '".$slug."' AND id != '".$_REQUEST['id']."'";
            $query = mysqli_query($con, $sql);
            $qualEsta++;
        }
        $sql = "SELECT * FROM presents_lists WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        if (date('Y-m-d') > $_REQUEST['dataAniversario']){
            $status = 0;
        }
        else{
            $status = 1;
        }
        $sql = ("UPDATE presents_lists SET nomeAniversariante = '".($_REQUEST['nomeAniversariante'])."', dataAniversario = '".$_REQUEST['dataAniversario']."', slug = '".$slug."', nomeMae = '".($_REQUEST['nomeMae'])."', nomePai = '".($_REQUEST['nomePai'])."', idade = '".$_REQUEST['idade']."', cep = '".$_REQUEST['cep']."', address = '".($_REQUEST['logradouro'])."', number = '".($_REQUEST['numero'])."', complement = '".($_REQUEST['complemento'])."', neighborhood = '".($_REQUEST['bairro'])."', city = '".($_REQUEST['cidade'])."', state = '".$_REQUEST['estado']."', status = '".$status."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['id']."'");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        if ($status) {
            $_SESSION['idLista'] = $_REQUEST['id'];
        }
		elseif ($_SESSION['idLista'] == $_REQUEST['id']){
			$_SESSION['idLista'] = "";
		}
        $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Atualizou a lista de presentes ".$_REQUEST['id']."!', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1|-|".$sql;
        break;
    case "cadastraProdutoPedido":
        $sql = "SELECT * FROM products_items WHERE id = '".$_REQUEST['idItem']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "SELECT * FROM products WHERE id = '".$_REQUEST['idProduto']."'";
        $query = mysqli_query($con, $sql);
        $row2 = mysqli_fetch_array($query);
        $sql = "SELECT a.*, b.cep FROM requests a INNER JOIN addresses b ON (a.address = b.id) WHERE a.id = '".$_REQUEST['idPedido']."'";
        $query = mysqli_query($con, $sql);
        $row3 = mysqli_fetch_array($query);
        $sql = "SELECT * FROM payment_methods WHERE id = '".$row3['paymentMethod']."'";
        $query = mysqli_query($con, $sql);
        $rowFmPagamento = mysqli_fetch_array($query);
        $estoque = $row['estoque'] - $_REQUEST['quantidade'];
        $valor = ($row['promotion'] != '0.00' && $row['validity_promotion'] >= date('Y-m-d')) ? $row['promotion'] : $row['value'];
        $sql = "UPDATE products_items SET estoque = '".$estoque."' WHERE id = '".$_REQUEST['idItem']."'";
        mysqli_query($con, $sql);
        $sql = "INSERT INTO requests_items (request, product, product_item, name, value, quantity, created_at, updated_at) VALUES ('".$_REQUEST['idPedido']."', '".$_REQUEST['idProduto']."', '".$_REQUEST['idItem']."', '".$row2['name']." - ".$row['name']."', '".$valor."', '".$_REQUEST['quantidade']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $sql = "SELECT a.*, b.peso, b.comprimento, b.largura, b.altura, b.diametro FROM requests_items a INNER JOIN products_items b ON (a.product_item = b.id) WHERE a.request = '".$_REQUEST['idPedido']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while($row = mysqli_fetch_array($query)){
                if (!preg_match('/Vale Presente/', $row['name'])) {
                    $valorSubtotal += $row['value'] * $row['quantity'];
                    $peso += $row['peso'] * $row['quantity'];
                    $diametro += $row['diametro'] * $row['quantity'];
                    $comprimento += $row['comprimento'] * $row['quantity'];
                    $largura += $row['largura'] * $row['quantity'];
                    $altura += $row['altura'] * $row['quantity'];
                }
            }
        }
        if ($rowFmPagamento['pagamentoAVista'] == 1){
            $descontoAVista = $parametrosSite['descontoAVista'] * $valorSubtotal / 100;
        }
        else{
            $descontoAVista = 0;
        }
        if ($row3['tipoFrete'] != 'Frete_Gratis') {
            if ($row3['tipoFrete'] == 'SEDEX'){
                $tipoFrete = 40010;
            }
            elseif ($row3['tipoFrete'] == 'PAC'){
                $tipoFrete = 41106;
            }
            elseif ($row3['tipoFrete'] == 'SEDEX_10'){
                $tipoFrete = 40215;
            }
            elseif ($row3['tipoFrete'] == 'SEDEX_Hoje'){
                $tipoFrete = 40290;
            }
            unset($data);
            $data['nCdEmpresa'] = '';
            $data['sDsSenha'] = '';
            $data['sCepOrigem'] = $parametrosSite['cepLoja'];
            $data['sCepDestino'] = str_replace('-', '', $row3['cep']);
            $data['nVlPeso'] = $peso;
            $data['nCdFormato'] = '1';
            $data['nVlComprimento'] = $comprimento;
            $data['nVlAltura'] = $altura;
            $data['nVlLargura'] = $largura;
            $data['nVlDiametro'] = $diametro;
            $data['sCdMaoPropria'] = 's';
            $data['nVlValorDeclarado'] = $valorSubtotal - $descontoAVista;
            $data['sCdAvisoRecebimento'] = 'n';
            $data['StrRetorno'] = 'xml';
            $data = http_build_query($data);
            $url = 'http://ws.correios.com.br/calculador/CalcPrecoPrazo.aspx';
            $curl = curl_init($url . '?' . $data."&nCdServico=".$tipoFrete);
            curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);

            $result = curl_exec($curl);

            $result = simplexml_load_string($result);

            foreach ($result->cServico as $row) {

                //Os dados de cada serviço estará aqui

                $retorno[$k] = $row;

            }
            foreach ($retorno as $key => $value) {
                $valorFrete = str_replace(".", "", $value->Valor);
                $valorFrete = str_replace(",", ".", $valorFrete);
            }
        }
        else{
            $valorFrete = 0;
        }
        $descontoAVista = str_replace(',', '.', str_replace('.', "", $descontoAVista));
        $valorTotal = $valorSubtotal + $valorFrete - $row3['valurDiscount'] - $descontoAVista;
        $valorTotal = str_replace(',', '.', str_replace('.', "", $valorTotal));
        $sql = "UPDATE requests SET valueSubtotal = '".$valorSubtotal."', descontoAVista = '".$descontoAVista."', valueFrete = '".$valorFrete."', valueTotal = '".$valorTotal."' WHERE id = '".$_REQUEST['idPedido']."'";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "listarMensagemPedido":
        $sql = "SELECT a.*, b.email, c.name, d.nomeFantasia FROM requests a INNER JOIN clients b ON (a.client = b.id) LEFT JOIN pessoa_fisicas c ON (a.id = c.client) LEFT JOIN pessoa_juridicas d ON (a.id = d.client) WHERE a.id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $html = "<h5>Mensagens Internas (vista só no admin)</h5>".nl2br($row['msInterna'])."<h5>Mensagens Externas (vista também pelo cliente)</h5>".nl2br($row['msExterna'])."<h5>Mensagens de Email</h5>".nl2br($row['msEmail']);
        echo "1|-|".$html;
        break;
    case "cadastraMensagemPedido":
        $msgMensagem = "em <b>".date('d/m/Y')."</b> às <b>".date('H:i:s')."</b>h<br><br>Por: <b>".$_SESSION['user']['name']."</b><br><br>Email do cliente: <b>".$_SESSION['user']['email']."</b><br><br>Referente ao pedido: <b>".sprintf("%012s", $_REQUEST['idPedido'])."</b><br><br>Mensagem: <b>".$_REQUEST['mensagem']."</b>";
        $sql = "SELECT a.*, b.email, c.name, d.nomeFantasia FROM requests a INNER JOIN clients b ON (a.client = b.id) LEFT JOIN pessoa_fisicas c ON (a.id = c.client) LEFT JOIN pessoa_juridicas d ON (a.id = d.client) WHERE a.id = '".$_REQUEST['idPedido']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        if ($_REQUEST['msInterna']){
            if ($row['msInterna']){
                $msInterna = $msgMensagem."<hr noshade>".$row['msInterna'];
            }
            else{
                $msInterna = $msgMensagem;
            }
        }
        if ($_REQUEST['msExterna']){
            if ($row['msExterna']){
                $msExterna = $msgMensagem."<hr noshade>".$row['msExterna'];
            }
            else{
                $msExterna = $msgMensagem;
            }
        }
        if ($_REQUEST['msEmail']){
            if ($row['msEmail']){
                $msEmail = $msgMensagem."<hr noshade>".$row['msEmail'];
            }
            else{
                $msEmail = $msgMensagem;
            }
            $msgEmail = "<html><head><title>Sistema de Teste Gosat - Mensagem referente ao pedido ".sprintf("%012s", $_REQUEST['idPedido'])."</title></head><body><table border='0' width='100%'><tr><td width='30%' style='text-align:center'><img src='".URL."img/logo.png' width='100'></td><td>".str_replace("\r\n", "<br>", $msgMensagem)."<br><br>Atenciosamente,<br><br>Equipe <b>Sistema de Teste Gosat</b><hr noshade><center>Email Desenvolvido Pela <a href='https://www.bhcommerce.com.br/'>BH Commerce</a></center><hr noshade></td></tr></table></body></html>";
            if ($row['name']) {
                $paraNome = $row['name'];
            }
			else{
				$paraNome = $row['nomeFantasia'];
			}
            $paraEmail = $row['email'];
            $assunto = $parametrosSite['title']." - Mensagem referente ao pedido ".sprintf("%012s", $_REQUEST['idPedido']);
            $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
            $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
            //mail(utf8_decode($paraNome."<".$paraEmail.">"), utf8_decode($assunto), utf8_decode($msgEmail), utf8_decode($cabecalhoEmail));
			enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $paraEmail, utf8_decode($paraNome), utf8_decode($assunto), utf8_decode($msgEmail));

        }
        $sql = "UPDATE requests SET ";
        if ($msInterna){
            $sql .= "msInterna = '".$msInterna."'";
            $entrou = 1;
        }
        if ($msExterna){
            if ($entrou == 1){
                $sql .= ', ';
            }
            $sql .= "msExterna = '".$msExterna."'";
            $entrou = 1;
        }
        if ($msEmail){
            if ($entrou == 1){
                $sql .= ', ';
            }
            $sql .= "msEmail = '".$msEmail."'";
            $entrou = 1;
        }
        $sql .= " WHERE id = '".$_REQUEST['idPedido']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1";
        break;
    case "visualizarPedidos":
        echo "1|-|";
        $sql = "SELECT a.*, b.name, c.nomeFantasia, d.sigla AS siglaStatus, d.name AS nomeStatus, d.color, d.background, e.name AS nomeFormaPagamento FROM requests a LEFT JOIN pessoa_fisicas b ON (a.client = b.client) LEFT JOIN pessoa_juridicas c ON (a.client = c.client) INNER JOIN requests_statuses d ON (a.status = d.id) INNER JOIN payment_methods e ON (a.paymentMethod = e.id) WHERE a.client = '".$_SESSION['cliente']['id']."' ORDER BY a.created_at DESC";
        $query = mysqli_query($con, $sql) or die(mysqli_error($con));
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                echo '<div class="col-6" style="border-radius:15px; float:left; padding:5px; cursor:pointer; color:'.$row['color'].'; background-color: '.$row['background'].'; height:230px" onclick=location.href="'.URL.'pagina/detalhes-do-pedido/'.base64_encode($row['id']).'"><h5>Pedido '.sprintf("%012s", $row['id']).'</h5>';
                if ($row['name']){
                    echo "Nome do cliente: <b>".utf8_decode($row['name'])."</b>";
                }
                else{
                    echo "Nome da empresa: <b>".utf8_decode($row['nomeFantasia'])."</b>";
                }
                echo '<br>Status do Pedido: <b title="'.($row['nomeStatus']).'">'.($row['siglaStatus']).'</b><br>Forma de Pagamento: <b>'.($row['nomeFormaPagamento']).'</b><br>Valor do Pedido: <b>R$'.number_format($row['valueTotal'], 2, ',', '.').'</b></div>';
            }
        }
        else{
            echo '<div class="btn btn-danger" data-dismiss="modal">Nenhum pedido encontrado até o momento!</div>';
        }
        break;
    case "visualizarListaPresentes":
        $sql = "SELECT * FROM presents_lists WHERE dataAniversario < '".date('Y-m-d')."' AND status = '1'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
			while ($row = mysqli_fetch_array($query)){
				$sql = "UPDATE presents_lists SET status = '0' WHERE id = '".$row['id']."'";
				mysqli_query($con, $sql);
			}
		}
        echo "1|-|<div style='position:absolute; display:none; border:1px solid #e7e7e7; background-color:#FFFFFF; border-radius:15px; width:100%; padding:5px;' id='listaDeConvidados'></div><div style='position:absolute; display:none; border:1px solid #e7e7e7; background-color:#FFFFFF; border-radius:15px; width:100%; padding:5px;' id='listaDePresentes'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick='fecha(\"listaDePresentes\")'>&times;</div><h3>Lista de Presentes</h3></div><div style='position:absolute; display:none; border:1px solid #e7e7e7; background-color:#FFFFFF; border-radius:15px; width:100%' id='addListaPresentes'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick='fecha(\"addListaPresentes\")'>&times;</div><input type='hidden' name='urlAddListasPresentes' id='urlAddListasPresentes' value='".URL."'><h3 style='text-align:center;'>Adicionar Lista de Presentes</h3><hr style='color:#E7E7E7'><label for='nomeAniversarianteCadastrar'>Nome do(a) aniversariante:</label><input type='text' name='nomeAniversarianteCadastrar' id='nomeAniversarianteCadastrar' class='form-control' placeholder='Informe o nome do(a) aniversariante aqui...' required><label for='dataAniversarioCadastrar'>Data do aniversário:</label><input type='date' name='dataAniversarioCadastrar' id='dataAniversarioCadastrar' class='form-control' required><label for='nomeMaeCadastrar'>Nome da mãe do(a) aniversariante:</label><input type='text' name='nomeMaeCadastrar' id='nomeMaeCadastrar' class='form-control' placeholder='Informe o nome da mãe do(a) aniversariante aqui...' required><label for='nomePaiCadastrar'>Nome do pai do(a) aniversariante:</label><input type='text' name='nomePaiCadastrar' id='nomePaiCadastrar' class='form-control' placeholder='Informe o nome do pai do(a) aniversariante aqui...' required><label for='idadeCadastrar'>Idade que o(a) aniversariante vai fazer:</label><input type='number' name='idadeCadastrar' id='idadeCadastrar' class='form-control' placeholder='Informe a idade que o(a) aniversariante vai completar aqui...' required><label for='cepCadastrar'>CEP: </label><input type=\"text\" name=\"cepCadastrar\" id=\"cepCadastrar\" value=\"\" placeholder=\"Informe o seu cep\" class='form-control' onkeyup=\"mascara(this, '#####-###', event); verificaceplista(this.value)\" maxlength=\"9\"><label for='logradouroCadastrar'>Logradouro: </label><input type='text' name='logradouroCadastrar' id='logradouroCadastrar' class='form-control' placeholder='Informe o logradouro aqui...' required><label for='numeroCadastrar'>Número: </label><input type='text' name='numeroCadastrar' id='numeroCadastrar' class='form-control' placeholder='Informe o número aqui...' required><label for='complementoCadastrar'>Complemento: </label><input type='text' name='complementoCadastrar' id='complementoCadastrar' class='form-control' placeholder='Informe o complemento aqui...'><label for='bairroCadastrar'>Bairro: </label><input type='text' name='bairroCadastrar' id='bairroCadastrar' class='form-control' placeholder='Informe o bairro aqui...' required><label for='cidadeCadastrar'>Cidade: </label><input type='text' name='cidadeCadastrar' id='cidadeCadastrar' class='form-control' placeholder='Informe a cidade aqui...' required><label for='estadoCadastrar'>Estado: </label><select name='estadoCadastrar' id='estadoCadastrar' class='form-control' required><option value=''>UF</option>";
        $sql = "SELECT * FROM states ORDER BY sigla ASC";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                echo "<option value='".$row['sigla']."'>".$row['sigla']."</option>";
            }
        }
        echo "</select><div style='width:100%; text-align:right; padding-right: 5px'><button type='button'  onclick='cadastrarLista(\"".URL."\")' class='btn btn-primary' style='border-radius:5px; margin:none'>Cadastrar</button> <button type='button' class='btn btn-secondary' onclick='fecha(\"addListaPresentes\")'>Fechar</button></div></div><div id='visusalizarListaPresentes' style='position:absolute; background-color:#FFFFFF; border: 1px solid #e7e7e7; padding:5px; width:100%; border-radius:15px; display:none'><h3 style='text-align:center'>Visualizar Lista de Presentes</h3></div><div id='editarListaPresentes' style='position:absolute; background-color:#FFFFFF; border: 1px solid #e7e7e7; padding:5px; width:100%; border-radius:15px; display:none'><h3 style='text-align:center'>Editar Lista de Presentes</h3></div><div style='left:70%'><div class='btn btn-primary' style='cursor:pointer' onclick='addListaPresentes(\"".URL."\")'>Adicionar Lista</div>";
        $sql = "SELECT a.* FROM presents_lists a WHERE a.client = '".$_SESSION['cliente']['id']."' ORDER BY a.status DESC, a.created_at DESC";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                echo '<div class="col-12" style="padding:10px;';
                if ($_SESSION['idLista'] == $row['id']){
                    echo 'background-color:#00b6ff';
                }
                echo '"><h3>Lista '.sprintf("%012s", $row['id']).'</h3>';
                echo "Nome do aniversariante: <b>".($row['nomeAniversariante'])."</b><br>Idade: <b>".($row['idade'])." ano";
                if ($row['idade'] > 1){
                    echo "s";
                }
                echo "</b><br>Data do Aniversário: <b>";
                $vet = explode('-', $row['dataAniversario']);
                echo $vet[2]."/".$vet[1]."/".$vet[0];
                echo '</b><br>Status da Lista: <b>';
                if ($row['status'] == 1){
                    echo "<span style='color: #000033;'>Há ocorrer</span>";
                }
                else{
                    echo "<span style='color:#FF0000'>Ocorrido</span>";
                }
                echo '</b><br><img src="'.URL.'img/presentes.png" style="cursor:pointer; width:50px" onclick="abreListaPresentes(\''.$row['id'].'\',\''.URL.'\')" title="Lista de Presentes"> <img src="'.URL.'img/convidados.png" style="cursor:pointer; width:50px" onclick="abreListaConvidados(\''.$row['id'].'\',\''.URL.'\')" title="Lista de Convidados"> <img src="'.URL.'img/visualizar.svg" style="cursor:pointer; width:50px" onclick="visusalizarListaPresentes(\''.$row['id'].'\',\''.URL.'\')" title="Visualizar Lista"> <img src="'.URL.'img/editar.png" style="cursor:pointer; width:50px" onclick="editaListaPresentes(\''.$row['id'].'\',\''.URL.'\')" title="Editar Lista"> <img src="'.URL.'img/excluir.png" style="cursor:pointer; width:50px" onclick="excluirListaPresentes(\''.$row['id'].'\',\''.URL.'\')" title="Excluir Lista"> ';
                if ($row['status']) {
                    if ($_SESSION['idLista'] != $row['id']) {
                        echo '<img src="' . URL . 'img/mais.png" style="cursor:pointer; width:50px" onclick="adicionarProdutosALista(\'' . $row['id'] . '\',\'' . URL . '\')"  title="Adicionar Produtos à Lista">';
                    } else {
                        echo '<img src="' . URL . 'img/menos.png" style="cursor:pointer; width:50px" onclick="removerDaListaPresentes(\'' . $row['id'] . '\',\'' . URL . '\')" title="Remover seleção da lista">';
                    }
                }
                echo '</div>';
            }
        }
        else{
            echo '<div class="btn btn-danger" onclick=\'addListaPresentes("'.URL.'")\'>Nenhuma lista encontrada até o momento! Adicione uma agora!</div>';
        }
        break;
    case "editarEnderecos":
        $sql = "SELECT * FROM addresses WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            echo ("1|-|".$row['name']."|-|".$row['cep']."|-|".$row['address']."|-|".$row['number']."|-|".$row['complement']."|-|".$row['neighborhood']."|-|".$row['city']."|-|".$row['state']."|-|".$row['country']."|-|".$row['id']);
        }
    break;
    case "visualizarEnderecos":
        $sql = "SELECT a.*, b.name AS nomePais FROM addresses a INNER JOIN countries b ON (a.country = b.id) WHERE a.idClient = '".$_SESSION['cliente']['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $sql = "SELECT * FROM requests WHERE address = '".$row['id']."'";
                $query2 = mysqli_query($con, $sql);
                $html .= '<div style="background-color: #e7e7e7; margin:5px; padding:5px; border-radius:15px"><div style="position: absolute; float:left; left:80%"><br><br><br><img src="'.URL.'img/editar.png" width="20" style="cursor:pointer" onclick="editarEnderecoCliente(\''.$row['id'].'\', \''.URL.'\')">';
                if (!mysqli_num_rows($query2)){
                    $html .= ' <img src="'.URL.'img/excluir.png" width="20" style="cursor:pointer" onclick="excluirEnderecoCliente(\''.$row['id'].'\', \''.URL.'\')">';
                }
                $html .= '</div><h4>'.($row['name'].'</h4>'.$row['address'].', '.$row['number']);
                if ($row['complement']) {
                    $html .= ', '.($row['complement']);
                }
                $html .= '<br>Bairro: '.($row['neighborhood'].' - '.$row['city'].' - '.$row['state']).' - '.($row['nomePais']).'<br>CEP: '.$row['cep'].'</div>';
            }
            $html = ($html);
        }
		else{
			$html = "<div class='btn btn-danger'  onclick='adicionarEnderecoCliente()'>Nenhum endereço encontrado! Adicione um agora!</div>";
		}
        echo "1|-|".$html;
        break;
    case "adicionarEndereco":
        $_SESSION['cepPredefinido'] = $_REQUEST['cep'];
        $sql = ("INSERT INTO addresses (idClient, name, cep, address, number, complement, neighborhood, city, state, country) VALUES ('".$_SESSION['cliente']['id']."', '".$_REQUEST['nomeEndereco']."', '".$_REQUEST['cep']."', '".$_REQUEST['logradouro']."', '".$_REQUEST['numero']."', '".$_REQUEST['complemento']."', '".$_REQUEST['bairro']."', '".$_REQUEST['cidade']."', '".$_REQUEST['estado']."', '".$_REQUEST['pais']."')");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Adicionou um endereço ao cliente', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1";
        break;
    case "editaEndereco":
        $_SESSION['cepPredefinido'] = $_REQUEST['cep'];
        $sql = ("UPDATE addresses SET idClient = '".$_SESSION['cliente']['id']."', name = '".$_REQUEST['nomeEndereco']."', cep = '".$_REQUEST['cep']."', address = '".$_REQUEST['logradouro']."', number = '".$_REQUEST['numero']."', complement = '".$_REQUEST['complemento']."', neighborhood = '".$_REQUEST['bairro']."', city = '".$_REQUEST['cidade']."', state = '".$_REQUEST['estado']."', country = '".$_REQUEST['pais']."' WHERE id = '".$_REQUEST['id']."'");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Atualizou o endereço do cliente ".$_REQUEST['id']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1";
        break;
    case 'excluirEnderecos':
        $sql = 'SELECT * FROM addresses WHERE id = "'.$_REQUEST['id'].'"';
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        if ($_SESSION['cepPredefinido'] == $row['cep']){
            unset($_SESSION['cepPredefinido']);
        }
        if (!$_SESSION['cepPredefinido']){
            $sql = "SELECT * FROM addresses WHERE idClient = '".$row['idClient']."' LIMIT 1";
            $query = mysqli_query($con, $sql);
            $row = mysqli_fetch_array($query);
            $_SESSION['cepPredefinido'] = $row['cep'];
        }
        $sql = "DELETE FROM addresses WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Excluiu o endereço do cliente ".$_REQUEST['id']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo '1';
        break;
    case "excluirProdutoCadastrado":
        /*$sql = "DELETE FROM products_attributes WHERE product = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "DELETE FROM products_brands WHERE product = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "DELETE FROM products_categories WHERE product = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "DELETE FROM products_descriptions WHERE product = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "DELETE FROM products_favorites WHERE product = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "SELECT * FROM products_images WHERE product = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql) or die(mysqli_error($con));
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                unlink(DIRETORIO."storage/".$row['img']);
            }
        }
        $sql = "DELETE FROM products_images WHERE product = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "DELETE FROM products_items WHERE product = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "DELETE FROM products_relationships WHERE product = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "DELETE FROM products_reviews WHERE product = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "DELETE FROM products_stamps WHERE product = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "DELETE FROM products_suggestions WHERE product = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "DELETE FROM products_videos WHERE product = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        $sql = "UPDATE products SET status = '3' WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1";
        break;
    case 'listarProdutosCadastrados':
        $sql = "SELECT DISTINCT a.id, a.*, b.value, b.promotion, b.validity_promotion, b.id AS idItem, c.img FROM products a INNER JOIN products_items b ON (a.id = b.product) LEFT JOIN products_images c ON (a.id = c.product) WHERE a.client = '".$_SESSION['cliente']['id']."' AND a.status < '3' GROUP BY a.id ORDER BY a.prioridadeBusca DESC";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html = '
            <div style="text-align:center">
            <ul class="thumbnails" style="list-style-type: none;">';
            while ($row = mysqli_fetch_array($query)){
                if ($_SESSION['cliente']['id']){
                    $sql = "SELECT * FROM products_favorites WHERE product = '".$row['id']."' AND client = '".$_SESSION['cliente']['id']."' LIMIT 1";
                    $query2 = mysqli_query($con, $sql);
                    $product_favorite = mysqli_num_rows($query2);
                }
                $sql = "SELECT * FROM products_images WHERE product = '".$row['id']."' LIMIT 1";
                $query2 = mysqli_query($con, $sql);
                $row2 = mysqli_fetch_array($query2);
                $html .= '<li class="span3">
                <div class="thumbnail" style="height:';
                if ($_SESSION['cliente']['id']){
                    $html .= '340px';
                }
                else{
                    $html .= '300px';
                }
                $html .= '">
                <div id="listaPresentes'.$_REQUEST['vet1'].$row['id'].'" style="position: absolute; display:none; background-color:#FFFFFF; border:1px solid #000000; border-radius:15px; z-index:99999999999; padding:5px"><div style="position:absolute; float:left; left:95%; cursor:pointer" onclick=fecha("listaPresentes'.$_REQUEST['vet1'].$row['id'].'")>&times;</div><a id="topoListaPresente'.$_REQUEST['vet1'].$row['id'].'"></a><h3>Produtos Adicionados à Lista</h3></div>
			    <div id="pedidosProdutosCadastrados'.$row['id'].'" style="position: absolute; display:none; background-color:#FFFFFF; border:1px solid #000000; border-radius:15px; z-index:99999999999; padding:5px"><div style="position:absolute; float:left; left:95%; cursor:pointer" onclick=fecha("listaPresentes'.$_REQUEST['vet1'].$row['id'].'")>&times;</div><a id="topoListaPresente'.$_REQUEST['vet1'].$row['id'].'"></a><h3>Produtos Adicionados à Lista</h3></div>
			    <a href="'.URL.'produto/'.$row['slug'].'"><img src="'.URL.'storage/';
                if (isset($row2['img']) && file_exists(DIRETORIO."storage/".$row2['img'])){
                    $html .= $row2['img'];
                }
                else{
                    $html .= "sem_imagem.png";
                }
                $html .= '" width="200" title="'.($row['name']).'"/></a>
                  <div class="caption">
                        <h5><a href="'.URL.'produto/'.$row['slug'].'" title="'.($row['name']).'" style="color:#000000; text-decoration:none">'.substr(($row['name']), 0, 25);
                        if (strlen($row['name']) > 26){
                            $html .= "...";
                        }
                        $html .= '</a></h5>
                        <h4 style="text-align:center"><a class="btn" href="'.URL.'produto/'.$row['slug'].'" title="'.($row['name']).'"> <a class="btn" onclick=addCarrinho("'.$row['id'].'","'.$row['idItem'].'","'.URL.'","'.URL.'") style="cursor:pointer" title="Adicionar ao Carrinho">Add ao <img src="'.URL.'img/addCart.png" width="50"></a> <a class="btn btn-primary" title="'.$row['name'].'" href="'.URL.'produto/'.$row['slug'].'">R$ ';
                        if ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')){
                            if ($row['promotion'] < 1000){
                                $html .= number_format($row['promotion'], 2, ',', '.');
                            }
                            else {
                                $vet = explode('.', $row['promotion']);
                                $html .= $vet[0];
                            }
                        }
                        else {
                            if ($row['value'] < 1000) {
                                $html .= number_format($row['value'], 2, ',', '.');
                            }
                            else {
                                $vet = explode('.', $row['value']);
                                $html .= $vet[0];
                            }
                        }
                        $html .= '</a></h4>
                        ';
                        if ($_SESSION['cliente']['id']){
                            $html .= '<div style="text-align:center"><span id="favorito'.ucwords($_REQUEST['vet0']).$row['id'].'">';
                            if ($product_favorite){
                                $html .= '<img src="'.URL.'img/desfavoritar.png" title="Desfavoritar" style="cursor:pointer" onclick=desfavoritar("'.$row['id'].'","'.$_SESSION['cliente']['id'].'","favoritoLateralEsquerda","'.URL.'","favorito'.ucwords($_REQUEST['vet0']).'")>';
                            }
                            else{
                                $html .= '<img src="'.URL.'img/favoritar.png" title="Favoritar" style="cursor:pointer" onclick=favoritar("'.$row['id'].'","'.$_SESSION['cliente']['id'].'","favoritoLateralEsquerda","'.URL.'","favorito'.ucwords($_REQUEST['vet0']).'")>';
                            }
                            $html .= '</span>';
                            if (isset($_SESSION['idLista'])){
                                $html .= '<a onclick=adicionarListaPresentes("'.$row['id'].'","'.URL.'","'.$row['id'].'","'.$_REQUEST['vet1'].'","'.$_SESSION['idLista'].'") style="cursor:pointer"><img src="'.URL.'img/listas-de-presentes-icone.png" style="width:50px"></a>';
                            }
                            $html .= '<a onclick=pedidosProdutoCadastrado("'.$row['id'].'","'.URL.'") style="cursor:pointer"><img src="'.URL.'img/pedidosComFundo.png"></a>';
                            $html .= '<a href="'.URL.'pagina/editarProdutoCadastrado/'.$row['id'].'" style="cursor:pointer"><img src="'.URL.'img/editarComFundo.png"></a>';
                            $html .= '<a onclick=excluirProdutoCadastrado("'.$row['id'].'","'.URL.'") style="cursor:pointer"><img src="'.URL.'img/excluirComFundo.png"></a>';
                            $html .= '</div>';
                        }
                        $html .= '
                  </div>
                </div>
              </li>';
                    }
            $html .= "</ul></div>";
        }
        else{
            $html = "<div style='text-align:center; width:100%'><div class='btn btn-danger' onclick=location.href='".URL."pagina/cadastre-o-seu-produto'>Sem nenhum produto cadastrado encontrado! Cadastre um agora mesmo!</div></div>";
        }
        echo "1|-|".$html;
        break;
    case "paginacao":
        if ($_REQUEST['vet0'] == 'sugestao'){
            $sql = "SELECT * FROM suggestions WHERE slug = '".$_REQUEST['vet1']."'";
            $query = mysqli_query($con, $sql);
            $row = mysqli_fetch_array($query);
            $id = $row['id'];
        }
        if ($_REQUEST['vet0'] == 'relacionamento'){
            $sql = "SELECT * FROM relationships WHERE slug = '".$_REQUEST['vet1']."'";
            $query = mysqli_query($con, $sql);
            $row = mysqli_fetch_array($query);
            $id = $row['id'];
        }
        if ($_REQUEST['vet0'] == 'categoria'){
            $sql = "SELECT * FROM categories WHERE slug = '".$_REQUEST['vet1']."'";
            $query = mysqli_query($con, $sql);
            $row = mysqli_fetch_array($query);
            $id = $row['id'];
        }
        if ($_REQUEST['vet0'] == 'marca'){
            $sql = "SELECT * FROM brands WHERE slug = '".$_REQUEST['vet1']."'";
            $query = mysqli_query($con, $sql);
            $row = mysqli_fetch_array($query);
            $id = $row['id'];
        }
        if ($_REQUEST['vet0'] == 'selo'){
            $sql = "SELECT * FROM stamps WHERE slug = '".$_REQUEST['vet1']."'";
            $query = mysqli_query($con, $sql);
            $row = mysqli_fetch_array($query);
            $id = $row['id'];
        }
        $sql = "SELECT ";
        if ($_REQUEST['vet1'] != 'historico'){
            $sql .= "DISTINCT ";
        }
        $sql .= "a.id, a.*, CASE WHEN (b.promotion > '0' AND b.validity_promotion >= now()) THEN b.promotion ELSE b.value END AS value, b.id AS idItem, b.estoque, c.img FROM products a INNER JOIN products_items b ON (a.id = b.product) LEFT JOIN products_images c ON (a.id = c.product)";
        if ($_REQUEST['vet0'] == 'busca'){
            $sql .= " INNER JOIN products_categories d ON (a.id = d.product) WHERE (a.name LIKE '%".$_REQUEST['vet1']."%' OR a.slug LIKE '%".$_REQUEST['vet1']."%')";
            if ($_REQUEST['categoria']){
                $sql .= " AND d.categorie = '".base64_decode($_REQUEST['categoria'])."'";
            }
            $comWhere = 1;
        }
        elseif ($_REQUEST['vet0'] == 'categoria'){
            $sql .= " INNER JOIN products_categories d ON (a.id = d.product) WHERE d.categorie = '".$id."'";
            $comWhere = 1;
        }
        elseif ($_REQUEST['vet0'] == 'pagina' && $_REQUEST['vet1'] != 'ofertas-especiais' && $_REQUEST['vet1'] != 'ofertas-do-dia' && $_REQUEST['vet1'] != 'produtos-em-promocao'){
            $sql .= " INNER JOIN products_favorites d ON (a.id = d.product) WHERE d.client = '".$_SESSION['cliente']['id']."'";
            $comWhere = 1;
        }
        elseif ($_REQUEST['vet0'] == 'marca'){
            $sql .= " INNER JOIN products_brands d ON (a.id = d.product) WHERE d.brand = '".$id."'";
            $comWhere = 1;
        }
        elseif ($_REQUEST['vet0'] == 'sugestao'){
            $sql .= " INNER JOIN products_suggestions d ON (a.id = d.product) WHERE d.suggestion = '".$id."'";
            $comWhere = 1;
        }
        elseif ($_REQUEST['vet0'] == 'relacionamento'){
            $sql .= " INNER JOIN products_relationships d ON (a.id = d.product) WHERE d.relationship = '".$id."'";
            $comWhere = 1;
        }
        elseif ($_REQUEST['vet0'] == 'selo'){
            $sql .= " INNER JOIN products_stamps d ON (a.id = d.product) WHERE d.stamp = '".$id."'";
            $comWhere = 1;
        }
        elseif ($_REQUEST['vet1'] == 'ofertas-especiais'){
            $sql .= " WHERE a.ofertaEspecial = '1'";
            $comWhere = 1;
        }
        elseif ($_REQUEST['vet1'] == 'ofertas-do-dia'){
            $sql .= " WHERE a.ofertaDoDia = '1'";
            $comWhere = 1;
        }
        elseif ($_REQUEST['vet1'] == 'produtos-em-promocao'){
            $sql .= " WHERE a.promocao = '1'";
            $comWhere = 1;
        }
        elseif ($_REQUEST['vet1'] == 'historico'){
            $sql .= " INNER JOIN logs_products d ON (a.id = d.product AND d.uid = '".session_id()."')";
            $comWhere = 0;
        }
        if ($_REQUEST['buscaFiltro'] && $_REQUEST['buscaFiltro'] != 'undefined'){
            if (!$comWhere){
                $sql .= " WHERE";
            }
            else{
                $sql .= " AND";
            }
            $sql .= " a.name LIKE '%".$_REQUEST['buscaFiltro']."%'";
            $comWhere = 1;
        }
        if (!$comWhere){
            $sql .= " WHERE";
        }
        else{
            $sql .= " AND";
        }
        $sql .= " a.status = '1' GROUP BY a.id ";
        if (!$_REQUEST['ordem']){
            $sql .= "ORDER BY a.prioridadeBusca DESC";
            if ($_REQUEST['vet1'] == 'historico'){
                $sql .= ", d.created_at DESC";
            }
        }
        elseif ($_REQUEST['ordem'] == 1){
            $sql .= " ORDER BY a.name ASC, b.name ASC";
        }
        elseif ($_REQUEST['ordem'] == 2){
            $sql .= " ORDER BY a.name DESC, b.name DESC";
        }
        elseif ($_REQUEST['ordem'] == 3){
            $sql .= " ORDER BY value ASC";
        }
        elseif ($_REQUEST['ordem'] == 4){
            $sql .= " ORDER BY value DESC";
        }
        $query = mysqli_query($con, $sql);
        $total = mysqli_num_rows($query);
        if ($_REQUEST['vet1'] != 'central-do-cliente' && $_REQUEST['pages'] != 'todos' && $total > $_REQUEST['pages']){
            $paginas = ceil($total / $_REQUEST['pages']);
            $offSet = $_REQUEST['pagina'] <= 1 ? 0 : (($_REQUEST['pages'] * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % $_REQUEST['pages']) : $_REQUEST['pages'] * ($_REQUEST['pagina'] - 1));
            $_REQUEST['pages'] = (!$_REQUEST['pages']) ? 9 : $_REQUEST['pages'];
            $sql .= " LIMIT ".$offSet.", ".$_REQUEST['pages'];
        }
        $query = mysqli_query($con, $sql);
        $sai = 0;
        if ($total){
            while ($row = mysqli_fetch_array($query)){
                if (isset($_SESSION['cliente']) && $_SESSION['cliente']['id']){
                    $sql = "SELECT * FROM products_favorites WHERE product = '".$row['id']."' AND client = '".$_SESSION['cliente']['id']."' LIMIT 1";
                    $query2 = mysqli_query($con, $sql);
                    $product_favorite = mysqli_num_rows($query2);
                }
                $sql = "SELECT * FROM products_reviews WHERE product = '".$row['id']."'";
                $query2 = mysqli_query($con, $sql);
                $totalNotas = mysqli_num_rows($query2);
                $nota = 0;
                if (mysqli_num_rows($query2)){
                    while ($row2 = mysqli_fetch_array($query2)){
                        $nota += $row2['avaliacao'];
                    }
                    $notas = floor($nota / $totalNotas);
                }
                else{
                    $notas = 0;
                }
                $sql = "SELECT * FROM products_images WHERE product = '".$row['id']."' LIMIT 1";
                $query2 = mysqli_query($con, $sql);
                $row2 = mysqli_fetch_array($query2);
                $htmlPaginacao .= '
                    <div class="col-md-4" style="float:left">';
                    if (isset($_SESSION['cliente']) && $_SESSION['cliente']['id'] && isset($_SESSION['idLista'])){
                        $htmlPaginacao .= '<div id="listaPresentes'.ucwords($_REQUEST['vet0']).$row['id'].'" style="position: absolute; display:none; background-color:#FFFFFF; border:1px solid #000000; border-radius:15px; z-index:99999999999; padding:5px">
                            <div style="position:absolute; float:left; left:95%; cursor:pointer" onclick=\'fecha("listaPresentesCategoria'.$row['id'].'")\'>&times;</div>
                            <a id="topoListaPresente'.ucwords($_REQUEST['vet0']).$row['id'].'"></a>
                            <h3>Produtos Adicionados à Lista</h3>
                        </div>';
                    }
                    $htmlPaginacao .= '
                        <div class="card mb-4 product-wap rounded-0">
                        <div class="card rounded-0">
                            <img class="card-img rounded-0 img-fluid" src="'.URL.'storage/';
                            if (isset($row2['img']) && file_exists(DIRETORIO."storage/".$row2['img'])){
                                $htmlPaginacao .= $row2['img'];
                            }
                            else{
                                $htmlPaginacao .= "sem_imagem.png";
                            }
                            $htmlPaginacao .= '">
                            <div class="card-img-overlay rounded-0 product-overlay d-flex align-items-center justify-content-center">
                                <ul class="list-unstyled">
                                    <li><a class="btn btn-success text-white mt-2" href="'.URL.'produto/'.$row['slug'].'" title="Visualizar '.($row['name']).'"><i class="far fa-eye"></i></a></li>
                                    ';
                                    if ($row['estoque']){
                                        $htmlPaginacao .= '<li><a class="btn btn-success text-white mt-2" title="Adicionar ao Carrinho" onclick=addCarrinho("'.$row['id'].'","'.$row['idItem'].'","'.URL.'","'.URL.'")><i class="fas fa-cart-plus"></i></a></li>';
                                    }
                                    else{
                                        $htmlPaginacao .= '<li><a class="btn btn-success text-white mt-2" title="Produto Esgotado" href="'.URL.'produto/'.$row['slug'].'"><img src="'.URL.'img/esgotado.png" width="50"></a></li>';
                                    }
                                    if (isset($_SESSION['cliente']) && $_SESSION['cliente']['id']){
                                        if ($product_favorite){
                                        $htmlPaginacao .= '
                                        <li><span id="favorito'.ucwords($vet0).$row['id'].'"><a class="btn btn-success text-white mt-2"><img src="'.URL.'img/polegar_cima.png" width="20" title="Desfavoritar" style="cursor:pointer" onclick=desfavoritar2("'.$row['id'].'","'.$_SESSION['cliente']['id'].'","favorito'.ucwords($vet0).'","'.URL.'","")></a></span></li>';
                                        }
                                        else{
                                        $htmlPaginacao .= '
                                        <li><span id="favorito'.ucwords($vet0).$row['id'].'"><a class="btn btn-success text-white mt-2"><img src="'.URL.'img/polegar_baixo.png" width="20" title="Favoritar" style="cursor:pointer" onclick=favoritar2("'.$row['id'].'","'.$_SESSION['cliente']['id'].'","favorito'.ucwords($vet0).'","'.URL.'","")></a></span></li>';
                                        }
                                    }
                                    if (isset($_SESSION['cliente']) && $_SESSION['cliente']['id'] && isset($_SESSION['idLista']) && $_SESSION['idLista'] != ''){
                                    $htmlPaginacao .= '
                                    <li><a class="btn btn-success text-white mt-2" onclick=adicionarListaPresentes("'.$row['id'].'","'.URL.'","'.$row['id'].'","'.ucwords($_REQUEST['vet0']).'","'.$_SESSION['idLista'].'") style="cursor:pointer" title="Visualizar se está na lista"><img src="'.URL.'img/listas-de-presentes-icone.png" style="width:25px"></a></li>';
                                    }
                                    $htmlPaginacao .= '
                                </ul>
                            </div>
                        </div>
                        <div class="card-body">
                            <a href="'.URL.'produto/'.$row['slug'].'" title="'.($row['name']).'" class="h3 text-decoration-none">'.substr(($row['name']), 0, 27);
                            if (strlen(($row['name'])) > 27){
                                $htmlPaginacao .= '...';
                            }
                            $htmlPaginacao .= '</a>
                            <ul class="list-unstyled d-flex justify-content-center mb-1">
                                <li><a href="'.URL.'produto/'.$row['slug'].'" style="text-decoration:none">
                                    ';
                                    for ($i = 1; $i <= $notas; $i++){
                                        $htmlPaginacao .= '<i class="text-warning fa fa-star" title="Avaliação Geral: '.$notas.'"></i> ';
                                    }
                                    if ($notas < 5){
                                        for ($j = $i; $j <= 5; $j++){
                                            $htmlPaginacao .= '<i class="text-muted fa fa-star" title="Avaliação Geral: '.$notas.'"></i> ';
                                        }
                                    }
                                $htmlPaginacao .= '</a></li>
                            </ul>
                            <p class="text-center mb-0"> <a href="'.URL.'produto/'.$row['slug'].'" title="'.($row['name']).'" class="h3 text-decoration-none">R$ ';
                            if ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')){
                                $htmlPaginacao .= number_format($row['promotion'] - ($parametrosSite['descontoAVista'] * $row['promotion'] / 100), 2, ',','.');
                            }
                            else{
                                $htmlPaginacao .= number_format($row['value'] - ($parametrosSite['descontoAVista'] * $row['value'] / 100), 2, ',','.');
                            }
                            $htmlPaginacao .= '</a>';
                            if ($parametrosSite['descontoAVista']){
                                $htmlPaginacao .= ' <a title="'.(str_replace("##descontoAVista##", $parametrosSite["descontoAVista"], $parametrosSite["descricaoPagamentoAVista"])).'">*</a>';
                            }
                            $htmlPaginacao .= '</p>
                        </div>
                    </div>
                </div>';
            }
            if ($_REQUEST['pages'] != 'todos' && $total > $_REQUEST['pages']){
                $htmlPaginas = '<ul class="pagination pagination-lg justify-content-end">';
                $paginaAnterior = $_REQUEST['pagina'] - 1;
                $paginaProxima = $_REQUEST['pagina'] + 1;
                for ($i = 1; $i <= $paginas; $i++){
                    $htmlPaginas .= '<li class="page-item';
                    if ($i == $_REQUEST['pagina']){
                        $htmlPaginas .= ' active';
                    }
                    $htmlPaginas .= '"><a class="page-link';
                    if ($i == $_REQUEST['pagina']){
                        $htmlPaginas .= ' active';
                    }
                    $htmlPaginas .= ' rounded-0 mr-3 shadow-sm border-top-0 border-left-0 ';
                    if ($i == $_REQUEST['pagina']){
                        $htmlPaginas .= "text-white";
                    }
                    else{
                        $htmlPaginas .= "text-dark";
                    }
                    $htmlPaginas .= '" onclick="paginacao(\''.$_REQUEST['vet0'].'\', \''.$_REQUEST['vet1'].'\', \''.$i.'\', \''.URL.'\', \''.$_REQUEST['categoria'].'\')" style="cursor:pointer">'.$i.'</a></li>';
                }
                $htmlPaginas .= '</ul>';
            }
        }
        else{
            $htmlPaginacao .= "<div class='btn btn-danger' onclick=location.href='".URL."'>Sem nenhum produto encontrado!</div>";
        }
        echo "1|-|".$htmlPaginacao."|-|".$htmlPaginas;
        break;
        case "paginacao2":
            if ($_REQUEST['vet0'] == 'sugestao'){
                $sql = "SELECT * FROM suggestions WHERE slug = '".$_REQUEST['vet1']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $id = $row['id'];
            }
            if ($_REQUEST['vet0'] == 'relacionamento'){
                $sql = "SELECT * FROM relationships WHERE slug = '".$_REQUEST['vet1']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $id = $row['id'];
            }
            if ($_REQUEST['vet0'] == 'categoria'){
                $sql = "SELECT * FROM categories WHERE slug = '".$_REQUEST['vet1']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $id = $row['id'];
            }
            if ($_REQUEST['vet0'] == 'marca'){
                $sql = "SELECT * FROM brands WHERE slug = '".$_REQUEST['vet1']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $id = $row['id'];
            }
            $sql = "SELECT ";
            if ($_REQUEST['vet1'] != 'historico'){
                $sql .= "DISTINCT ";
            }
            $sql .= "a.id, a.*, b.value, b.promotion, b.validity_promotion, b.id AS idItem, b.estoque, c.img FROM products a INNER JOIN products_items b ON (a.id = b.product) LEFT JOIN products_images c ON (a.id = c.product)";
            if ($_REQUEST['vet0'] == 'busca'){
                $sql .= " INNER JOIN products_categories d ON (a.id = d.product) WHERE (a.name LIKE '%".$_REQUEST['vet1']."%' OR a.slug LIKE '%".$_REQUEST['vet1']."%')";
                if ($_REQUEST['categoria']){
                    $sql .= " AND categorie = '".$_REQUEST['categoria']."'";
                }
            }
            elseif ($_REQUEST['vet0'] == 'categoria'){
                $sql .= " INNER JOIN products_categories d ON (a.id = d.product) WHERE d.categorie = '".$id."'";
            }
            elseif ($_REQUEST['vet0'] == 'pagina' && $_REQUEST['vet1'] != 'ofertas-especiais' && $_REQUEST['vet1'] != 'ofertas-do-dia' && $_REQUEST['vet1'] != 'produtos-em-promocao'){
                $sql .= " INNER JOIN products_favorites d ON (a.id = d.product) WHERE d.client = '".$_SESSION['cliente']['id']."'";
            }
            elseif ($_REQUEST['vet0'] == 'marca'){
                $sql .= " INNER JOIN products_brands d ON (a.id = d.product) WHERE d.brand = '".$id."'";
            }
            elseif ($_REQUEST['vet0'] == 'sugestao'){
                $sql .= " INNER JOIN products_suggestions d ON (a.id = d.product) WHERE d.suggestion = '".$id."'";
            }
            elseif ($_REQUEST['vet0'] == 'relacionamento'){
                $sql .= " INNER JOIN products_relationships d ON (a.id = d.product) WHERE d.relationship = '".$id."'";
            }
            elseif ($_REQUEST['vet1'] == 'ofertas-especiais'){
                $sql .= " WHERE a.ofertaEspecial = '1'";
            }
            elseif ($_REQUEST['vet1'] == 'ofertas-do-dia'){
                $sql .= " WHERE a.ofertaDoDia = '1'";
            }
            elseif ($_REQUEST['vet1'] == 'produtos-em-promocao'){
                $sql .= " WHERE a.promocao = '1'";
            }
            elseif ($_REQUEST['vet1'] == 'historico'){
                $sql .= " INNER JOIN logs_products d ON (a.id = d.product AND d.uid = '".session_id()."')";
                $comWhere = 1;
            }
            if ($comWhere == 1){
                $sql = " WHERE";
            }
            else{
                $sql .= " AND";
            }
            $sql .= " a.status = '1' GROUP BY a.id ORDER BY a.prioridadeBusca DESC";
            if ($_REQUEST['vet1'] == 'historico'){
                $sql .= ", d.created_at DESC";
            }
            $query = mysqli_query($con, $sql);
            $total = mysqli_num_rows($query);
            $paginas = ceil($total / 9);
            $offSet = $_REQUEST['pagina'] <= 1 ? 0 : ((9 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 9) : 9 * ($_REQUEST['pagina'] - 1));
            if ($_REQUEST['vet1'] != 'central-do-cliente'){
                $sql .= " LIMIT ".$offSet.", 9";
            }
            $query = mysqli_query($con, $sql);
            $sai = 0;
            if ($total){
                while ($row = mysqli_fetch_array($query)){
                    if (isset($_SESSION['cliente']) && $_SESSION['cliente']['id']){
                        $sql = "SELECT * FROM products_favorites WHERE product = '".$row['id']."' AND client = '".$_SESSION['cliente']['id']."' LIMIT 1";
                        $query2 = mysqli_query($con, $sql);
                        $product_favorite = mysqli_num_rows($query2);
                    }
                    $sql = "SELECT * FROM products_reviews WHERE product = '".$row['id']."'";
                    $query2 = mysqli_query($con, $sql);
                    $totalNotas = mysqli_num_rows($query2);
                    $nota = 0;
                    if (mysqli_num_rows($query2)){
                        while ($row2 = mysqli_fetch_array($query2)){
                            $nota += $row2['avaliacao'];
                        }
                        $notas = floor($nota / $totalNotas);
                    }
                    else{
                        $notas = 0;
                    }
                    $sql = "SELECT * FROM products_images WHERE product = '".$row['id']."' LIMIT 1";
                    $query2 = mysqli_query($con, $sql);
                    $row2 = mysqli_fetch_array($query2);
                    $htmlPaginacao .= '<div class="col-md-4" style="float:left">
                    <div class="card mb-4 product-wap rounded-0">';   
                    if (isset($_SESSION['cliente']['id']) && $_SESSION['cliente']['id'] != '' && isset($_SESSION['idLista']) && $_SESSION['idLista'] != ''){
                        $htmlPaginacao .= '<div id="listaPresentes'.ucwords($_REQUEST['vet0']).$row['id'].'" style="position: absolute; display:none; background-color:#FFFFFF; border:1px solid #000000; border-radius:15px; z-index:99999999999; padding:5px">
                        <div style="position:absolute; float:left; left:95%; cursor:pointer" onclick=\'fecha("listaPresentesCategoria'.$row['id'].'")\'>&times;</div>
                        <a id="topoListaPresente'.ucwords($_REQUEST['vet0']).$row['id'].'"></a>
                        <h3>Produtos Adicionados à Lista</h3>
                    </div>';
                    }
                    $htmlPaginacao .= '                        <div class="card rounded-0">
                            <img class="card-img rounded-0 img-fluid" src="'.URL.'storage/'.$row['img'].'">
                            <div class="card-img-overlay rounded-0 product-overlay d-flex align-items-center justify-content-center">
                                <ul class="list-unstyled">
                                    <li><a class="btn btn-success text-white mt-2" href="'.URL.'produto/'.$row['slug'].'" title="Visualizar '.$row['name'].'"><i class="far fa-eye"></i></a></li>';
                                    if ($row['estoque']){
                                        $htmlPaginacao .= '<li><a class="btn btn-success text-white mt-2" title="Adicionar ao Carrinho" onclick=addCarrinho("'.$row['id'].'","'.$row['idItem'].'","'.URL.'","'.URL.'")><i class="fas fa-cart-plus"></i></a></li>';
                                    }
                                    else{
                                        $htmlPaginacao .= '<li><a class="btn btn-success text-white mt-2" title="Produto Esgotado" href="'.URL.'produto/'.$row['slug'].'"><img src="'.URL.'img/esgotado.png" width="50"></a></li>';
                                    }
                                    if (isset($_SESSION['cliente']) && $_SESSION['cliente']['id'] != 0){
                                        if ($product_favorite){
                                        $htmlPaginacao .= '<li><span id="favorito'.ucwords($_REQUEST['vet0']).$row['id'].'"><a class="btn btn-success text-white mt-2" onclick=""><img src="'.URL.'img/polegar_cima.png" width="20" title="Desfavoritar" style="cursor:pointer" onclick=desfavoritar2("'.$row['id'].'","'.$_SESSION['cliente']['id'].'","favorito'.ucwords($vet0).'","'.URL.'","")></a></span></li>';
                                        }
                                        else{
                                            $htmlPaginacao .= '<li><span id="favorito'.ucwords($_REQUEST['vet0']).$row['id'].'"><a class="btn btn-success text-white mt-2" onclick=""><img src="'.URL.'img/polegar_baixo.png" width="20" title="Favoritar" style="cursor:pointer" onclick=favoritar2("'.$row['id'].'","'.$_SESSION['cliente']['id'].'","favorito'.ucwords($vet0).'","'.URL.'","")></a></span></li>';
                                        }
                                    }
                                    if (isset($_SESSION['cliente']) && $_SESSION['cliente']['id'] != 0 && isset($_SESSION['idLista']) && $_SESSION['idLista'] != ''){
                                        $htmlPaginacao .= '<li><a class="btn btn-success text-white mt-2" onclick=adicionarListaPresentes("'.$row['id'].'","'.URL.'","'.$row['id'].'","'.ucwords($_REQUEST['vet0']).'","'.$_SESSION['idLista'].'") style="cursor:pointer" title="Visualizar se está na lista"><img src="'.URL.'img/listas-de-presentes-icone.png" style="width:25px"></a></li>';
                                    }
                                    $htmlPaginacao .= '
                                </ul>
                            </div>
                        </div>
                        <div class="card-body">
                            <a href="'.URL.'produto/'.$row['slug'].'" title="'.$row['name'].'" class="h3 text-decoration-none">'.substr($row['name'], 0, 27);
                            if (strlen($row['name']) > 27){
                                $htmlPaginacao .= '...';
                            }
                            $htmlPaginacao .= '</a>
                            <ul class="list-unstyled d-flex justify-content-center mb-1">
                                <li>
                                <a href="'.URL.'produto/'.$row['slug'].'" style="text-decoration:none">
                                    ';
                                    for ($i = 1; $i <= $notas; $i++){
                                        $htmlPaginacao .= '<i class="text-warning fa fa-star" title="Avaliação Geral: '.$notas.'"></i> ';
                                    }
                                    if ($value->avaliacao < 5){
                                        for ($j = $i; $j <= 5; $j++){
                                            $htmlPaginacao .= '<i class="text-muted fa fa-star" title="Avaliação Geral: '.$notas.'"></i> ';
                                        }
                                    }
                                $htmlPaginacao .= '</li>
                            </ul>
                            <p class="text-center mb-0"> <a href="'.URL.'produto/'.$row['slug'].'" title="'.$row['name'].'" class="h3 text-decoration-none">';
                            if ($_REQUEST['vet1'] == 'produtos-em-promocao'){
                                $htmlPaginacao .= '<span style="font-size:12px; text-decoration:line-through;">R$ '.number_format($row['value'], 2, ',', '.').'</span> ';
                            }
                            $htmlPaginacao .= 'R$ ';
                            $htmlPaginacao .= ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')) ? number_format($row['promotion'], 2, ',', '.') : number_format($row['value'], 2, ',', '.');
                        $htmlPaginacao .= '</a></p></div>
                    </div>
                </div>';
                }
            }
            $htmlPaginas = '<ul class="pagination pagination-lg justify-content-end">';
            $paginaAnterior = $_REQUEST['pagina'] - 1;
            $paginaProxima = $_REQUEST['pagina'] + 1;
            for ($i = 1; $i <= $paginas; $i++){
                $htmlPaginas .= '<li class="page-item';
                if ($i == $_REQUEST['pagina']){
                    $htmlPaginas .= ' active';
                }
                $htmlPaginas .= '"><a class="page-link';
                if ($i == $_REQUEST['pagina']){
                    $htmlPaginas .= ' active';
                }
                $htmlPaginas .= ' rounded-0 mr-3 shadow-sm border-top-0 border-left-0 ';
                if ($i == $_REQUEST['pagina']){
                    $htmlPaginas .= "text-white";
                }
                else{
                    $htmlPaginas .= "text-dark";
                }
                $htmlPaginas .= '" onclick="paginacao2(\''.$_REQUEST['vet0'].'\', \''.$_REQUEST['vet1'].'\', \''.$i.'\', \''.URL.'\', \''.$_REQUEST['categoria'].'\')" style="cursor:pointer">'.$i.'</a></li>';
            }
            $htmlPaginas .= '</ul>';
            echo "1|-|".$htmlPaginacao."|-|".$htmlPaginas;
            break;
        case "selecionaCategorias":
            $html = "";
            $sql = "SELECT b.name, b.slug FROM products_categories a INNER JOIN categories b ON (a.categorie = b.id) WHERE a.product = '".$_REQUEST['id']."'";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                $html .= '<ul class="list-inline"><li class="list-inline-item">
                <h6>Categoria';
                if (mysqli_num_rows($query) >= 2){
                    $html .= "s";
                }
                $html .= ':</h6></li><li class="list-inline-item">';
                while ($row = mysqli_fetch_array($query)){
                    $html .= "<a href='".URL."categoria/".$row['slug']."' class='btn btn-primary'>".($row['name'])."</a> ";
                }
                $html .= '</li></ul>';
            }
            echo "1|-|".$html;
            break;
        case "selecionaRelacionamentos":
            $html = "";
            $sql = "SELECT b.name, b.slug FROM products_relationships a INNER JOIN relationships b ON (a.relationship = b.id) WHERE a.product = '".$_REQUEST['id']."' ORDER BY b.name ASC";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                $html .= '<ul class="list-inline"><li class="list-inline-item">
                <h6>Relacionamento';
                if (mysqli_num_rows($query) >= 2){
                    $html .= "s";
                }
                $html .= ':</h6></li><li class="list-inline-item">';
                while ($row = mysqli_fetch_array($query)){
                    $html .= "<a href='".URL."relacionamento/".$row['slug']."' class='btn btn-primary'>".($row['name'])."</a> ";
                }
                $html .= '</li></ul>';
            }
            echo "1|-|".$html;
            break;
        case "selecionaSelos":
            $html = "";
            $sql = "SELECT b.name, b.slug, b.img FROM products_stamps a INNER JOIN stamps b ON (a.stamp = b.id) WHERE a.product = '".$_REQUEST['id']."' ORDER BY b.name ASC";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                $html .= '<ul class="list-inline"><li class="list-inline-item col-2">
                <h6>Selo';
                if (mysqli_num_rows($query) >= 2){
                    $html .= "s";
                }
                $html .= ':</h6></li><li class="list-inline-item col-8">';
                while ($row = mysqli_fetch_array($query)){
                    $html .= "<a href='".URL."selo/".$row['slug']."' title='".($row['name'])."' class='btn btn-primary'><img src='".URL_SITE."storage/".$row['img']."' style='width:50px'></a> ";
                }
                $html .= '</li></ul>';
            }
            echo "1|-|".$html;
            break;
        case "enviarAnuncieAqui":
            $sql = ("INSERT INTO anuncie_aquis (name, email, subject, phone, text, status, nome_banner, link_banner, target_banner, posicao_banner, tipo_banner, date_answer, created_at, updated_at) VALUES ('".$_REQUEST['nome']."', '".$_REQUEST['email']."', '".$_REQUEST['assunto']."', '".$_REQUEST['phone']."', '".$_REQUEST['mensagem']."', '1', '".$_REQUEST['nome_banner']."', '".$_REQUEST['link_banner']."', '".$_REQUEST['target_banner']."', '".$_REQUEST['posicao_banner']."', '".$_REQUEST['tipo_banner']."', '1999-01-01', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
            $idAnuncieAqui = mysqli_insert_id($con);
            if (preg_match("/jpg/", $_FILES['banner']['name']) || preg_match("/jpeg/", $_FILES['banner']['name'])){
                $img = "anuncieAqui".$idAnuncieAqui.".jpg";
            }
            elseif (preg_match("/gif/", $_FILES['banner']['name'])){
                $img = "anuncieAqui".$idAnuncieAqui.".gif";
            }
            elseif (preg_match("/png/", $_FILES['banner']['name'])){
                $img = "anuncieAqui".$idAnuncieAqui.".png";
            }
            elseif (preg_match("/bmp/", $_FILES['banner']['name'])){
                $img = "anuncieAqui".$idAnuncieAqui.".bmp";
            }
            elseif (preg_match("/webp/", $_FILES['banner']['name'])){
                $img = "anuncieAqui".$idAnuncieAqui.".webp";
            }
            if ($img){
                copy($_FILES['banner']['tmp_name'], DIRETORIO."storage/".$img);
            }
            $sql = "UPDATE anuncie_aquis SET img = '".$img."' WHERE id = '".$idAnuncieAqui."'";
            $query = mysqli_query($con, $sql);
            $htmlEmail = ("<html><head><title>Email Enviado pelo formulário do anuncie aqui do Sistema de Teste Gosat</title></head><body><table width='100%' border='0' cellpadding='0' cellspacing='0'><tr><td width='150' valign='top'><img src='".URL."img/logo.png'></td><td valign='top'>Olá <b>Equipe Sistema de Teste Gosat</b>,<br><br>Foi enviado um email pelo formulário de anuncie aqui d".$parametrosSite['artigo']." Sistema de Teste Gosat<br><br>Dados da Mensagem:<br><br>Nome: <b>".$_REQUEST['nome']."</b><br>Email: <b>".$_REQUEST['email']."</b><br>Assunto: <b>".$_REQUEST['assunto']."</b><br>Telefone: <b>".$_REQUEST['phone']."</b><br>Mensagem: <b>".$_REQUEST['mensagem']."</b><br>Data/Hora de Envio: <b>".date('d/m/Y H:i:s')."</b>");
            $htmlEmail .= "<br><br>Para ver esse anuncie aqui no admin, <a href='".URL."admin/anuncie-aqui'>clique aqui.</a><br><br></br>Atenciosamente,<br><br>Equipe Sistema de Teste Gosat<hr noshade><center>Email Desenvolvido Pela <a href='https://www.bhcommerce.com.br/'>BH Commerce</a></center><hr noshade></body></html>";
            $assunto = $parametrosSite['title'].(" - Email enviado pelo formulário de Anuncie Aqui do Site");
            $paraNome = $row['nome'];
            $paraEmail = $row['email'];
            $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
            $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
            enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($assunto), utf8_decode($htmlEmail));
            //mail(utf8_decode($parametrosSite['title']."<testegosat@bhcommerce.com.br>"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
            echo "1|-|".($_SESSION['cliente']['nome'])."|-|".$_SESSION['cliente']['email'];
    case "mostraParcelamento":
        $sql = "SELECT * FROM payment_methods WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $html = '<div class="span9" style="background-color:rgba(255,255,255,.8); padding:10px; color:#000000">
            <h3>PARCELAMENTO</h3>
        </div>';
        $_REQUEST['valorTotal'] = str_replace(",", ".", str_replace(".", "", $_REQUEST['valorTotal']));
        if ($row['parcelas'] >= 2){
            $k = 1;
            for ($i = $row['parcelas']; $i >= 2; $i--){
                $valorParcela = $_REQUEST['valorTotal'] / $i;
                if ($valorParcela >= $row['vlParcelaMinima']){
                    if ($i == $row['parcelas']){
                        $checked = 1;
                        $qual = $i;
                    }
                    else{
                        $checked = 0;
                    }
                    $html .= '<span>
            <input type="radio" name="parcelas" id="parcelas'.$i.'" value="'.$i.'" onclick="selecionaParcelamento(\''.$i.'\', \''.URL.'\')" ';
                    if ($checked == 1) {
                        $html .= 'checked';
                    }
                    $html .= '> <label for="parcelas'.$i.'" style="color:#000000">em '.$i.'X de R$ '.number_format($valorParcela, 2, ',', '.').'</label>
        </span>';
                    if($k % 6 == 0){
                        $html .= "<br>";
                    }
                    $k++;
                }
            }
        }
        if (!$qual){
            $checked = 1;
            $qual = 1;
        }
        else{
            $checked = 0;
        }
        $html .= '
        <span>
            <input type="radio" name="parcelas" id="parcelas1" value="1" onclick="selecionaParcelamento(\'1\', \''.URL.'\')" ';
        if ($checked == 1) {
            $html .= 'checked';
        }
        $html .= '> <label for="parcelas1" style="color:#000000">em 1X de R$ '.number_format($_REQUEST['valorTotal'], 2, ',', '.').'</label>
        </span>
        <input type="hidden" name="parcelamento" id="parcelamento" value="'.$qual.'">';
        echo "1|-|".$html;
        break;
    case "finalizarCompra":
        $vet = explode(' ', $_REQUEST['valorFrete']);
        $_REQUEST['valorFrete'] = trim($vet[0]);
        $sql = "SELECT * FROM coupon_discounts WHERE codigo = '".$_SESSION['codigo']."'";
        $query = mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
        if (mysqli_num_rows($query)){
            $cupomDesconto = mysqli_fetch_array($query);
        }
        $sql = "SELECT * FROM vales WHERE code = '".$_SESSION['codigo']."'";
        $query = mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
        if (mysqli_num_rows($query)){
            $vale = mysqli_fetch_array($query);
        }
        if (!$cupomDesconto['id']){
            $cupomDesconto['id'] = 0;
        }
        if (!$vale['id']){
            $vale['id'] = 0;
        }
        if (isset($vale)){
            $desconto = $vale['value'];
        }
        elseif (isset($cupomDesconto)){
            $desconto = $cupomDesconto['valor'];
        }
        if (isset($desconto) && $desconto > $_REQUEST['subtotal']){
            $desconto = $_REQUEST['subtotal'];
        }
        if (!$desconto){
            $desconto = "0.00";
        }
        $sql = "SELECT * FROM payment_methods WHERE id = '".$_REQUEST['idFormaPagamento']."'";
        $query = mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
        if (mysqli_num_rows($query)){
            $formaPagamento = mysqli_fetch_array($query);
            if ($formaPagamento['pagamentoAVista'] == 1){
                $descontoAVista = $_REQUEST['descontoAVista'];
            }
            else{
                $descontoAVista = 0;
            }
        }
        $sql = "SELECT a.*, c.email, d.name AS nomeCliente, e.razaoSocial, e.contato FROM carts a INNER JOIN products b ON (a.product = b.id) LEFT JOIN clients c ON (b.client = c.id) LEFT JOIN pessoa_fisicas d ON (c.id = d.client) LEFT JOIN pessoa_juridicas e ON (c.id = e.client) WHERE a.session_id = '".session_id()."'";
        $query = mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $carrinho[] = $row;
                $nomeCliente = ($row['nomeCliente']) ? $row['nomeCliente'] : $row['razaoSocial']." - ".$row['contato'];
                $emailCliente = $row['email'];
            }
        }
        if ($_REQUEST['idFormaPagamento'] != 2){
            $valorTotal = $_REQUEST['subtotal'] - $_REQUEST['descontoAVista'] - $desconto + $_REQUEST['valorFrete'];
        }
        else{
            $valorTotal = $_REQUEST['subtotal'] - $desconto + $_REQUEST['valorFrete'];
        }
        $valorTotal = str_replace(',', '.', str_replace('.', "", $valorTotal));
        $sql = "INSERT INTO requests (client, paymentMethod, address, status, discount, descontoAVista, vale, valueSubtotal, tipoFrete, prazoFrete, valueFrete, valueDiscount, valueTotal, parcelamento, msInterna, msExterna, msEmail, dateAtualizationStatus, datePayment, created_at, updated_at) VALUES('".$_SESSION['cliente']['id']."', '".$_REQUEST['idFormaPagamento']."', '".$_REQUEST['enderecoEscolhido']."', '3', '".$cupomDesconto['id']."', '".$descontoAVista."', '".$vale['id']."', '".$_REQUEST['subtotal']."', '".$_REQUEST['freteTipo']."', '".$_REQUEST['fretePrazo']."', '".$_REQUEST['valorFrete']."', '".$desconto."', '".$valorTotal."', '".$_REQUEST['parcelamento']."', '', '', '', '1999-12-31 00:00:00', '1999-12-31 00:00:00', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        $query = mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
        $idRequest = mysqli_insert_id($con);
        foreach ($carrinho as $key => $value){
            $sql = "INSERT INTO requests_items (request, product, product_item, lista, name, quantity, value, paymentMethod, status, codRastreamento, address, its_already_gone, created_at, updated_at) VALUES ('".$idRequest."', '".$value['product']."', '".$value['product_item']."', '".$value['lista']."', '".$value['name']."', '".$value['quantity']."', '".$value['value']."', '".$_REQUEST['idFormaPagamento']."', '3', '', '".$_REQUEST['enderecoEscolhido']."', '".$value['its_already_gone']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
            
        }
        $sql = "DELETE FROM carts WHERE session_id = '".session_id()."'";
        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
        $sql = "SELECT a.*, b.name, c.nomeFantasia, c.contato FROM clients a LEFT JOIN pessoa_fisicas b ON (a.id = b.client) LEFT JOIN pessoa_juridicas c ON (a.id = c.client) WHERE a.id = '".$_SESSION['cliente']['id']."'";
		$query2 = mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
        $rowCliente = mysqli_fetch_array($query2);
        $_REQUEST['id'] = base64_encode($idRequest);
        $_REQUEST['client'] = $_SESSION['cliente']['id'];
        require(DIRETORIO.'comprovante.php');
        $comprovanteEmail = $html;
		$comprovanteEmail .= '<hr noshade><center>Email Desenvolvido Pela <a href="https://www.bhcommerce.com.br/">BH Commerce</a></center><hr noshade>';
        $assuntoEmail = "Comprovante de Compras número ".sprintf("%012s", $idRequest)." - ".$parametrosSite['title'];
        $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
        $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
        //mail(utf8_decode($parametrosSite['title']."<testegosat@bhcommerce.com.br>"), utf8_decode($assuntoEmail), utf8_decode($comprovanteEmail), utf8_decode($cabecalhoEmail));
        //mail(utf8_decode($_SESSION['cliente']['name']."<".$_SESSION['cliente']['email']).">", utf8_decode($assuntoEmail), utf8_decode($comprovanteEmail), utf8_decode($cabecalhoEmail));
        if ($nomeCliente){
            //mail(utf8_decode($nomeCliente."<".$emailCliente).">", utf8_decode($assuntoEmail), utf8_decode($comprovanteEmail), utf8_decode($cabecalhoEmail));
            enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $emailCliente, utf8_decode($nomeCliente), utf8_decode($assuntoEmail), utf8_decode($comprovanteEmail));
        }
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($assuntoEmail), utf8_decode($comprovanteEmail));
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $email, utf8_decode($nome), utf8_decode($assuntoEmail), utf8_decode($comprovanteEmail));
        $_SESSION['frete']['valor'] = "0";
        $_SESSION['frete']['cep'] = "";
        $_SESSION['frete']['prazo'] = "";
        $_SESSION['frete']['tipo'] = "";
        $_SESSION['frete']['qual'] = "";
        $_SESSION['valePresente'] = "0";
        $_SESSION['desconto'] = "0";
        $_SESSION['codigo'] = "";
        echo "1|-|".base64_encode($idRequest);
        break;
    case "calculaCupomDesconto":
        $sql = "SELECT * FROM coupon_discounts WHERE codigo = '".$_REQUEST['codigo']."' AND validade >= '".date('Y-m-d H:i:s')."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $sql = "SELECT a.* FROM coupon_requests a INNER JOIN requests b ON (a.request = b.id) WHERE a.codigo = '".$row['codigo']."' AND b.client = '".$_SESSION['idCliente']."'";
            $query2 = mysqli_query($con, $sql);
            if (!mysqli_num_rows($query) || $row['utilizavel'] == 2){
                if ($row['tipo'] == 1) {
                    $valorDesconto = $row["valor"];
                }
                else{
                    $desconto = $row['valor'] / 100;
                    $valorDesconto = $_REQUEST['valorTotal'] * $desconto;
                }
                if ($valorDesconto > $_REQUEST['valorTotal']){
                    $valorDesconto = $_REQUEST['valorTotal'];
                }
                $vet = explode('-', $row['validade']);
                $row['validade'] = $vet[2]."/".$vet[1]."/".$vet[0];
                $totalCompra = $_REQUEST['valorTotal'] - $valorDesconto + $_REQUEST['freteValor'];
                if ($row['tipo'] == 1){
                    $row['valor'] = "R$ ".number_format($row['valor'], 2, ',', '.');
                }
                else{
                    $row['valor'] = $row['valor']."%";
                }
                $_SESSION['cupomDesconto'] = $row['id'];
                $_SESSION['codigo'] = $row['codigo'];
                $_SESSION['desconto'] = $valorDesconto;
                $_SESSION['valePresente'] = 0;
                $_SESSION['desc'] = $row;
                echo "1|-|R$" . number_format($valorDesconto, 2, ',', '.')."|-|R$".number_format($_REQUEST['freteValor'], 2, ',', '.')."|-|R$".number_format($totalCompra, 2, ',', '.');
            }
        }
        else {
            $sql = "SELECT * FROM vales WHERE code = '" . $_REQUEST['codigo'] . "' AND validade >= '".date('Y-m-d H:i:s')."'";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)) {
                $row = mysqli_fetch_array($query);
                $sql = "SELECT * FROM requests WHERE vale = '".$row['id']."' AND status != '7'";
                $query2 = mysqli_query($con, $sql);
                if (!mysqli_num_rows($query2)){
                    if ($row['value'] > $_REQUEST['valorTotal']){
                        $desconto = $_REQUEST['valorTotal'];
                    }
                    else{
                        $desconto = $row['value'];
                    }
                    $vet = explode('-', $row['validade']);
                    $row['validade'] = $vet[2]."/".$vet[1]."/".$vet[0];
                    $row['valor'] = "R$ ".number_format($row['value'], 2,',', '.');
                    $_SESSION['cupomDesconto'] = 0;
                    $_SESSION['codigo'] = $row['code'];
                    $_SESSION['desconto'] = $desconto;
                    $_SESSION['valePresente'] = $row['id'];
                    $_SESSION['desc'] = $row;
                    echo "1|-|R$ " . number_format($desconto, 2, ',', '.')."|-|R$ ".number_format($_REQUEST['freteValor'], 2, ',', '.')."|-|R$ ".number_format($totalCompra, 2, ',', '.');
                }
                else{
                    $_SESSION['cupomDesconto'] = 0;
                    $_SESSION['codigo'] = "";
                    $_SESSION['desconto'] = 0;
                    $_SESSION['valePresente'] = 0;
                    $totalCompra = $_REQUEST['valorTotal'] - $valorDesconto + $_REQUEST['freteValor'];
                    echo "0|-|R$ " . number_format($valorDesconto, 2, ',', '.') . "|-|R$ " . number_format($_REQUEST['freteValor'], 2, ',', '.') . "|-|R$ " . number_format($totalCompra, 2, ',', '.');
                }
            } else {
                $_SESSION['cupomDesconto'] = 0;
                $_SESSION['codigo'] = "";
                $_SESSION['desconto'] = 0;
                $_SESSION['valePresente'] = 0;
                $totalCompra = $_REQUEST['valorTotal'] - $valorDesconto + $_REQUEST['freteValor'];
                echo "0|-|R$ " . number_format($valorDesconto, 2, ',', '.') . "|-|R$ " . number_format($_REQUEST['freteValor'], 2, ',', '.') . "|-|R$ " . number_format($totalCompra, 2, ',', '.');
            }
        }
        break;
    case "selecionaFormaFrete":
        $_SESSION['frete']['qual'] = $_REQUEST['codigoFrete'];
        $valorFrete = str_replace('.', '', $_REQUEST['valorFrete']);
        $valorFrete = str_replace(',', '.', $valorFrete);
        $total = $_REQUEST['valorTotal'] + $valorFrete - $_SESSION['desconto'];
        if (!$_SESSION['desc']['codigo']){
            $_SESSION['desc']['codigo'] = $_SESSION['desc']['code'];
        }
        $_SESSION['frete']['valor'] = $valorFrete;
        $_SESSION['frete']['tipo'] = $_REQUEST['tipo'];
        $_SESSION['frete']['prazo'] = $_REQUEST['prazoFrete'];
        $_SESSION['frete']['cep'] = $_REQUEST['cep'];
        $botao = '<a class="btn btn-default check_out" onclick="';
		if($_SESSION['cliente']['id'] != ''){
			$botao .= 'finalizarCompra(\''.$_SESSION['frete']['qual'].'\', \''.URL.'\')';
		}
		else{
			$botao .= 'alert(\'Faça o seu login na loja para continuar!\');$(\'#modal-login\').modal(\'show\')';
		}
		$botao .= '" style="cursor:pointer">Finalização de Compra</a>';
        echo "1|-|R$".$_REQUEST['valorFrete']."|-|R$".number_format($total, 2, ',', '.')."|-|R$".number_format($_SESSION['desconto'], 2, ',', '.')."|-|".$botao."|-|".$_SESSION['frete']['tipo']."|-|".$_SESSION['frete']['prazo']."|-|".$_SESSION['cupomDesconto']."|-|".$_SESSION['desc']['id']."|-|".$_SESSION['desc']['tipo']."|-|".$_SESSION['desc']['valor']."|-|".$_SESSION['desc']['validade']."|-|".$_SESSION['desc']['codigo']."|-|".$_SESSION['valePresente'];
        break;
    case "selecionaFormaFreteAdminPedido":
        $sql = "SELECT * FROM requests WHERE id = '".$_REQUEST['idPedido']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $_REQUEST['valorFrete'] = str_replace('.', '', $_REQUEST['valorFrete']);
        $_REQUEST['valorFrete'] = str_replace(',', '.', $_REQUEST['valorFrete']);
        $total = $row['valueSubtotal'] - $row['valueDiscount'] + $_REQUEST['valorFrete'] - $_REQUEST['descontoAVista'];
        $total = str_replace('.', '', $total);
        $total = str_replace(',', '.', $total);
        $sql = "UPDATE requests SET descontoAVista = '".$_REQUEST['descontoAVista']."', valueFrete = '".$_REQUEST['valorFrete']."', valueTotal = '".$total."', tipoFrete = '".$_REQUEST['tipo']."', prazoFrete = '".$_REQUEST['prazoFrete']."' WHERE id = '".$_REQUEST['idPedido']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1|-|R$".$_REQUEST['valorFrete']."|-|R$".number_format($total, 2, ',', '.')."|-|R$".number_format($_SESSION['desconto'], 2, ',', '.')."|-|".$botao."|-|".$_SESSION['frete']['tipo']."|-|".$_SESSION['frete']['prazo'];
        break;
    case "selecionaFormaPagamento":
        $sql = "SELECT * FROM payment_methods WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        if ($row['pagamentoAVista'] == 1){
            $total = $_REQUEST['subtotalValor'] - $_REQUEST['descontoAVistaValor'] - $_SESSION['desconto'] + $_REQUEST['valorFrete'];
        }
        else{
            $total =  $_REQUEST['subtotalValor'] - $_SESSION['desconto'] + $_REQUEST['valorFrete'];
        }
        echo "1|-|- R$".number_format($_REQUEST['descontoAVistaValor'], 2, ',', '.')."|-|R$".number_format($total, 2, ',', '.')."|-|".$row['pagamentoAVista']."|-|".$total;
        break;
    case "calculaFrete":
        $html = "<legend>
        <fieldset>Forma de Frete</fieldset>";
        if ($_REQUEST['altura'] > 21){
            $_REQUEST['altura'] = 21;
        }
        if ($_REQUEST['largura'] > 78){
            $_REQUEST['largura'] = 78;
        }
        if ($_REQUEST['comprimento'] > 100){
            $_REQUEST['comprimento'] = 100;
        }
        if ($_REQUEST['valorCarrinho'] < 23.5){
            $_REQUEST['valorTotal2'] = 23.5;
            $_REQUEST['valorCarrinho2'] = 23.5;
        }
        elseif ($_REQUEST['valorCarrinho'] > 3000){
            $_REQUEST['valorTotal2'] = 3000;
            $_REQUEST['valorCarrinho2'] = 3000;
        }
        else{
            $_REQUEST['valorTotal2'] = $_REQUEST['valorTotal'];
            $_REQUEST['valorCarrinho2'] = $_REQUEST['valorCarrinho'];
        }
        $_REQUEST['valorCarrinho2'] -= $_REQUEST['descontoAVista'];
        $vet2 = explode('.', $_REQUEST['valorCarrinho']);
        $_REQUEST['valorCarrinho'] = $vet2[0];
        if ($_SESSION['valePresente']){
            $sql = "SELECT * FROM requests WHERE vale = '".$_SESSION['valePresente']."' AND client = '".$_SESSION['cliente']['id']."' AND status != '7'";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                $_SESSION['cupomDesconto'] = 0;
                $_SESSION['codigo'] = "";
                $_SESSION['desconto'] = 0;
                $_SESSION['valePresente'] = 0;
            }
        }
        if (($_REQUEST['vale_presentes'] || $_REQUEST['freteGratis']) && !$_REQUEST['produtos']){
            $html .= "<input type='radio' name='frete' id='frete999998' ";
            if ($_SESSION['frete']){
                if (999998 == $_SESSION['frete']['qual']){
                    $html .= " checked";
                    $_SESSION['frete']['tipo'] = "Frete_Gratis";
                    $tipoQual = $_SESSION['frete']['tipo'];
                    $_SESSION['frete']['Valor'] = '0';
                    $valorFrete = 0;
                    $_SESSION['frete']['PrazoEntrega'] = $maiorPrazoEntrega;
                    $prazoEntrega = $_SESSION['frete']['PrazoEntrega'];
                    $_SESSION['frete']['codigo'] = 999998;
                    $_SESSION['frete']['qual'] = 999998;
                    $_SESSION['frete']['endereco'] = $result->id;
                }
            }
            $html .= " onChange=selecionaFormaFrete('999998','" . $_REQUEST['cep'] . "','" . $_REQUEST['peso'] . "','" . $_REQUEST['comprimento'] . "','" . $_REQUEST['altura'] . "','" . $_REQUEST['largura'] . "','" . $_REQUEST['diametro'] . "','" . $_REQUEST['valorTotal'] . "','" . $_REQUEST['desconto'] . "','" . $tela . "','0,00','0','999998','" . str_replace(' ', '_', $row['name']) . "','" . $_REQUEST['produtos'] . "','" . $_REQUEST['vale_presentes'] . "','" . $_REQUEST['freteGratis'] . "','" . URL . "','".$_SESSION['frete']['qual']."','".$_REQUEST['cepCliente']."','".$_REQUEST['descontoAVista']."')>";
            $html .= " <label for='frete999998'>Frete Grátis";
            if ($_REQUEST['vale_presentes']){
                $html .= " - Vale Presente";
            }
            $html .= " - R$ 0,00</label>";
            $html .= '<br><br>';
        }
        else{
            $k = 0;
            $sql = "SELECT * FROM shipping_methods WHERE status = '1'";
            $query = mysqli_query($con, $sql);
            while ($row = mysqli_fetch_array($query)){
                unset($data);
                $data['nCdEmpresa'] = '';
                $data['sDsSenha'] = '';
                if (!$_REQUEST['cepCliente']){
                    $data['sCepOrigem'] = str_replace("-", "", $parametrosSite['cepLoja']);
                }
                else{
                    $data['sCepOrigem'] = str_replace("-", "", $_REQUEST['cepCliente']);
                }
                $data['sCepDestino'] = str_replace('-', '', $_REQUEST['cep']);
                $data['nVlPeso'] = $_REQUEST['peso'];
                $data['nCdFormato'] = '1';
                $data['nVlComprimento'] = $_REQUEST['comprimento'];
                $data['nVlAltura'] = $_REQUEST['altura'];
                $data['nVlLargura'] = $_REQUEST['largura'];
                $data['nVlDiametro'] = $_REQUEST['diametro'];
                $data['sCdMaoPropria'] = 's';
                $data['nVlValorDeclarado'] = $_REQUEST['valorCarrinho2'];
                $data['sCdAvisoRecebimento'] = 'n';
                $data['StrRetorno'] = 'xml';
                $data = http_build_query($data);
                $url = 'http://ws.correios.com.br/calculador/CalcPrecoPrazo.aspx';
                $curl = curl_init($url . '?' . $data."&nCdServico=".$row['code']);
                //echo $url . '?' . $data."&nCdServico=".$row['code']."--";
                curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);

                $result = curl_exec($curl);

                $result = simplexml_load_string($result);

                foreach ($result->cServico as $row) {

                    //Os dados de cada serviço estará aqui

                    $retorno[$k] = $row;

                }
                $k++;
            }
            $checado = 0;
            $html .= "<table border='0' width='100%' cellpadding='0' cellspacing='0'>";
            if (count($retorno)) {
                $maiorPrazoEntrega = 0;
                $totalFretes = 0;
                $semFrete = 0;
                $selecionado = 0;
                foreach ($retorno as $key => $value) {
                    $chave = $key + 1;
                    $totalFretes++;
                    $sql = "SELECT * FROM shipping_methods WHERE code = '".$value->Codigo."'";
                        $query2 = mysqli_query($con, $sql);
                        $row = mysqli_fetch_array($query2);
                    if ($value->Erro == 0) {
                        $value->Valor = str_replace(".", "", $value->Valor);
                        $value->Valor = str_replace(",", ".", $value->Valor);
                        $value->Valor = number_format($value->Valor + $row['value'], 2, ',', '.');
                        $html .= "<tr><td width='10%' align='center'>";
                        $html .= "<input type='radio' name='frete' ";
                        $html .= " id='frete" . $chave . "' title='" . $row['name'] . "' ";
                        if ($_SESSION['frete']['qual'] == $value->Codigo) {
                            $_SESSION['frete']['tipo'] = $row['name'];
                            $tipoQual = $_SESSION['frete']['tipo'];
                            $_SESSION['frete']['valor'] = $value->Valor;
                            $valorFrete = $_SESSION['frete']['valor'];
                            $_SESSION['frete']['prazo'] = $value->PrazoEntrega;
                            $prazoEntrega = $_SESSION['frete']['prazo'];
                            $_SESSION['frete']['codigo'] = $value->Codigo;
                            $_SESSION['frete']['qual'] = $value->Codigo;
                            $checado = "1";
                        }
                        $codigoFrete = $value->Codigo;
                        $valorFrete = $value->Valor;
                        $prazoFrete = $value->PrazoEntrega;
                        $html .= " onChange=selecionaFormaFrete('" . $chave . "','" . $_REQUEST['cep'] . "','" . $_REQUEST['peso'] . "','" . $_REQUEST['comprimento'] . "','" . $_REQUEST['altura'] . "','" . $_REQUEST['largura'] . "','" . $_REQUEST['diametro'] . "','" . $_REQUEST['valorTotal'] . "','" . $_REQUEST['desconto'] . "','" . $tela . "','" . $valorFrete . "','" . $prazoFrete . "','" . $codigoFrete . "','" . str_replace(' ', '_', $row['name']) . "','" . $_REQUEST['produtos'] . "','" . $_REQUEST['vale_presentes'] . "','" . $_REQUEST['freteGratis'] . "','" . URL . "','".$_SESSION['frete']['qual']."','".$_REQUEST['cepCliente']."','".$_REQUEST['descontoAVista']."')>";
                        $html .= "</td><td align='left'>";
                        $html .= " <label for='frete" . $chave . "' title='" . $row['name'] . "'>" . $row['name'] . " - " . $value->PrazoEntrega;
                        if ($value->PrazoEntrega > 1) {
                            $html .= " dias úteis";
                        } else {
                            $html .= " dia útil";
                        }
                        $html .= " - R$ " . $value->Valor. "</label>";
                        $html .= "</td></tr>";
                        $maiorPrazoEntrega = (int)$maiorPrazoEntrega;
                        $value->PrazoEntrega = (integer)$value->PrazoEntrega;
                        if ($prazoFrete >= $maiorPrazoEntrega) {
                            $maiorPrazoEntrega = $prazoFrete;
                        }
                    }
                    elseif ($value->Erro == '-888'){
                        $html .= "<div class='btn btn-warning'>".$row['name']."</div><br><div class='btn btn-danger'>Não foi possível calcular o frete no momento. Msg Erro: ".$value->MsgErro."</div><br>";
                        $erro = 1;
                    }
                    else {
                        $semFrete++;
                    }
                }

                if ($maiorPrazoEntrega && $_REQUEST['valorCarrinho'] >= $parametrosSite['freteGratis']){
                    $html .= "<tr><td align='center' valign='top'><input type='radio' name='frete' id='frete999998' ";
                    if ($_SESSION['frete']){
                        if (999998 == $_SESSION['frete']['qual']){
                            $html .= " checked";
                            $_SESSION['frete']['tipo'] = "Frete_Gratis";
                            $tipoQual = $_SESSION['frete']['tipo'];
                            $_SESSION['frete']['Valor'] = '0';
                            $valorFrete = $_SESSION['frete']['Valor'];
                            $_SESSION['frete']['PrazoEntrega'] = $maiorPrazoEntrega;
                            $prazoEntrega = $_SESSION['frete']['PrazoEntrega'];
                            $_SESSION['frete']['codigo'] = 999998;
                            $_SESSION['frete']['qual'] = 999998;
                            $_SESSION['frete']['endereco'] = $result->id;
                        }
                    }
                    $html .= " onchange=selecionaFormaFrete('999998','" . $_REQUEST['cep'] . "','" . $_REQUEST['peso'] . "','" . $_REQUEST['comprimento'] . "','" . $_REQUEST['altura'] . "','" . $_REQUEST['largura'] . "','" . $_REQUEST['diametro'] . "','" . $_REQUEST['valorTotal'] . "','" . $_REQUEST['desconto'] . "','" . $tela . "','0,00','" . $prazoFrete . "','" . $codigoFrete . "','Frete_Grátis','" . $_REQUEST['produtos'] . "','" . $_REQUEST['vale_presentes'] . "','" . $_REQUEST['freteGratis'] . "','" . URL . "','".$_SESSION['frete']['qual']."','".$_REQUEST['cepCliente']."')>";
                    $html .= " </td><td><label for='frete999998'>Frete Grátis - ".$maiorPrazoEntrega;
                    if ($maiorPrazoEntrega == 1){
                        $html .= " dia útil";
                    }
                    else{
                        $html .= ' dias úteis';
                    }
                    $html .= " - R$ 0,00</label>";
                    $html .= '<br><br></td></tr>';
                }
            }
        }
        if (!$checado){
            $_SESSION['frete']['qual'] = 0;
            $_SESSION['frete']['valor'] = '0.00';
            $_SESSION['frete']['tipo'] = "";
            $_SESSION['frete']['prazo'] = "";
            $_SESSION['frete']['cep'] = "";
        }
        if ($_SESSION['frete']['valor']) {
            $valorFrete2 = str_replace('.', '', $_SESSION['frete']['valor']);
            $valorFrete2 = str_replace(',', '.', $valorFrete2);
        }
        else{
            $valorFrete2 = 0;
        }
        $_SESSION['cepPredefinido'] = $_REQUEST['cep'];
        $html .= "<input type='hidden' value='".$selecionado."' id='selecionado' name='selecionado'>";
        $totalCompra = $_REQUEST['valorTotal'] - $_SESSION['desconto'] + $valorFrete2;
        $_SESSION['frete']['valor'] = number_format($valorFrete2, 2, ',', '.');
        if (!$_SESSION['frete']['tipo']){
            $_SESSION['frete']['tipo'] = "Frete_Gratis";
        }
        $html .= "</legend>";
        echo "1|-|".$html."|-|0|-|".$_SESSION['frete']['qual']."|-|".$_SESSION['frete']['tipo']."|-|".$_SESSION['frete']['valor']."|-|".number_format($_SESSION['desconto'], 2, ',', '.0')."|-|".number_format($totalCompra, 2, ',', '.')."|-|".$_SESSION['codigo']."|-|".$_SESSION['frete']['qual']."|-|".$_SESSION['frete']['prazo']."|-|".$_SESSION['desc']['id']."|-|".$_SESSION['desc']['tipo']."|-|".$_SESSION['desc']['valor']."|-|".$_SESSION['desc']['validade']."|-|".$_SESSION['valePresente']."|-|".$erro;
        break;
    case "calculaFreteAdminPedido":
        if (($_REQUEST['vale_presentes'] || $_REQUEST['frete_gratis']) && !$_REQUEST['produtos']){
            $html = "<div style='position:absolute; float:left; left:95%; cursor:pointer' onclick='fecha(\"freteAdminPedido\")'>&times;</div><h3>Frete do Pedido</h3>";
            $html .= "<input type='radio' name='frete' id='frete999999' ";
            if ($_REQUEST['freteSelecionado'] == 'Frete_Gratis'){
                $html .= "checked ";
            }
            $html .= " onChange=selecionaFormaFreteAdminPedido('999999','".$_REQUEST['cep']."','".$_REQUEST['peso']."','".$_REQUEST['comprimento']."','".$_REQUEST['altura']."','".$_REQUEST['largura']."','".$_REQUEST['diametro']."','".$_REQUEST['valorTotal']."','".$desconto."','".$tela."','0,00','".$maiorPrazoEntrega."','999999','Frete_Gratis','1','0','" . URL . "', '','".$_REQUEST['idPedido']."','".$_SESSION['user']['id']."','".$_REQUEST['descontoAVista']."')>";
            $html .= " <label for='frete999999'>Frete Grátis - Vale Presente";
            $html .= " - R$ 0,00</label>";
            $html .= '<br><br>';
        }
        else {
            $k = 0;
            $vet = explode(",", $parametrosSite['freteCalculo']);
            foreach ($vet as $i => $value) {
                unset($data);
                $data['nCdEmpresa'] = '';
                $data['sDsSenha'] = '';
                $data['sCepOrigem'] = $parametrosSite['cepLoja'];
                $data['sCepDestino'] = str_replace('-', '', $_REQUEST['cep']);
                $data['nVlPeso'] = $_REQUEST['peso'];
                $data['nCdFormato'] = '1';
                $data['nVlComprimento'] = $_REQUEST['comprimento'];
                $data['nVlAltura'] = $_REQUEST['altura'];
                $data['nVlLargura'] = $_REQUEST['largura'];
                $data['nVlDiametro'] = $_REQUEST['diametro'];
                $data['sCdMaoPropria'] = 's';
                $data['nVlValorDeclarado'] = $_REQUEST['valorCarrinho'] - $_REQUEST['descontoAVista'];
                $data['sCdAvisoRecebimento'] = 'n';
                $data['StrRetorno'] = 'xml';
                $data = http_build_query($data);
                $url = 'http://ws.correios.com.br/calculador/CalcPrecoPrazo.aspx';
                $curl = curl_init($url . '?' . $data."&nCdServico=".$value);
                curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);

                $result = curl_exec($curl);

                $result = simplexml_load_string($result);

                foreach ($result->cServico as $row) {

                    //Os dados de cada serviço estará aqui

                    $retorno[$i] = $row;

                }
                curl_close();
            }
            $checado = 0;
            $html = "<div style='position:absolute; float:left; left:95%; cursor:pointer' onclick='fecha(\"freteAdminPedido\")'>&times;</div><h3>Frete do Pedido</h3><table border='0' width='100%' cellpadding='0' cellspacing='0'>";
            if (count($retorno)) {
                $maiorPrazoEntrega = 0;
                $totalFretes = 0;
                $semFrete = 0;
                $selecionado = 0;
                foreach ($retorno as $key => $value) {
                    $chave = $key + 1;
                    $totalFretes++;
                    if ($value->Erro == 0) {
                        switch ($value->Codigo) {
                            case 40010:
                                $tipo = "SEDEX";
                                break;
                            case 40045:
                                $tipo = "SEDEX À COBRAR";
                                break;
                            case 40215:
                                $tipo = "SEDEX 10";
                                break;
                            case 40290:
                                $tipo = "SEDEX HOJE";
                                break;
                            case 41106:
                                $tipo = "PAC";
                                break;
                        }
                        $html .= "<tr><td width='10%' align='center'>";
                        $html .= "<input type='radio' name='frete' ";
                        $html .= " id='frete" . $chave . "' title='" . $tipo . "' ";
                        if ($_REQUEST['freteSelecionado'] == $tipo){
                            $html .= 'checked ';
                        }
                        if ($value->Codigo == "40010"){
                            $value->Valor = $value->Valor + 20.60;
                        }
                        $codigoFrete = $value->Codigo;
                        $valorFrete = $value->Valor;
                        $prazoFrete = $value->PrazoEntrega;
                        $html .= " onChange=selecionaFormaFreteAdminPedido('" . $chave . "','" . $_REQUEST['cep'] . "','" . $_REQUEST['peso'] . "','" . $_REQUEST['comprimento'] . "','" . $_REQUEST['altura'] . "','" . $_REQUEST['largura'] . "','" . $_REQUEST['diametro'] . "','" . $_REQUEST['valorTotal'] . "','" . $_REQUEST['desconto'] . "','" . $tela . "','" . $valorFrete . "','" . $prazoFrete . "','" . $codigoFrete . "','" . str_replace(' ', '_', $tipo) . "','" . $_REQUEST['produtos'] . "','" . $_REQUEST['vale_presentes'] . "','" . URL . "','".$_SESSION['frete']['qual']."','".$_REQUEST['idPedido']."','".$_SESSION['user']['id']."','".$_REQUEST['descontoAVista']."')>";
                        $html .= "</td><td align='left'>";
                        $html .= " <label for='frete" . $chave . "' title='" . $tipo . "'>" . $tipo . " - " . $value->PrazoEntrega;
                        if ($value->PrazoEntrega > 1) {
                            $html .= " dias úteis";
                        } else {
                            $html .= " dia útil";
                        }
                        $html .= " - R$ " . $value->Valor . "</label>";
                        $html .= "</td></tr>";
                        $maiorPrazoEntrega = (int)$maiorPrazoEntrega;
                        $value->PrazoEntrega = (integer)$value->PrazoEntrega;
                        if ($prazoFrete >= $maiorPrazoEntrega) {
                            $maiorPrazoEntrega = $prazoFrete;
                        }
                    } else {
                        $semFrete++;
                    }
                }
                if ($maiorPrazoEntrega && $_REQUEST['valorCarrinho'] >= $parametrosSite['freteGratis']){
                    $html .= "<tr><td align='center' valign='top'><input type='radio' name='frete' id='frete999998' ";
                    if ($_REQUEST['freteSelecionado'] == 'Frete_Gratis'){
                        $html .= 'checked ';
                    }
                    $html .= " onChange=selecionaFormaFreteAdminPedido('999998','".$_REQUEST['cep']."','".$_REQUEST['peso']."','".$_REQUEST['comprimento']."','".$_REQUEST['altura']."','".$_REQUEST['largura']."','".$_REQUEST['diametro']."','".$_REQUEST['valorTotal']."','".$desconto."','".$tela."','0,00','".$maiorPrazoEntrega."','999998','Frete_Gratis','1','0','" . URL . "','','".$_REQUEST['idPedido']."','".$_SESSION['user']['id']."','".$_REQUEST['descontoAVista']."')>";
                    $html .= " </td><td align='left'><label for='frete999998'>Frete Grátis - ".$maiorPrazoEntrega;
                    if ($maiorPrazoEntrega == 1){
                        $html .= " dia útil";
                    }
                    else{
                        $html .= ' dias úteis';
                    }
                    $html .= " - R$ 0,00</label>";
                    $html .= '<br><br></td></tr>';
                }
            }
        }
        $html .= "<input type='hidden' value='".$selecionado."' id='selecionado' name='selecionado'>";
        $totalCompra = $_REQUEST['valorTotal'] - $_REQUEST['desconto'] + $valorFrete2;
        $_SESSION['frete']['valor'] = number_format($valorFrete2, 2, ',', '.');
        if (!$_SESSION['frete']['tipo']){
            $_SESSION['frete']['tipo'] = "Frete_Gratis";
        }
        echo "1|-|".$html;
        break;
    case "alteraEnderecoEntrega":
        $sql = "SELECT * FROM addresses WHERE idClient = '".$_SESSION['cliente']['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($value = mysqli_fetch_object($query)){
                $html .= '<div style="';
                if ($_REQUEST['id'] == $value->id){
                    $html .= 'background-color:#e7e7e7;';
                }
                $html .= 'padding:2px; color:#000000; cursor:pointer" onClick="alteraEnderecoEntrega(\''.$value->id.'\', \''.$value->cep.'\', \''.$_REQUEST['peso'].'\', \''.$_REQUEST['altura'].'\', \''.$_REQUEST['largura'].'\', \''.$_REQUEST['comprimento'].'\', \''.$_REQUEST['diametro'].'\', \''.$_REQUEST['valorTotal'].'\', \''.$_REQUEST['produtos'].'\', \''.$_REQUEST['vale_presentes'].'\', \''.$_REQUEST['valorDesconto'].'\', \''.$_REQUEST['tipoFrete'].'\', \''.$_REQUEST['valorCarrinho'].'\', \''.URL.'\')">
                                                        <h3>'.($value->name.'</h3>
                                                        <p>'.$value->address.', '.$value->number);
                if ($value->complement)
                    $html .= ', '.($value->complement);
                $html .= '<br>Bairro: '.($value->neighborhood.' - '.$value->city.' - '.$value->state.'<br>CEP: '.$value->cep.'</p>
                                                    </div>');
            }
        }
        $k = 0;
        if ($_REQUEST['altura'] > 21){
            $_REQUEST['altura'] = 21;
        }
        if ($_REQUEST['largura'] > 78){
            $_REQUEST['largura'] = 78;
        }
        if ($_REQUEST['comprimento'] > 100){
            $_REQUEST['comprimento'] = 100;
        }
        if ($_REQUEST['valorCarrinho'] < 21){
            $_REQUEST['valorTotal2'] = 21;
            $_REQUEST['valorCarrinho2'] = 21;
        }
        elseif ($_REQUEST['valorCarrinho'] > 3000){
            $_REQUEST['valorTotal2'] = 3000;
            $_REQUEST['valorCarrinho2'] = 3000;
        }
        else{
            $_REQUEST['valorTotal2'] = $_REQUEST['valorTotal'];
            $_REQUEST['valorCarrinho2'] = $_REQUEST['valorCarrinho'];
        }

        $sql = "SELECT * FROM shipping_methods WHERE status = '1'";
        $query = mysqli_query($con, $sql);
		while ($row = mysqli_fetch_array($query)){
			unset($data);
            $data['nCdEmpresa'] = '';
            $data['sDsSenha'] = '';
            if (!$_REQUEST['cepCliente']){
                $data['sCepOrigem'] = $parametrosSite['cepLoja'];
            }
            else{
                $data['sCepOrigem'] = $_REQUEST['cepCliente'];
            }
            $data['sCepDestino'] = str_replace('-', '', $_REQUEST['cep']);
            $data['nVlPeso'] = $_REQUEST['peso'];
            $data['nCdFormato'] = '1';
            $data['nVlComprimento'] = $_REQUEST['comprimento'];
            $data['nVlAltura'] = $_REQUEST['altura'];
            $data['nVlLargura'] = $_REQUEST['largura'];
            $data['nVlDiametro'] = $_REQUEST['diametro'];
            $data['sCdMaoPropria'] = 's';
            $data['nVlValorDeclarado'] = $_REQUEST['valorCarrinho2'];
            $data['sCdAvisoRecebimento'] = 'n';
            $data['StrRetorno'] = 'xml';
            $data = http_build_query($data);
            $url = 'http://ws.correios.com.br/calculador/CalcPrecoPrazo.aspx';
            $curl = curl_init($url . '?' . $data."&nCdServico=".$row['code']);
            curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);

            $result = curl_exec($curl);

            $result = simplexml_load_string($result);

            foreach ($result->cServico as $row) {

                //Os dados de cada serviço estará aqui

                $retorno[$k] = $row;

            }
            $k++;
        }
        $checado = 0;
        if (count($retorno)) {
            $maiorPrazoEntrega = 0;
            $totalFretes = 0;
            $semFrete = 0;
            $selecionado = 0;
            foreach ($retorno as $key => $value) {
                $chave = $key + 1;
                $totalFretes++;
                if ($value->Erro == 0) {
					$sql = "SELECT * FROM shipping_methods WHERE code = '".$value->Codigo."'";
					$query = mysqli_query($con, $sql);
					$row = mysqli_fetch_array($query);
					$value->Valor = str_replace(".", "", $value->Valor);
					$value->Valor = str_replace(",", ".", $value->Valor);
					$value->Valor = number_format($value->Valor + $row['value'], 2, ',', '.');
                    if ($row['name'] == $_REQUEST['tipoFrete']){
                        $_SESSION['frete']['tipo'] = $row['name'];
                        $tipoQual = $_SESSION['frete']['tipo'];
                        $_SESSION['frete']['valor'] = $value->Valor;
                        $valorFrete = $value->Valor;
                        $_SESSION['frete']['prazo'] = $value->PrazoEntrega;
                        $prazoEntrega = $_SESSION['frete']['prazo'];
                        $_SESSION['frete']['codigo'] = $value->Codigo;
                        $_SESSION['frete']['qual'] = $value->Codigo;
                        $checado = "1";
                    }
                } else {
                    $semFrete++;
                }
            }
        }
        $_SESSION['cepPredefinido'] = $_REQUEST['cep'];
        $_SESSION['frete']['cep'] = $_REQUEST['cep'];
        $freteValor = $_SESSION['frete']['valor'];
        $freteValor =  str_replace('.', '', $freteValor);
        $freteValor =  str_replace(',', '.', $freteValor);
        $valorTotal = $_REQUEST['valorTotal'] - $_REQUEST['valorDesconto'] + $_SESSION['frete']['valor'];
        $valorTotal =  str_replace('.', '', $valorTotal);
        $valorTotal =  str_replace(',', '.', $valorTotal);
        echo "1|-|".($html)."|-|". $freteValor."|-|".$_REQUEST['valorDesconto']."|-|".$valorTotal."|-|".number_format($freteValor, 2, ',', '.')."|-|".number_format($_REQUEST['valorDesconto'], 2, ',', '.')."|-|".number_format($valorTotal, 2, ',', '.')."|-|".$_REQUEST['id']."|-|".$_SESSION['codigo']."|-|".$_SESSION['frete']['prazo'];
        break;
    case "deletarProduto":
        $sql = "";
        $sql = "SELECT * FROM carts WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "SELECT * FROM products_items WHERE id = '".$row['product_item']."'";
        $query = mysqli_query($con, $sql);
        $rowItem = mysqli_fetch_array($query);
        $estoque = $rowItem['estoque'] + $row['quantity'];
        $sql = "UPDATE products_items SET estoque = '".$estoque."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['product_item']."'";
        mysqli_query($con, $sql);
        $sql = "DELETE FROM carts WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "comprarProduto":
        $sql = "SELECT * FROM products_items WHERE id = '".$_REQUEST['product_item']."'";
        $query = mysqli_query($con, $sql);
        $rowItem = mysqli_fetch_array($query);
        $estoque = $rowItem['estoque'] - $_REQUEST['quantidade'];
        $sql = "UPDATE products_items SET estoque = '".$estoque."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['product_item']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "SELECT * FROM products WHERE id = '".$_REQUEST['product']."'";
        $query = mysqli_query($con, $sql);
        $rowProduto = mysqli_fetch_array($query);
        $nomeProduto = $rowProduto['name']." - ".$rowItem['name'];
        $valorProduto = ($rowItem['promotion'] && $rowItem['validity_promotion'] >= date('Y-m-d')) ? $rowItem['promotion'] : $rowItem['value'];
        $sql = "SELECT * FROM carts WHERE product = '".$_REQUEST['product']."' AND product_item = '".$_REQUEST['product_item']."' AND session_id = '".session_id()."'";
        $query = mysqli_query($con, $sql);
        if (!mysqli_num_rows($query)){
            $sql = "INSERT INTO carts (product, product_item, session_id, name, quantity, value, created_at, updated_at) VALUES ('".$_REQUEST['product']."', '".$_REQUEST['product_item']."', '".session_id()."', '".$nomeProduto."', '".$_REQUEST['quantidade']."', '".$valorProduto."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        }
        else{
            $row = mysqli_fetch_array($query);
            $quantidade = $row['quantity'] + $_REQUEST['quantidade'];
            $sql = "UPDATE carts SET quantity = '".$quantidade."', value = '".$valorProduto."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
        }
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1";
        break;
    case "aumentaQuantidade":
        $quantidade = $_REQUEST['quantidadeAtual'] + 1;
        $sql = "SELECT * FROM products_items WHERE id = '".$_REQUEST['product_item']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        if ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')) {
            $htmlValor = '<span style="text-decoration: line-through; font-size:18px; color:#999999">R$ '.number_format($row['value'] * $quantidade, 2, ',', '.').'</span><span>R$ '.number_format($row['promotion'] * $quantidade, 2, ',', '.').'</span>';
        }
        else {
            $htmlValor = '<span>R$ '.number_format($row['value'] * $quantidade, 2, ',', '.').'</span>';
        }
        $htmlValor .= '             <label style="float:left">Quantidade:</label>
                                        <input type="text" value="'.$quantidade.'" id="qaumentaQuantidadeCaruantidade" name="quantidade" readonly style="float:left" />
                                    <div style="float:left">
                                        <a style="cursor:pointer">
                                            <i class="fa fa-angle-up" onclick="aumentaQuantidade($(\'#quantidade\').val(), \''.$_REQUEST['product'].'\', \''.$row['id'].'\', \''.URL.'\', \''.$_REQUEST['maximo'].'\', \''.$_REQUEST['minimo'].'\')"></i>
                                        </a>
                                        <a style="cursor: pointer;">
                                            <i class="fa fa-angle-down" onclick="diminuiQuantidade($(\'#quantidade\').val(), \''.$_REQUEST['product'].'\', \''.$row['id'].'\', \''.URL.'\', \''.$_REQUEST['minimo'].'\', \''.$_REQUEST['maximo'].'\')"></i>
                                        </a>
                                    </div>
                                        <button type="submit" class="btn btn-fefault ';
        if ($row['estoque'] > $quantidade)
            $htmlValor .= 'cart';
        $htmlValor .= '">
                                            <i class="fa fa-shopping-cart"></i>
                                            Adicionar ao Carrinho
                                        </button>';
        echo "1|-|".$htmlValor;
        break;
    case "aumentaQuantidadeCarrinho":
        $quantidade = $_REQUEST['quantidadeAtual'] + 1;
        $sql = "SELECT * FROM carts WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "SELECT * FROM products_items WHERE id = '".$row['product_item']."'";
        $query = mysqli_query($con, $sql);
        $row2 = mysqli_fetch_array($query);
        $novoEstoque = $row2['estoque'] - 1;
        $sql = "UPDATE products_items SET  estoque = '".$novoEstoque."' WHERE id = '".$row['product_item']."'";
        $query = mysqli_query($con, $sql);
        $sql = "UPDATE carts SET quantity = '".$quantidade."' WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $valorProduto = $row['value'] * $quantidade;
        $sql = "SELECT a.*, b.peso, b.altura, b.largura, b.comprimento, b.diametro FROM carts a INNER JOIN products_items b ON (a.product_item = b.id) WHERE a.session_id = '".session_id()."'";
        $query = mysqli_query($con, $sql);
        $valorCarrinho = 0;
        $pesoCarrinho = 0;
        $alturaCarrinho = 0;
        $larguraCarrinho = 0;
        $comprimentoCarrinho = 0;
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $valorCarrinho += $row['value'] * $row['quantity'];
                $pesoCarrinho += $row['peso'] * $row['quantity'];
                $alturaCarrinho += $row['altura'] * $row['quantity'];
                $larguraCarrinho += $row['largura'] * $row['quantity'];
                $comprimentoCarrinho += $row['comprimento'] * $row['quantity'];
                $diametroCarrinho += $row['diametro'] * $row['quantity'];
            }
        }
        $_REQUEST['valorDesconto'] = str_replace('R$ ', '', $_REQUEST['valorDesconto']);
        $_REQUEST['valorDesconto'] = str_replace('.', '', $_REQUEST['valorDesconto']);
        $_REQUEST['valorDesconto'] = str_replace(',', '.', $_REQUEST['valorDesconto']);
        $_REQUEST['valorFrete'] = str_replace('R$ ', '', $_REQUEST['valorFrete']);
        $_REQUEST['valorFrete'] = str_replace('.', '', $_REQUEST['valorFrete']);
        $_REQUEST['valorFrete'] = str_replace(',', '.', $_REQUEST['valorDesconto']);
        $total = $valorCarrinho - $_REQUEST['valorDesconto'] + $_REQUEST['valorFrete'];
        $htmlFreteCarrinho = "
        <h4 style='text-align:center'>Calcule o Seu Frete</h4>
        <input type='text' value='' name='cepCompra' id='cepCompra' placeholder='Informe o seu cep aqui' class='form-control' onkeyup=mascara(this,'#####-###',event);calculaFrete(this.value,'".$pesoCarrinho."','".$alturaCarrinho."','".$larguraCarrinho."','".$comprimentoCarrinho."','".$diametroCarrinho."','".$total."','".$produtos."','".$vale_presentes."','".$valorCarrinho."','".URL."','".$freteGratisMostra."','')>
        <div id='freteCarrinho'>Informe o seu cep acima corretamente...</div>";
        $htmlCupomDesconto = "
        <h4 style='text-align:center'>Código do Cupom de Desconto / Vale Presente</h4>
        <input type='text' value='' name='codigoCupom' id='codigoCupom' placeholder='Informe o código do cupom de desconto / vale presente aqui corretamente...' class='form-control'>
        <div style='text-align:center'><input type='button' value='Cadastrar' onclick=verificaCodigoCupom('0.00','".$valorCarrinho."','".URL."') class='btn btn-primary'></div>";
        echo "1|-|".number_format($valorProduto, 2, ',', '.')."|-|".$quantidade."|-|".number_format($valorCarrinho, 2, ',', '.')."|-|".number_format($total, 2, ',', '.')."|-|".$htmlFreteCarrinho."|-|".$htmlCupomDesconto;        
        break;
    case "diminuiQuantidade":
        $quantidade = $_REQUEST['quantidadeAtual'] - 1;
        $sql = "SELECT * FROM products_items WHERE id = '".$_REQUEST['product_item']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        if ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')) {
            $htmlValor = '<span style="text-decoration: line-through; font-size:18px; color:#999999">R$ '.number_format($row['value'] * $quantidade, 2, ',', '.').'</span><span>R$ '.number_format($row['promotion'] * $quantidade, 2, ',', '.').'</span>';
        }
        else {
            $htmlValor = '<span>R$ '.number_format($row['value'] * $quantidade, 2, ',', '.').'</span>';
        }
        $htmlValor .= '             <label style="float:left">Quantidade:</label>
                                        <input type="text" value="'.$quantidade.'" id="quantidade" name="quantidade" readonly style="float:left" />
                                    <div style="float:left">
                                        <a style="cursor:pointer">
                                            <i class="fa fa-angle-up" onclick="aumentaQuantidade($(\'#quantidade\').val(), \''.$_REQUEST['product'].'\', \''.$row['id'].'\', \''.URL.'\', \''.$_REQUEST['maximo'].'\', \''.$_REQUEST['minimo'].'\')"></i>
                                        </a>
                                        <a style="cursor: pointer;">
                                            <i class="fa fa-angle-down" onclick="diminuiQuantidade($(\'#quantidade\').val(), \''.$_REQUEST['product'].'\', \''.$row['id'].'\', \''.URL.'\', \''.$_REQUEST['minimo'].'\', \''.$_REQUEST['maximo'].'\')"></i>
                                        </a>
                                    </div>
                                        <button type="submit" class="btn btn-fefault ';
        if ($row['estoque'] > $quantidade)
            $htmlValor .= 'cart';
        $htmlValor .= '">
                                            <i class="fa fa-shopping-cart"></i>
                                            Adicionar ao Carrinho
                                        </button>';
        echo "1|-|".$htmlValor;
        break;
    case "diminuiQuantidadeCarrinho":
        $quantidade = $_REQUEST['quantidadeAtual'] - 1;
        $sql = "SELECT * FROM carts WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $valorProduto = $row['value'];
        $sql = "SELECT * FROM products_items WHERE id = '".$row['product_item']."'";
        $query = mysqli_query($con, $sql);
        $row2 = mysqli_fetch_array($query);
        $novoEstoque = $row2['estoque'] + 1;
        $sql = "UPDATE products_items SET  estoque = '".$novoEstoque."' WHERE id = '".$row['product_item']."'";
        $query = mysqli_query($con, $sql);
        $sql = "UPDATE carts SET quantity = '".$quantidade."' WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $valorProduto = $row['value'] * $quantidade;
        $sql = "SELECT a.*, b.peso, b.altura, b.largura, b.comprimento, b.diametro FROM carts a INNER JOIN products_items b ON (a.product_item = b.id) WHERE a.session_id = '".session_id()."'";
        $query = mysqli_query($con, $sql);
        $valorCarrinho = 0;
        $valorCarrinho = 0;
        $pesoCarrinho = 0;
        $alturaCarrinho = 0;
        $larguraCarrinho = 0;
        $comprimentoCarrinho = 0;
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $valorCarrinho += $row['value'] * $row['quantity'];
                $pesoCarrinho += $row['peso'] * $row['quantity'];
                $alturaCarrinho += $row['altura'] * $row['quantity'];
                $larguraCarrinho += $row['largura'] * $row['quantity'];
                $comprimentoCarrinho += $row['comprimento'] * $row['quantity'];
                $diametroCarrinho += $row['diametro'] * $row['quantity'];
            }
        }
        $_REQUEST['valorDesconto'] = str_replace('R$ ', '', $_REQUEST['valorDesconto']);
        $_REQUEST['valorDesconto'] = str_replace('.', '', $_REQUEST['valorDesconto']);
        $_REQUEST['valorDesconto'] = str_replace(',', '.', $_REQUEST['valorDesconto']);
        $_REQUEST['valorFrete'] = str_replace('R$ ', '', $_REQUEST['valorFrete']);
        $_REQUEST['valorFrete'] = str_replace('.', '', $_REQUEST['valorFrete']);
        $_REQUEST['valorFrete'] = str_replace(',', '.', $_REQUEST['valorDesconto']);
        $total = $valorCarrinho - $_REQUEST['valorDesconto'] + $_REQUEST['valorFrete'];
        $htmlFreteCarrinho = "
        <h4 style='text-align:center'>Calcule o Seu Frete</h4>
        <input type='text' value='' name='cepCompra' id='cepCompra' placeholder='Informe o seu cep aqui' class='form-control' onkeyup=mascara(this,'#####-###',event);calculaFrete(this.value,'".$pesoCarrinho."','".$alturaCarrinho."','".$larguraCarrinho."','".$comprimentoCarrinho."','".$diametroCarrinho."','".$total."','".$produtos."','".$vale_presentes."','".$valorCarrinho."','".URL."','".$freteGratisMostra."','')>
        <div id='freteCarrinho'>Informe o seu cep acima corretamente...</div>";
        $htmlCupomDesconto = "
        <h4 style='text-align:center'>Código do Cupom de Desconto / Vale Presente</h4>
        <input type='text' value='' name='codigoCupom' id='codigoCupom' placeholder='Informe o código do cupom de desconto / vale presente aqui corretamente...' class='form-control'>
        <div style='text-align:center'><input type='button' value='Cadastrar' onclick=verificaCodigoCupom('0.00','".$valorCarrinho."','".URL."') class='btn btn-primary'></div>";
        echo "1|-|".number_format($valorProduto, 2, ',', '.')."|-|".$quantidade."|-|".number_format($valorCarrinho, 2, ',', '.')."|-|".number_format($total, 2, ',', '.')."|-|".$htmlFreteCarrinho."|-|".$htmlCupomDesconto;        
        break;
    case "mudaPrecoProduto":
        $_REQUEST['precoAtual'] = str_replace(' R$ ', '', $_REQUEST['precoAtual']);
        $_REQUEST['precoAtual'] = str_replace('R$ ', '', $_REQUEST['precoAtual']);
        $_REQUEST['precoAtual'] = str_replace('.', '', $_REQUEST['precoAtual']);
        $_REQUEST['precoAtual'] = str_replace(',', '.', $_REQUEST['precoAtual']);
        $_REQUEST['precoPromocao'] = str_replace(' R$ ', '', $_REQUEST['precoPromocao']);
        $_REQUEST['precoPromocao'] = str_replace('R$ ', '', $_REQUEST['precoPromocao']);
        $_REQUEST['precoPromocao'] = str_replace('.', '', $_REQUEST['precoPromocao']);
        $_REQUEST['precoPromocao'] = str_replace(',', '.', $_REQUEST['precoPromocao']);
        $precoAtual = $_REQUEST['precoAtual'] / $_REQUEST['qtdAtual'] * $_REQUEST['qtd'];
        $precoPromocao = $_REQUEST['precoPromocao'] / $_REQUEST['qtdAtual'] * $_REQUEST['qtd'];
        echo '1|-| R$ '.number_format($precoAtual, 2, ',', '.');
        if ($_REQUEST['qtd'] > 1){
            echo " - <a onclick=abreFecha('maioresInformacoesQuantidadeProduto') style='cursor:pointer; text-decoration:underline'>".$_REQUEST['qtd']." Unidades</a>
            <div id='maioresInformacoesQuantidadeProduto' style='position:absolute; display:none; border:1px solid #000000; padding:5px; border-radius:15px; background-color:#FFFFFF'>
                <div style='position: absolute; float: left; left:92%'><div onclick=fecha('maioresInformacoesQuantidadeProduto') style='cursor:pointer'>&times;</div></div>    
                <br>Valor Unitario: <b>R$ ".number_format($precoAtual / $_REQUEST['qtd'], 2, ',', '.')."</b>
            </div>
            ";
        }
        echo "|-|R$ ".number_format($precoPromocao, 2, ',','.');
        break;
    case "mudaImgProduto":
        $sql = "SELECT * FROM products_images WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $html = "<img src='".URL."storage/".$row['img']."' title='".$row['name']."'>";
        echo "1|-|".$html;
        break;
    case "selecionaAtributo":
        $sql = "SELECT * FROM products_items WHERE product = '".$_REQUEST['product']."'";
        for ($i = 0; $i < 10; $i++) {
            if ($_REQUEST['idAtributo'.$i] != 'undefined'){
                $chave = $i+1;
                $sql .= " AND attribute".$chave." = '" . $_REQUEST['idAtributo'.$i] . "'";
            }
        }
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "SELECT * FROM products_images WHERE product = '".$_REQUEST['product']."' AND product_item = '".$row['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row2 = mysqli_fetch_array($query)){
                $products_images[] = $row2;
            }
        }
        foreach ($products_images as $key => $value){
            if ($key % 3 == 0){
                $htmlFotos .= '<div class="carousel-item ';
                if ($key == 0){
                    $htmlFotos .= "active";
                }
                $htmlFotos .= '">
                <div class="row">';
            }
            $htmlFotos .= '
            <div class="col-4">
                <a style="cursor:pointer" onClick=mudaImgProduto("'.$value['id'].'","'.URL.'")>
                    <img class="card-img img-fluid" src="'.URL.'storage/'.$value['img'].'">
                </a>
            </div>';
            if ($key % 3 == 2 || $key == count($products_images) - 1){
                $htmlFotos .= '</div>
                </div>';
            }
        }
        if ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')){
            $htmlValor = '<span style="text-decoration: line-through; font-size:14px; color:#999999" id="valorProduto3">R$ '.number_format($row['value'], 2, ',', '.').'</span>';
            $htmlPromocao = 'R$ '.number_format($row['promotion'] - ($parametrosSite['descontoAVista'] * $row['promotion'] / 100), 2, ',', '.');
        }
        else{
            $htmlPromocao = 'R$ '.number_format($row['value'] - ($parametrosSite['descontoAVista'] * $row['value'] / 100), 2, ',', '.');
        }
        if ($row['estoque']){
            $htmlBotoes = '<div class="col d-grid">
        <button type="submit" class="btn btn-success btn-lg">Comprar</button>
    </div>
    <div class="col d-grid">
        <button type="button" onclick=addCarrinho("'.$_REQUEST['product'].'","'.$row['id'].'","'.URL.'","'.URL.'",$("#var-value").html()) class="btn btn-success btn-lg">Adicionar ao Carrinho</button>
    </div>';
        }
        if ($row['estoque']){
            $htmlDisponibilidade = "<strong> <span style='color:#000033'>Em estoque</span></strong>";
        }
        else{
            $htmlDisponibilidade = "<strong> <span style='color:#FF0000'>Indisponível</span></strong>";
        }
        echo "1|-|<img src='".URL."storage/".$products_images[0]['img']."' title='".$products_images[0]['name']."'>|-|".$htmlFotos."|-|
        <ul class='list-inline'>
            <li class='list-inline-item'>
                <h6>Código:</h6>
            </li>
            <li class='ist-inline-item'>
                <p class='text-muted'><strong>".$row['code']."</strong></p>
            </li>
        </ul>|-|".$htmlValor."|-|".$htmlDisponibilidade."|-|".base64_encode($row['id'])."|-|".$htmlBotoes."|-|".$htmlPromocao;
        break;
    case "salvarComentario":
		$sql = "SELECT name FROM products WHERE id = '".$_REQUEST['product']."'";
		$query = mysqli_query($con, $sql);
		$row = mysqli_fetch_array($query);
        $sql = ("INSERT INTO products_reviews (product, nome, email, avaliacao, mensagem, created_at, updated_at) VALUES ('".$_REQUEST['product']."', '".($_REQUEST['nomeComentario'])."', '".$_REQUEST['emailComentario']."', '".$_REQUEST['nota']."', '".($_REQUEST['comentario'])."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql) or die(mysqli_error($con));
		$assuntoEnvia = "Comentário Cadastrado em um produto - ".$parametrosSite['title'];
		$htmlEnvia = '<html><head><title>Comentário Cadastrado em um produto!</title></head><body><table width="100%" cellspacing="0" cellpadding="0" border="0"><tr><td valign="top" width="200" style="text-align: center"><img src="'.URL.'img/logo.png" width="180"></td><td>Olá Equipe '.$parametrosSite['title'].',<br><br>Viemos informar que foi feito um novo comentário de produto no site.<br><br>Nome do Produto: '.($row['name']).'<br>Nome: '.$_REQUEST['nomeComentario'].'<br>Email: '.$_REQUEST['emailComentario'].'<br>Mensagem: '.str_replace("\r\n", "<br>", $_REQUEST['comentario']).'<br><br>Para visualizar os comentários no admin, <a href="'.URL.'admin/comentariosProduto">clique aqui</a>.<br><br>Atenciosamente,<br><br>Equipe <a href="'.URL.'">'.$parametrosSite['title'].'</a><hr noshade><center>Email Desenvolvido pela <a href="https://www.bhcommerce.com.br">BH Commerce</a><hr noshade></td></tr></table></body></html>';
        $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
        $cabecalhoEmail .= "From:Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<".$parametrosSite['email'];
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($assuntoEnvia), utf8_decode($htmlEnvia));
        //mail(utf8_decode($parametrosSite['title']."<testegosat@bhcommerce.com.br>"), utf8_decode($assuntoEnvia), utf8_decode($htmlEnvia), utf8_decode($cabecalhoEmail));
        echo "1";
        break;
    case "formCadastro":
        $sql = "SELECT * FROM users WHERE email = '".$_REQUEST['email']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)) {
            echo "0|-|Já existe um usuáio cadastrado com esse email! Clique em 'Esqueci a minha senha' caso tenha se esquecido da sua senha ou em 'Login' para se logar no sistema!";
        }
        else{
            $sql = "SELECT * FROM users_pre WHERE email = '".$_REQUEST['email']."'";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)) {
                echo "0|-|Já existe um usuáio pre-cadastrado com esse email! Aguarde ele ser checado que você vai receber um email nosso informando isso!";
            }
            else{
                if ($_REQUEST['password'] != $_REQUEST['password2']){
                    echo "0|-|As senhas digitadas não conferem. Confira!";
                }
                else {
                    $sql = "INSERT INTO user_pres (name, email, password, created_at, updated_at) VALUES ('".$_REQUEST['nome']."', '".$_REQUEST['email']."', '".md5($_REQUEST['password'])."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                    mysqli_query($con, $sql);
                    $htmlEnvia = '<html><head><title>Pré cadastro efetuado com sucesso!</title></head><body><table width="100%" cellspacing="0" cellpadding="0" border="0"><tr><td valign="top" width="200" style="text-align: center"><img src="'.URL.'img/logo.png" width="180"></td><td>Olá,<br><br>Viemos informar que foi feito um novo pré-cadastro no admin do site.<br><br>Nome: '.$_REQUEST['nome'].'<br>Email: '.$_REQUEST['email'].'<br><br>Para visualizar os pré-cadastros no admin, <a href="'.URL.'admin/usuarios-pre">clique aqui</a>.<br><br>Atenciosamente,<br><br>Equipe <a href="'.URL.'">'.$parametrosSite['title'].'</a><hr noshade><center>Email desenvolvido pela <a href="https://www.bhcommerce.com.br">BH Commerce</a></center><hr noshade></td></tr></table></body></html>';
                    $nomeEnvia = $parametrosSite['title'];
                    $emailEnvia = $parametrosSite['email'];
                    $assuntoEnvia = $parametrosSite['title']." - Pré-cadastro efetuado com sucesso";
                    $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                    $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
                    enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $emailEnvia, utf8_decode($nomeEnvia), utf8_decode($assuntoEnvia), utf8_decode($htmlEnvia));
					//mail(utf8_decode($nomeEnvia."<".$emailEnvia.">"), utf8_decode($assuntoEnvia), utf8_decode($htmlEnvia), utf8_decode($cabecalhoEmail));
                    echo "1";
                }
            }
        }
        break;
    case "formLogin":
        $sql = "SELECT * FROM users WHERE email = '".$_REQUEST['emailLogin']."' AND password = '".md5($_REQUEST['senhaLogin'])."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $_SESSION['user'] = $row;
            $action = "Se logou no sistema";
            $idUser = $_SESSION['user']['id'];
            $sql = "INSERT INTO logs (user, action, created_at, updated_at) VALUES ('".$idUser."', '".$action."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
            echo "1";
        }
        else{
            echo "0|-|Login e/ou senha inválidos! Confira!";
        }
        break;
    case "formAlterarSenha":
        if ($_REQUEST['password'] != $_REQUEST['password2']){
            echo "0|-|Informe senhhas iguais!";
        }
        else {
            $sql = "UPDATE users SET password = '".md5($_REQUEST['password'])."', remember_token = '', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idUsuario']."'";
            mysqli_query($con, $sql);
            echo "1";
        }
        break;
    case "formEsqueceuSuaSenha":
        $sql = "SELECT * FROM users WHERE email = '".$_REQUEST['email']."'";
        $query = mysqli_query ($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $digitos = rand(0,9).rand(0,9).rand(0,9).rand(0,9).rand(0,9).rand(0,9);
            $sql = "UPDATE users SET remember_token = '".$digitos."' WHERE id = '".$row['id']."'";
            mysqli_query($con,  $sql);
            $html = "<html>
                    <head>
                        <title>Sistema de Teste - Esqueceu sua senha</title>
<                   </head>
                    <body>
                        <table width='100%' cellspacing='0' cellpadding='0' border='0'>
                            <tr>
                                <td width='100' style='text-align:center' valign='top'><img src='".URL."dist/img/logo.png' width='90'></td>
                                <td>Olá <b>".$row['name']."</b>,<br><br>
                                Este email é porque você solicitou em nosso site um lembrete da sua senha!<br><br>
                                Para alterar a sua senha, <a href='".URL."alterar-senha/".$digitos."'>clique aqui</a>.<br><br>
                                Atenciosamente,<br><br>
                                Equipe <a href='".URL."'>Sistema de Teste Gosat</a></td>
<                           </tr>
                        </table><hr noshade><center>Email desenvolvido por <a href='https://www.bhcommerce.com.br'>Henrique Marcandier</a></center><hr noshade>
                   </body>
                   </html>";
				   $assunto = "Sistema de Teste Gosat - Esqueceu Sua Senha?";
            $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
            $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
            enviarEmail("testegosat@bhcommerce.com.br", "Sistema de Teste Gosat", $row['email'], utf8_decode($row['name']), utf8_decode($assunto), utf8_decode($html));
			//mail(utf8_decode($row['name']."<".$row['email'].">"), utf8_decode($parametrosSite['title']." - Esqueceu sua senha?"), utf8_decode($html), utf8_decode($cabecalhoEmail));
            echo "1|-|".$html;
        }
        else{
            echo "0|-|Esse email não está cadastrado em nossa base de dados!";
        }
        break;
    case 'aprovarUsuario':
        $sql = "SELECT * FROM user_pres WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "DELETE FROM user_pres WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        $sql = ("INSERT INTO users (name, email, password, created_at, updated_at) VALUES ('".$row['name']."', '".$row['email']."', '".$row['password']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql);
        $html = "<html>
                    <head>
                        <title>Sistema de Teste Gosat - Cadastro Liberado no Admin com Sucesso!</title>
<                   </head>
                    <body>
                        <table width='100%' cellspacing='0' cellpadding='0' border='0'>
                            <tr>
                                <td width='100' style='text-align:center' valign='top'><img src='".URL."img/logo.png' width='90'></td>
                                <td>Olá <b>".$row['name']."</b>,<br><br>
                                Este email é para informar que o seu cadastro foi liberado com sucesso no admin de nosso site!<br><br>
                                Para acessar nosso admin, <a href='".URL."admin'>clique aqui</a>.<br><br>
                                Seu email: ".$row['email']."<br><br>
                                Atenciosamente,<br><br>
                                Equipe <a href='".URL."'>Sistema de Teste Gosat</a></td>
<                           </tr>
                        </table><hr noshade><center>Email desenvolvido pela <a href='https://www.bhcommerce.com.br'>BH Commerce</a></center><hr noshade>
                   </body>
                   </html>";
        $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
        $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $row['email'], utf8_decode($row['name']), utf8_decode($parametrosSite['title']." - Cadastro Liberado no Admin com Sucesso!"), utf8_decode($html));
        //mail(utf8_decode($row['name']."<".$row['email'].">"), utf8_decode($parametrosSite['title']." - Cadastro Liberado no Admin com Sucesso!"), utf8_decode($html), utf8_decode($cabecalhoEmail));
       echo "1";
        break;
    case "aprovarAnuncie2":
        $sql = "SELECT a.*, b.days FROM anuncie_aquis a INNER JOIN time_banners b ON (a.tipo_banner = b.id) WHERE a.id = '".$_REQUEST['id']."' AND a.aprovado = '0'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $slug = retirarAcentos($row['nome_banner']);
            $dias_adiciona = $row['days'];
            if ($dias_adiciona != 'eterno'){
                $date = date('Y-m-d H:i:s');
                $celke_data_inicio = strtotime($date);
                $celke_data_fim = '+'.$dias_adiciona.' day';
                $validade = date('Y-m-d', strtotime($celke_data_fim));
            }
            else{
                $validade = "9999-12-31";
            }
            $i = 1;
            $sql = ("INSERT INTO banners (name, link, target, status, position, created_at, updated_at) VALUES ('".$row['nome_banner']."', '".$row['link_banner']."', '".$row['target_banner']."', '1', '".$row['posicao_banner']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
            $idBanner = mysqli_insert_id($con);
            if (preg_match("/jpg/", $row['img'])){
                $tipo = ".jpg";
            }
            elseif (preg_match("/gif/", $row['img'])){
                $tipo = ".gif";
            }
            elseif (preg_match("/png/", $row['img'])){
                $tipo = ".png";
            }
            elseif (preg_match("/bmp/", $row['img'])){
                $tipo = ".bmp";
            }
            elseif (preg_match("/webp/", $row['img'])){
                $tipo = ".webp";
            }
            copy(DIRETORIO."storage/".$row['img'], DIRETORIO."storage/banner".$idBanner.$tipo);
            $sql = "UPDATE banners SET img = 'banner".$idBanner.$tipo."' WHERE id = '".$idBanner."'";
            mysqli_query($con, $sql);
            $sql = "UPDATE anuncie_aquis SET aprovado = '1' WHERE id = '".$row['id']."'";
            mysqli_query($con, $sql);
            echo "1";
        }
        break;
        case "excluirImagemFundo":
            unlink(DIRETORIO."img/background.jpg");
            unlink(DIRETORIO."img/background.jpeg");
            unlink(DIRETORIO."img/background.gif");
            unlink(DIRETORIO."img/background.png");
            unlink(DIRETORIO."img/background.bmp");
            unlink(DIRETORIO."img/background.svg");
            unlink(DIRETORIO."img/background.webp");
            echo "1";
            break;
    case "excluirImagemBusca":
        unlink(DIRETORIO."img/backgroundBusca.jpg");
        unlink(DIRETORIO."img/backgroundBusca.jpeg");
        unlink(DIRETORIO."img/backgroundBusca.gif");
        unlink(DIRETORIO."img/backgroundBusca.png");
        unlink(DIRETORIO."img/backgroundBusca.bmp");
        unlink(DIRETORIO."img/backgroundBusca.svg");
        unlink(DIRETORIO."img/backgroundBusca.webp");
        echo "1";
        break;
    case "editar":
        switch ($_REQUEST['table']){
            case "logo":
                if ($_FILES['logo'] && isset($_FILES['logo'])){
                    copy($_FILES['logo']['tmp_name'], DIRETORIO."img/logo.png");
                    copy($_FILES['logo']['tmp_name'], DIRETORIO."assets/img/logo.png");
                }
                break;
            case "favicon":
                if ($_FILES['favicon'] && isset($_FILES['favicon'])){
                    copy($_FILES['favicon']['tmp_name'], DIRETORIO."img/favicon.ico");
                    copy($_FILES['favicon']['tmp_name'], DIRETORIO."assets/img/favicon.ico");
                }
                break;
            case "imagemFundoGeral":
                if ($_FILES['imagemGeralEdicao'] && isset($_FILES['imagemGeralEdicao'])){
                    copy($_FILES['imagemGeralEdicao']['tmp_name'], DIRETORIO."storage/dash-bg-01.jpg");
                }
                break;
            case "imagemFundoLogin":
                if ($_FILES['imagemLoginEdicao'] && isset($_FILES['imagemLoginEdicao'])){
                    copy($_FILES['imagemLoginEdicao']['tmp_name'], DIRETORIO."storage/dash-bg-03.jpg");
                }
                break;
            case "imagemEsqueceuSuaSenha":
                if ($_FILES['imagemEsqueceuSuaSenhaEdicao'] && isset($_FILES['imagemEsqueceuSuaSenhaEdicao'])){
                    copy($_FILES['imagemEsqueceuSuaSenhaEdicao']['tmp_name'], DIRETORIO."storage/dash-bg-02.jpg");
                }
                break;
            case "imagemAlterarSenha":
                if (!$_FILES['imagemAlterarSenhaEdicao']['error'] && isset($_FILES['imagemAlterarSenhaEdicao'])){
                    copy($_FILES['imagemAlterarSenhaEdicao']['tmp_name'], DIRETORIO."storage/dash-bg-04.jpg");
                }
                break;
            case "imagemCadastro":
                if (!$_FILES['imagemCadastroEdicao']['error'] && isset($_FILES['imagemCadastroEdicao'])){
                    copy($_FILES['imagemCadastroEdicao']['tmp_name'], DIRETORIO."storage/dash-bg-05.jpg");
                }
                break;
            case "imagemFundo":
                unlink(DIRETORIO."img/background.jpg");
                unlink(DIRETORIO."img/background.jpeg");
                unlink(DIRETORIO."img/background.gif");
                unlink(DIRETORIO."img/background.png");
                unlink(DIRETORIO."img/background.bmp");
                unlink(DIRETORIO."img/background.svg");
                unlink(DIRETORIO."img/background.webp");
                if (preg_match("/.jpeg/", $_FILES['imagemEdicao']['name'])){
                    $tipo = ".jpeg";
                }
                elseif (preg_match("/.jpg/", $_FILES['imagemEdicao']['name'])){
                    $tipo = ".jpg";
                }
                elseif (preg_match("/.gif/", $_FILES['imagemEdicao']['name'])){
                    $tipo = ".gif";
                }
                elseif (preg_match("/.png/", $_FILES['imagemEdicao']['name'])){
                    $tipo = ".png";
                }
                elseif (preg_match("/.bmp/", $_FILES['imagemEdicao']['name'])){
                    $tipo = ".bmp";
                } 
                elseif (preg_match("/.svg/", $_FILES['imagemEdicao']['name'])){
                    $tipo = ".svg";
                }
                elseif (preg_match("/.webp/", $_FILES['imagemEdicao']['name'])){
                    $tipo = ".webp";
                }
                if ($tipo){
                    copy($_FILES['imagemEdicao']['tmp_name'], DIRETORIO."img/background".$tipo);
                }
                break;
                case "imagemBusca":
                    unlink(DIRETORIO."img/backgroundBusca.jpg");
                    unlink(DIRETORIO."img/backgroundBusca.jpeg");
                    unlink(DIRETORIO."img/backgroundBusca.gif");
                    unlink(DIRETORIO."img/backgroundBusca.png");
                    unlink(DIRETORIO."img/backgroundBusca.bmp");
                    unlink(DIRETORIO."img/backgroundBusca.svg");
                    unlink(DIRETORIO."img/backgroundBusca.webp");
                    if (preg_match("/.jpeg/", $_FILES['imagemEdicao']['name'])){
                        $tipo = ".jpeg";
                    }
                    elseif (preg_match("/.jpg/", $_FILES['imagemEdicao']['name'])){
                        $tipo = ".jpg";
                    }
                    elseif (preg_match("/.gif/", $_FILES['imagemEdicao']['name'])){
                        $tipo = ".gif";
                    }
                    elseif (preg_match("/.png/", $_FILES['imagemEdicao']['name'])){
                        $tipo = ".png";
                    }
                    elseif (preg_match("/.bmp/", $_FILES['imagemEdicao']['name'])){
                        $tipo = ".bmp";
                    } 
                    elseif (preg_match("/.svg/", $_FILES['imagemEdicao']['name'])){
                        $tipo = ".svg";
                    }
                    elseif (preg_match("/.webp/", $_FILES['imagemEdicao']['name'])){
                        $tipo = ".webp";
                    }
                    if ($tipo){
                        copy($_FILES['imagemEdicao']['tmp_name'], DIRETORIO."img/backgroundBusca".$tipo);
                    }
                    break;
            case "pedido":
                $sql = "SELECT a.*, b.email AS emailCliente, c.send_email, c.email, d.name AS nomeCliente, e.nomeFantasia FROM requests a INNER JOIN clients b ON (a.client = b.id) INNER JOIN requests_statuses c ON (a.status = c.id) LEFT JOIN pessoa_fisicas d ON (b.id = d.client) LEFT JOIN pessoa_juridicas e ON (b.id = e.client) WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $sql = "SELECT * FROM requests_statuses WHERE id = '".$_REQUEST['statusEditar']."'";
                $query2 = mysqli_query($con, $sql);
                $row2 = mysqli_fetch_array($query2);
                $sql = "SELECT a.* FROM requests_items a WHERE a.request = '".$_REQUEST['id']."' LIMIT 1";
                $query3 = mysqli_query($con, $sql);
                $row3 = mysqli_fetch_array($query3);
                $lista = $row3['lista'];
                $vet = explode(' ', $row['created_at']);
                $vet1 = explode('-', $vet[0]);
                if ($_REQUEST['codRastreamento'] != $row['codRastreamento'] && $_REQUEST['codRastreamento']){
                    $paraNome3 = ($row['nomeCliente']) ? $row['nomeCliente'] : $row['nomeFantasia'];
                    $paraEmail = $row['emailCliente'];
                    $assunto = $parametrosSite['title'].(" - Email de aviso de inserção de código de rastreamento do pedido ").sprintf("%012s", $row['id'])." - ".$row2['name'];
                    $htmlEmail = "<html><head><title> Email de aviso de inserção de código de rastreamento do pedido ".sprintf("%012s", $row['id'])." - ".$row2['name']."</title></head><body><table border='0' width='100%'><tr><td valign='top' width='150'><img src='".URL."img/logo.png' width='150'></td><td>Olá ".$paraNome3.",<br><br>Informamos que foi adicionado um código de rastreo ao seu pedido ".sprintf("%012s", $row['id'])."<br><br>Para acompanhar o seu pedido, <a href='".URL_SITE."pagina/rastreio-de-encomendas?codigo=".$_REQUEST['codRastreamento']."'>clique aqui</a>, ou vá até a sua central do clicando, se logando em nosso site, e clique em pedidos. Depois é só clicar em cima do pedido ".sprintf("%012s", $row['id']).". Aí basta clicar em cima de rastrear pedido para acompanhar os dados do pedido.<br><br>Atenciosamente,<br><br>Equipe Loja Virtual da BH Commerce<hr noshade><center>Email desenvolvido pela <a href='https://www.bhcommerce.com.br'>BH Commerce</a></center><hr noshade></td></td></tr></table></body></html>";
                    $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                    $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
                    enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $paraEmail, utf8_decode($paraNome3), utf8_decode($assunto), utf8_decode($htmlEmail));
					//mail(utf8_decode($paraNome."<".$paraEmail.">"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
                }
                if ($row['status'] != $_REQUEST['statusEditar'] && $row2['send_email'] == 1){
                    $paraNome3 = ($row['nomeCliente']) ? $row['nomeCliente'] : $row['nomeFantasia'];
                    $paraEmail = $row['emailCliente'];
                    $assunto = $parametrosSite['title'].(" - Alteração de status do pedido ").sprintf("%012s", $row['id'])." - ".$row2['name'];
                    $htmlEmail = "<html><head><title>Email de alteração de status</title></head><body><table border='0' width='100%'><tr><td valign='top' width='150'><img src='".URL."img/logo.png' width='150'></td><td>".nl2br(str_replace("##codRastreamento##", $_REQUEST['codRastreamento'],str_replace("##nomeCliente##", ($paraNome), str_replace("##numPedido##", sprintf("%012s", $row['id']), str_replace("##dataHora##", (date('d/m/Y')." às ".date('H:i:s')."h"), str_replace("##nomeSite##", $parametrosSite['title'], str_replace('##linkAcompanha##', 'https://lojaalex.bhcommerce.com.br/pagina/rastreio-de-encomendas?codigo='.$_REQUEST['codRastreamento'], $row2['email'])))))))."<hr noshade><center>Email desenvolvido pela <a href='https://www.bhcommerce.com.br'>BH Commerce</a></center><hr noshade></td></td></tr></table></body></html>";
                    $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                    $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
                    enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $paraEmail, utf8_decode($paraNome3), utf8_decode($assunto), utf8_decode($htmlEmail));
					//mail(utf8_decode($paraNome."<".$paraEmail.">"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
                    if ($lista && $_REQUEST['statusEditar'] == 6){
                        $sql = "SELECT a.*, b.email, c.name, d.nomeFantasia, d.contato FROM presents_lists a INNER JOIN clients b ON (a.client = b.id) LEFT JOIN pessoa_fisicas c ON (b.id = c.client) LEFT JOIN pessoa_juridicas d ON (b.id = d.client) WHERE a.id = '".$lista."'";
						$query4 = mysqli_query($con, $sql);
                        $row4 = mysqli_fetch_array($query4);
                        $sql = "SELECT a.*, b.name AS nomeProduto, c.name AS nomeItem FROM requests_items a INNER JOIN products b ON (a.product = b.id) INNER JOIN products_items c ON (a.product_item = c.id) WHERE a.request = '".$_REQUEST['id']."'";
                        $query5 = mysqli_query($con, $sql);
                        if (mysqli_num_rows($query5)){
                            while ($row5 = mysqli_fetch_array($query5)){
                                $sql = "SELECT * FROM presents_lists_products WHERE lista = '".$row5['lista']."' AND product = '".$row5['product']."' AND product_item = '".$row5['product_item']."'";
                                $query6 = mysqli_query($con, $sql);
                                $row6 = mysqli_fetch_array($query6);
                                $ganhou = $row6['ganhou'] + $row5['quantity'];
								$nomeProduto = $row5['nomeProduto']." - ".$row5['nomeItem'];
                                $sql = "UPDATE presents_lists_products SET ganhou = '".$ganhou."' WHERE lista = '".$row5['lista']."' AND product = '".$row5['product']."' AND product_item = '".$row5['product_item']."'";
                                mysqli_query($con, $sql);
								$paraNome = ($row4['name']) ? $row4['name'] : $row4['nomeFantasia']." - ".$row4['contato'];
								$paraEmail = $row4['email'];
								$assunto = $parametrosSite['title']." - Recebimento de Presente";
								$htmlEmail = "<html><head><title>Recebimento de Presente</title></head><body><table border='0' width='100%'><tr><td valign='top' width='150'><img src='".URL."img/logo.png' width='150'></td><td>Olá ".$paraNome.",<br><br>Este email é para te informar do recebimento do seguinte presente: ".($nomeProduto).".<br><br>Este presente foi dado por: ".$paraNome3."<br><br>".$parametrosSite['artigo']." Sistema de Teste Gosat te parabeniza pelo seu dia!<br><br>Atenciosamente,<br><br>Equipe Sistema de Teste Gosat<hr noshade><center>Email desenvolvido pela <a href='https://www.bhcommerce.com.br'>BH Commerce</a></center><hr noshade></td></td></tr></table></body></html>";
								$cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
								$cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
								//mail(utf8_decode($paraNome."<".$paraEmail.">"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
								enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $paraEmail, utf8_decode($paraNome), utf8_decode($assunto), utf8_decode($htmlEmail));
                            }
                        }
                    }
                    if ($_REQUEST['statusEditar'] == 6){
                        $sql = "SELECT * FROM requests_items WHERE request = '".$row['id']."' AND name LIKE 'Vale Presente%'";
                        $query = mysqli_query($con, $sql);
                        $i = 0;
                        if (mysqli_num_rows($query)){
                            while ($row2 = mysqli_fetch_array($query)){
                                $codigo = rand(0,9).rand(0,9).rand(0,9).rand(0,9).rand(0,9).rand(0,9)."-".$parametrosSite['nomeValePresente']."-".rand(0,9).rand(0,9).rand(0,9).rand(0,9).rand(0,9).rand(0,9);
                                $sql = "INSERT INTO vales (request_item, code, value, validade, created_at, updated_at) VALUES('".$row2['id']."', '".$codigo."', '".$row2['value']."', '9999-12-31', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                mysqli_query($con, $sql);
                                $idVale = mysqli_insert_id($con);
                                $sql = "UPDATE requests_items SET vale = '".$idVale."' WHERE id = '".$row2['id']."'";
                                mysqli_query($con, $sql);
                                $paraNome = ($row['nomeCliente']) ? $row['nomeCliente'] : $row['nomeFantasia'];
                                $paraEmail = $row['emailCliente'];
                                $assunto = $parametrosSite['title']." - Vale Presente de R$".number_format($row2['value'], 2, ',', '.');
                                $htmlEmail = "<html><head><title>Sistema de Teste Gosat - Vale Presente de R$".number_format($row2['value'], 2, ',', '.')."</title></head><body><table border='0' style=background-image:url('".URL."img/valePresente.png');background-repeat:no-repeat;width:456px;height:314px><tr><td height='100' colspan='2'>&nbsp;</td></tr><tr><td width='40%'>&nbsp;</td><td style='color:#999999; text-align:center'><h3>Sistema de Teste Gosat</h3><p style='left:50%; text-align:center'><img src='".URL."img/logo.png' width='75'><b>R$".number_format($row2['value'], 2, ',', '.')."</b><br>Válido até: <b>31/12/9999</b></p><h3 style='text-align:center; padding:5px; margin:none'>".$codigo."</h3></td></tr></table><sub>* válido para utilização no site <a href='".URL."' target='_blank'>".URL."</a>. Caso seja utilizado em compra de menor valor, o desconto será do valor total da compra. Só é possível a utilização uma vez no nosso site.</sub><br><br>Atenciosamente,<br><br>Equipe <a href='".URL."'>Sistema de Teste Gosat</a><hr noshade><center>Email desenvolvido pela <a href='https://www.bhcommerce.com.br'>BH Commerce</a></center><hr noshade></body></html>";
                                $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                                $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
                                //mail(utf8_decode($paraNome."<".$paraEmail.">"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
								enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $paraEmail, utf8_decode($paraNome), utf8_decode($assunto), utf8_decode($htmlEmail));
                                $vales[$i] = $row2;
                                $i++;
                            }
                        }
					}
                    if ($_REQUEST['statusEditar'] == 7){
                        $sql = "SELECT * FROM requests_items WHERE request = '".$row['id']."'";
                        $query = mysqli_query($con, $sql);
                        if (mysqli_num_rows($query)){
                            while ($row4 = mysqli_fetch_array($query)){
                                $estoque[$row4['product_item']] = $row4['quantity'];
                            }
                        }
                        if (count($estoque)){
                            foreach ($estoque as $key => $value){
                                $sql = "SELECT * FROM products_items WHERE id = '".$key."'";
                                $query = mysqli_query($con, $sql);
                                $row4 = mysqli_fetch_array($query);
                                if ($row4['estoque']){
                                    $estoque = $row4['estoque'] + $value;
                                }
                                $sql = "UPDATE products_items SET estoque = '".$estoque."' WHERE id = '".$key."'";
                                mysqli_query($con, $sql);
                            }
                        }
                    }
                }
                $subtotal = $row['valueSubtotal'];
                if ($_REQUEST['formaPagamentoEditar'] != 2){
                    $descontoAVista = $subtotal * $parametrosSite['descontoAVista'] / 100;
                    $descontoAVista = str_replace(",", ".", $descontoAVista);
                }
                else{
                    $descontoAVista = "0.00";
                }
                $totalCompra = $subtotal - $descontoAVista + $row['valueFrete'] - $roe['valueDiscount'];
                $totalCompra = str_replace(",", ".", $totalCompra);
                $sql = "UPDATE requests SET status = '".($_REQUEST['statusEditar'])."', codRastreamento = '".$_REQUEST['codRastreamento']."', paymentMethod = '".($_REQUEST['formaPagamentoEditar'])."', client = '".($_REQUEST['clienteEditar'])."', valueSubtotal = '".$subtotal."', descontoAVista = '".$descontoAVista."', valueTotal = '".$totalCompra."', ";
                if ($_REQUEST['enderecoEditar'] != 'undefined'){
                    $sql .= "address = '".($_REQUEST['enderecoEditar'])."', ";
                }
                $sql .= "updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['id']."'";
                //echo $sql;
                $artigo = "o";
                break;
            case "newsletter":
                $sql = "UPDATE newsletters SET name = '".($_REQUEST['nomeEdicao'])."', email = '".($_REQUEST['emailEdicao'])."', status = '".($_REQUEST['statusEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "a";
                break;
            case "cupomDesconto":
                $_REQUEST['valorEdicao'] = str_replace('.', '', $_REQUEST['valorEdicao']);
                $_REQUEST['valorEdicao'] = str_replace(',', '.', $_REQUEST['valorEdicao']);
                $sql = "UPDATE coupon_discounts SET codigo = '".($_REQUEST['codigoEdicao'])."', tipo = '".($_REQUEST['tipoEdicao'])."', valor = '".($_REQUEST['valorEdicao'])."', validade = '".($_REQUEST['validadeEdicao'])."', utilizavel = '".($_REQUEST['utilizavelEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
            case "valePresente":
                $_REQUEST['valorEdicao'] = str_replace('.', '', $_REQUEST['valorEdicao']);
                $_REQUEST['valorEdicao'] = str_replace(',', '.', $_REQUEST['valorEdicao']);
                $sql = "UPDATE vales SET code = '".($_REQUEST['codigoEdicao'])."', value = '".($_REQUEST['valorEdicao'])."', validade = '".($_REQUEST['validadeEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
            case "bugTracking":
                $sql = "SELECT a.*, b.name AS nomeTipoServico , c.name AS nomeTipoVersao , d.name AS nomePrioridade, e.name AS nomeCategoria FROM bug_trackings a INNER JOIN types_services b ON (a.typeService = b.id) INNER JOIN type_versions c ON (a.typeVersion = c.id) INNER JOIN priorities d ON (a.priority = d.id) INNER JOIN categories e ON (a.category = e.id) WHERE a.id = '".$_REQUEST['idEdicao']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = $vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h";
                if($row['status'] != $_REQUEST['statusEdicao'] && $_REQUEST['statusEdicao'] == 2){
                    $nomelQuem = ($_REQUEST['nomeEdicao']);
                    $emailQuem = ($_REQUEST['emailEdicao']);
                    $assunto = $parametrosSite['title']." - Resposta ao bug tracking enviado em nosso site";
                    $corpoEmail = ("<html><head><title>Resposta ao bug tracking enviado em nosso site</title><body><table width='100%' border='0' cellpadding='0' cellspacing='0'><tr><td width='30%' style='text-align:center' valign='top'><img src='".URL."img/logo.png' width='100'></td><td>Olá <b>".$_REQUEST['nomeEdicao']."</b>,<br><br>Este email é pra informar da resposta ao bug tracking enviado em <b>".$row['created_at']."</b>.<br><br><b>Dados do Bug Tracking</b><br><br>Título: <b>".($row['title'])."</b><br>Tipo de Serviço: <b>".($row['nomeTipoServico'])."</b><br>Versão: <b>".($row['nomeTipoVersao'])."</b><br>Prioridade: <b>".($row['nomePrioridade'])."</b><br>Categoria: <b>".($row['nomeCategoria'])."</b><br>Mensagem: <b>".(nl2br($row['message']))."</b><br>Resposta: <b>".(nl2br($_REQUEST['respostaEdicao']))."</b><br><br>Atenciosamente<br><br>Equipe <a href='".URL."'>Sistema de Teste Gosat</a><hr noshade><center>Email desenvolvido pela <a href='https://www.bhcommerce.com.br'>BH Commerce</a></center><hr noshade></td></tr></table></body></head></html>");
                    $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                    $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
                    //mail(utf8_decode($nomelQuem."<".$emailQuem.">"), utf8_decode($assunto), utf8_decode($corpoEmail), utf8_decode($cabecalhoEmail));
					enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $emailQuem, utf8_decode($nomelQuem), utf8_decode($assunto), utf8_decode($corpoEmail));
                }
                $sql = "UPDATE bug_trackings SET name = '".($_REQUEST['nomeEdicao'])."', email = '".($_REQUEST['emailEdicao'])."', title = '".($_REQUEST['tituloEdicao'])."', typeService = '".$_REQUEST['tipoServicoEdicao']."', typeVersion = '".$_REQUEST['typeVersion']."', priority = '".$_REQUEST['priority']."', category = '".$_REQUEST['category']."', status = '".($_REQUEST['statusEdicao'])."', answer = '".($_REQUEST['respostaEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
                case "faleConosco":
                    $sql = "SELECT a.* FROM messages a WHERE a.id = '".$_REQUEST['idEdicao']."'";
                    $query = mysqli_query($con, $sql);
                    $row = mysqli_fetch_array($query);
                    if($row['status'] != $_REQUEST['statusEdicao'] && $_REQUEST['statusEdicao'] == 2){
                        $nomelQuem = ($_REQUEST['nomeEdicao']);
                        $emailQuem = ($_REQUEST['emailEdicao']);
                        $vet = explode(' ', $row['created_at']);
                        $vet2 = explode('-', $vet[0]);
                        $row['created_at'] = $vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h";
                        $assunto = $parametrosSite['title']." - Resposta ao fale Conosco enviado em nosso site";
                        $corpoEmail = ("<html><head><title>Resposta ao FALE CONOSCO enviado em nosso site</title><body><table width='100%' border='0' cellpadding='0' cellspacing='0'><tr><td width='30%' style='text-align:center' valign='top'><img src='".URL."img/logo.png' width='100'></td><td>Olá <b>".$_REQUEST['nomeEdicao']."</b>,<br><br>Este email é pra informar da resposta ao fale conosco enviado em <b>".$row['created_at']."</b>.<br><br><b>Dados do Fale Conosco</b><br><br>Assunto: <b>".($row['subject'])."</b><br>Telefone: <b>".($row['phone'])."</b><br>Mensagem: <b>".(nl2br($row['text']))."</b><br>Resposta: <b>".(nl2br($_REQUEST['respostaEdicao']))."</b><br><br>Atenciosamente<br><br>Equipe <a href='".URL."'>Sistema de Teste Gosat</a><hr noshade><center>Email desenvolvido pela <a href='https://www.bhcommerce.com.br'>BH Commerce</a></center><hr noshade></td></tr></table></body></head></html>");
                        $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                        $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
                        //mail(utf8_decode($nomelQuem."<".$emailQuem.">"), utf8_decode($assunto), utf8_decode($corpoEmail), utf8_decode($cabecalhoEmail));
                        $dataHoraResposta = date('Y-m-d H:i:s');
                        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $emailQuem, utf8_decode($nomelQuem), utf8_decode($assunto), utf8_decode($corpoEmail));
                    }
                    $sql = "UPDATE messages SET name = '".($_REQUEST['nomeEdicao'])."', email = '".($_REQUEST['emailEdicao'])."', subject = '".($_REQUEST['assuntoEdicao'])."', phone = '".$_REQUEST['telefoneEdicao']."', status = '".($_REQUEST['statusEdicao'])."', answer = '".($_REQUEST['respostaEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."'";
                    if ($dataHoraResposta){
                        $sql .= ", date_answer = '".$dataHoraResposta."'";
                    }
                    $sql .= " WHERE id = '".$_REQUEST['idEdicao']."'";
                    $artigo = "o";
                    break;
                case "avaliacoes":
                    $sql = "SELECT a.* FROM avaliations a WHERE a.id = '".$_REQUEST['idEdicao']."'";
                    $query = mysqli_query($con, $sql);
                    $row = mysqli_fetch_array($query);
                    if($row['answer'] != $_REQUEST['respostaEdicao'] && $_REQUEST['statusEdicao'] > 0){
                        $nomelQuem = ($_REQUEST['nomeEdicao']);
                        $emailQuem = ($_REQUEST['emailEdicao']);
                        $vet = explode(' ', $row['created_at']);
                        $vet2 = explode('-', $vet[0]);
                        $row['created_at'] = $vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h";
                        $assunto = $parametrosSite['title']." - Resposta à avaliação feita em nosso site";
                        $corpoEmail = ("<html><head><title>Resposta à AVALIAÇÃO feita em nosso site</title><body><table width='100%' border='0' cellpadding='0' cellspacing='0'><tr><td width='30%' style='text-align:center' valign='top'><img src='".URL."img/logo.png' width='100'></td><td>Olá <b>".$_REQUEST['nomeEdicao']."</b>,<br><br>Este email é pra informar da resposta à avaliação feita em <b>".$row['created_at']."</b>.<br><br><b>Dados da Avaliação</b><br><br>Avaliação: <b>");
                        for ($i = 1; $i <= $row['avaliacao']; $i++){
                            $corpoEmail .= "<img src='".URL."img/star.png' width='18' title='Nota ".$row['avaliacao']."'> ";
                        }
                        if ($row['avaliacao'] < 5){
                            for ($j = $i; $j <= 5; $j++){
                                $corpoEmail .= "<img src='".URL."img/starApagada.png' width='18' title='Nota ".$row['avaliacao']."'> ";
                            }
                        }
                        $corpoEmail .= ("</b><br>Comentário: <b>".nl2br($_REQUEST['comentarioEdicao'])."</b><br>Resposta: <b>".nl2br(str_replace("##nomeAvaliador##", $row['name'], $_REQUEST['respostaEdicao']))."</b><br><br>Atenciosamente<br><br>Equipe <a href='".URL."'>Sistema de Teste Gosat</a><br><br>Para visualizar a sua avaliação no site, <a href='".URL."pagina/avaliacoes-do-site'>clique aqui</a>.<hr noshade><center>Email desenvolvido pela <a href='https://www.bhcommerce.com.br'>BH Commerce</a></center><hr noshade></td></tr></table></body></head></html>");
                        $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                        $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
                        //mail(utf8_decode($nomelQuem."<".$emailQuem.">"), utf8_decode($assunto), utf8_decode($corpoEmail), utf8_decode($cabecalhoEmail));
                        $dataHoraResposta = date('Y-m-d H:i:s');
                        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $emailQuem, utf8_decode($nomelQuem), utf8_decode($assunto), utf8_decode($corpoEmail));
                    }
                    $sql = "UPDATE avaliations SET name = '".($_REQUEST['nomeEdicao'])."', email = '".($_REQUEST['emailEdicao'])."', avaliacao = '".($_REQUEST['avaliacaoEdicao'])."', coments = '".$_REQUEST['comentarioEdicao']."', status = '".($_REQUEST['statusEdicao'])."', answer = '".($_REQUEST['respostaEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."'";
                    if ($dataHoraResposta){
                        $sql .= ", date_answer = '".$dataHoraResposta."'";
                    }
                    $sql .= " WHERE id = '".$_REQUEST['idEdicao']."'";
                    $artigo = "a";
                    break;
            case "anuncie":
                $sql = "SELECT a.* FROM anuncie_aquis a WHERE a.id = '".$_REQUEST['idEdicao']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                if($row['status'] != $_REQUEST['statusEdicao'] && $_REQUEST['statusEdicao'] == 2){
                    $nomelQuem = ($_REQUEST['nomeEdicao']);
                    $emailQuem = ($_REQUEST['emailEdicao']);
                    $vet = explode(' ', $row['created_at']);
                    $vet2 = explode('-', $vet[0]);
                    $row['created_at'] = $vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h";
                    $assunto = $parametrosSite['title']." - Resposta ao Anuncie Aqui enviado em nosso site";
                    $corpoEmail = ("<html><head><title>Resposta ao Anuncie Aqui enviado em nosso site</title><body><table width='100%' border='0' cellpadding='0' cellspacing='0'><tr><td width='30%' style='text-align:center' valign='top'><img src='".URL."img/logo.png' width='100'></td><td>Olá <b>".$_REQUEST['nomeEdicao']."</b>,<br><br>Este email é pra informar da resposta ao anuncie aqui enviado em <b>".$row['created_at']."</b>.<br><br><b>Dados do Anuncie Aqui</b><br><br>Assunto: <b>".($row['subject'])."</b><br>Telefone: <b>".($row['phone'])."</b><br>Mensagem: <b>".(nl2br($row['text']))."</b><br>Resposta: <b>".(nl2br($_REQUEST['respostaEdicao']))."</b><br><br>Atenciosamente<br><br>Equipe <a href='".URL."'>Sistema de Teste Gosat</a><hr noshade><center>Email desenvolvido pela <a href='https://www.bhcommerce.com.br'>BH Commerce</a></center><hr noshade></td></tr></table></body></head></html>");
                    $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                    $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
                    //mail(utf8_decode($nomelQuem."<".$emailQuem.">"), utf8_decode($assunto), utf8_decode($corpoEmail), utf8_decode($cabecalhoEmail));
                    enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $emailQuem, utf8_decode($nomelQuem), utf8_decode($assunto), utf8_decode($corpoEmail));
                    $dataHoraResposta = date('Y-m-d H:i:s');
                }
                $sql = ("UPDATE anuncie_aquis SET name = '".($_REQUEST['nomeEdicao'])."', email = '".($_REQUEST['emailEdicao'])."', subject = '".($_REQUEST['assuntoEdicao'])."', phone = '".$_REQUEST['telefoneEdicao']."', text = '".$_REQUEST['mensagemEdicao']."', nome_banner = '".($_REQUEST['nomeBannerEdicao'])."', link_banner = '".($_REQUEST['linkBannerEdicao'])."', tipo_banner = '".($_REQUEST['tipoBannerEdicao'])."', target_banner = '".($_REQUEST['targetBannerEdicao'])."', posicao_banner = '".($_REQUEST['posicaoBannerEdicao'])."', status = '".($_REQUEST['statusEdicao'])."', answer = '".($_REQUEST['respostaEdicao'])."', ");
                if ($dataHoraResposta){
                    $sql .= "date_answer = '".$dataHoraResposta."', ";
                }
                $sql .= "updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
            case "statusPedido":
                $sql = ("UPDATE requests_statuses SET name = '".($_REQUEST['nomeEdicao'])."', sigla = '".($_REQUEST['siglaEdicao'])."', color = '".$_REQUEST['colorEdicao']."', background = '".$_REQUEST['backgroundEdicao']."', send_email = '".$_REQUEST['enviarEmailEdicao']."', email = '".$_REQUEST['emailEdicao']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'");
                $artigo = "o";
                break;
            case "tiposDocumento":
                $sql = "UPDATE type_documents SET name = '".($_REQUEST['nomeEdicao'])."', status = '".($_REQUEST['statusEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
            case "clientes":
                $sql = "UPDATE clients SET email = '".($_REQUEST['emailEdicao'])."', type_person = '".$_REQUEST['tipoEdicao']."'";
                if ($_REQUEST['senhaEdicao']){
                    $sql .= ", password = '".md5($_REQUEST['senhaEdicao'])."'";
                }
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                $sql2 = "DELETE FROM pessoa_fisicas WHERE client = '".$_REQUEST['idEdicao']."'";
                mysqli_query($con, $sql2);
                $sql2 = "DELETE FROM pessoa_juridicas WHERE client = '".$_REQUEST['idEdicao']."'";
                mysqli_query($con, $sql2);
                if ($_REQUEST['tipoEdicao'] == 'F'){
                    $sql2 = utf8_encode("INSERT INTO pessoa_fisicas (client, name, cpf, rg, nationality, dtNasc, cel, status, created_at, updated_at) VALUES ('".$_REQUEST['idEdicao']."', '".($_REQUEST['nomeEdicao'])."', '".$_REQUEST['cpfEdicao']."', '".$_REQUEST['rgEdicao']."', '".$_REQUEST['nacionalidadeEdicao']."', '".$_REQUEST['dtNascEdicao']."', '".$_REQUEST['celEdicao']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                    mysqli_query($con, $sql2) or die(mysqli_error($con));
                }
                else{
                    $sql2 = utf8_encode("INSERT INTO pessoa_juridicas (client, razaoSocial, nomeFantasia, contato, cnpj, ie, im, nationality, dataAbertura, telefone, cel, status, created_at, updated_at) VALUES ('".$_REQUEST['idEdicao']."', '".($_REQUEST['razaoSocialEdicao']."', '".$_REQUEST['nomeFantasiaEdicao']."', '".$_REQUEST['contatoEdicao'])."', '".$_REQUEST['cnpjEdicao']."', '".$_REQUEST['ieEdicao']."', '".$_REQUEST['imEdicao']."', '".$_REQUEST['nacionalidadeEmpresaEdicao']."', '".$_REQUEST['dataAberturaEdicao']."', '".$_REQUEST['telefoneEdicao']."', '".$_REQUEST['celEdicao']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                    mysqli_query($con, $sql2) or die(mysqli_error($con));
                }
                break;
            case "tiposProduto":
                $sql = "UPDATE types_products SET name = '".($_REQUEST['nomeEdicao'])."', status = '".($_REQUEST['statusEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
            case "relacionamentosProduto":
                $sql = "DELETE FROM products_attributes WHERE product = '".$_REQUEST['idProdutoRelacionamento']."'";
                mysqli_query($con, $sql);
                for ($i = 1; $i <= 999; $i++) {
                    if ($_REQUEST['atributosEditar'.$i]) {
                        $sql = "INSERT INTO products_attributes (product, attribute, created_at, updated_at) VALUES ('".$_REQUEST['idProdutoRelacionamento']."', '".$i."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                        mysqli_query($con, $sql) or die(mysqli_error($con));
                    }
                }
                $sql = "DELETE FROM products_brands WHERE product = '".$_REQUEST['idProdutoRelacionamento']."'";
                mysqli_query($con, $sql);
                if ($_REQUEST['marcaEdicao']){
                    $sql = "INSERT INTO products_brands (product, brand, created_at, updated_at) VALUES ('".$_REQUEST['idProdutoRelacionamento']."', '".$_REQUEST['marcaEdicao']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                    mysqli_query($con, $sql);
                }
                $sql = "DELETE FROM products_categories WHERE product = '".$_REQUEST['idProdutoRelacionamento']."'";
                mysqli_query($con, $sql) or die(mysqli_error($con));
                for ($i = 1; $i <= 999; $i++) {
                    if ($_REQUEST['deptoEditar'.$i]) {
                        $sql = "INSERT INTO products_categories (product, categorie, created_at, updated_at) VALUES ('".$_REQUEST['idProdutoRelacionamento']."', '".$i."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                        mysqli_query($con, $sql) or die(mysqli_error($con));
                    }
                    if ($_REQUEST['subdeptoEditar'.$i]) {
                        $sql = "INSERT INTO products_categories (product, categorie, created_at, updated_at) VALUES ('".$_REQUEST['idProdutoRelacionamento']."', '".$i."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                        mysqli_query($con, $sql) or die(mysqli_error($con));
                    }
                }
                $sql = "DELETE FROM products_suggestions WHERE product = '".$_REQUEST['idProdutoRelacionamento']."'";
                mysqli_query($con, $sql) or die(mysqli_error($con));
                for ($i = 1; $i <= 999; $i++) {
                    if ($_REQUEST['sugestaoEditar'.$i]) {
                        $sql = "INSERT INTO products_suggestions (product, suggestion, created_at, updated_at) VALUES ('" . $_REQUEST['idProdutoRelacionamento'] . "', '" . $i . "', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                        mysqli_query($con, $sql) or die(mysqli_error($con));
                    }
                }
                $sql = "DELETE FROM products_stamps WHERE product = '".$_REQUEST['idProdutoRelacionamento']."'";
                mysqli_query($con, $sql) or die(mysqli_error($con));
                for ($i = 1; $i <= 999; $i++) {
                    if ($_REQUEST['selosEditar'.$i]) {
                        $sql = "INSERT INTO products_stamps (product, stamp, created_at, updated_at) VALUES ('" . $_REQUEST['idProdutoRelacionamento'] . "', '" . $i . "', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                        mysqli_query($con, $sql) or die(mysqli_error($con));
                    }
                }
                $sql = "DELETE FROM products_relationships WHERE product = '".$_REQUEST['idProdutoRelacionamento']."'";
                mysqli_query($con, $sql) or die(mysqli_error($con));
                for ($i = 1; $i <= 999; $i++) {
                    if ($_REQUEST['relacionamentosEditar'.$i]) {
                        $sql = "INSERT INTO products_relationships (product, relationship, created_at, updated_at) VALUES ('" . $_REQUEST['idProdutoRelacionamento'] . "', '" . $i . "', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                        mysqli_query($con, $sql) or die(mysqli_error($con));
                    }
                }
                echo "1";
                die();
                break;
            case "produto":
                $sql = "SELECT * FROM products WHERE slug = '".$_REQUEST['slugEdicao']."' AND id != '".$_REQUEST['idEdicao']."'";
                $_REQUEST['slug'] = $_REQUEST['slugEdicao'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugEdicao'].$i;
                    $sql = "SELECT * FROM products WHERE slug = '".$_REQUEST['slug']."' AND id != '".$_REQUEST['idEdicao']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("UPDATE products SET name = '".addslashes($_REQUEST['nomeEdicao'])."', slug = '".$_REQUEST['slug']."', status = '".($_REQUEST['statusEdicao'])."', apareceVitrine = '".$_REQUEST['apareceVitrineEdicao']."', destaque = '".$_REQUEST['destaqueEdicao']."', compreAgora = '".$_REQUEST['compreAgoraEdicao']."', freteGratis = '".$_REQUEST['freteGratisEdicao']."', mostraCarrinho = '".$_REQUEST['mostraCarrinhoEdicao']."', promocao = '".$_REQUEST['promocaoEdicao']."', itemRecomendado = '".$_REQUEST['itemRecomendadoEdicao']."', valorContaParaOFrete = '".$_REQUEST['valorContaParaOFreteEdicao']."', apareceLateralEsquerda ='".$_REQUEST['apareceLateralEsquerdaEdicao']."', ofertaDoDia = '".$_REQUEST['ofertaDoDiaEdicao']."', ofertaEspecial = '".$_REQUEST['ofertaEspecialEdicao']."'");
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
				//echo $sql;
                for ($i = 1; $i <= $_REQUEST['qtasTemEdicao']; $i++){
					if ($_REQUEST['description'.$i."Edicao"]){
						$sql2 = "SELECT * FROM products_descriptions WHERE product = '".$_REQUEST['idEdicao']."' AND num = '".$i."'";
						$query = mysqli_query($con, $sql2);
						if (mysqli_num_rows($query)){
							$sql3 = ("UPDATE products_descriptions SET text = '".$_REQUEST['description'.$i."Edicao"]."', type = '".$_REQUEST['tipo'.$i."Edicao"]."', updated_at = '".date('Y-m-d H:i:s')."' WHERE product = '".$_REQUEST['idEdicao']."' AND num = '".$i."'");
						}
						else{
							$sql3 = ("INSERT INTO products_descriptions (product, num, text, type, created_at, updated_at) VALUES ('".$_REQUEST['idEdicao']."', '".$i."', '".$_REQUEST['description'.$i."Edicao"]."', '".$_REQUEST['tipo'.$i."Edicao"]."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
						}
						mysqli_query($con, $sql3) or die(mysqli_error($con));
					}
				}
				$i = 1;
				$sql4 = "SELECT * FROM products_descriptions WHERE product = '".$_REQUEST['idEdicao']."' ORDER BY num ASC";
				$query4 = mysqli_query($con, $sql4);
				if (mysqli_num_rows($query4)){
					while ($row4 = mysqli_fetch_array($query4)){
						$sql5 = "UPDATE products_descriptions SET num = '".$i."' WHERE id = '".$row4['id']."'";
						$i++;
						mysqli_query($con, $sql5);
					}
				}
                $artigo = "o";
                $qualE = "products";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "product";
                    $tableEditar = "products";
                }
                break;
            case "listaPresente":
                if ($_REQUEST['dataAniversarioEdicao'] >= date('Y-m-d')){
                    $status = 1;
                }
                else{
                    $status = 0;
                }
                $slug = retirarAcentos($_REQUEST['nomeEdicao']."_".$_REQUEST['dataAniversarioEdicao']);
                $sql = ("UPDATE presents_lists SET client = '".($_REQUEST['clienteEdicao'])."', nomeAniversariante = '".($_REQUEST['nomeEdicao'])."', dataAniversario = '".$_REQUEST['dataAniversarioEdicao']."', nomeMae = '".($_REQUEST['nomeMaeEdicao'])."', nomePai = '".($_REQUEST['nomePaiEdicao'])."', idade = '".$_REQUEST['idadeEdicao']."', status = '".$status."', cep = '".$_REQUEST['cepEdicao']."', address = '".($_REQUEST['logradouroEdicao']."', number = '".$_REQUEST['numeroEdicao']."', complement = '".$_REQUEST['complementoEdicao']."', neighborhood = '".$_REQUEST['bairroEdicao']."', city = '".$_REQUEST['cidadeEdicao'])."', state = '".$_REQUEST['estadoEdicao']."', slug = '".$slug."'");
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "a";
                $qualE = "presents_lists";
                break;
            case "comentarioProduto":
				$sql = "SELECT a.status, a.nome, a.email, b.name AS nomeProduto, b.slug AS urlProduto, a.created_at FROM products_reviews a INNER JOIN products b ON (a.product = b.id) WHERE a.id = '".$_REQUEST['idEdicao']."'";
				$query = mysqli_query($con, $sql) or die(mysqli_error($con));
				$row = mysqli_fetch_array($query);
				if ($row['status'] != $_REQUEST['statusEdicao'] && $_REQUEST['statusEdicao'] == 1){
					$vet = explode(' ', $row['created_at']);
					$vet2 = explode('-', $vet[0]);
					$row['created_at'] = $vet2[2]."/".$vet2[1]."/".$vet2[0]." âs ".$vet[1]."h";
					$assuntoEmail = "Comentário aprovado e aparecendo em nosso site - ".$parametrosSite['title'];
					$htmlEmail = "<html><head><title>Comentário aprovado e aparecendo em nosso site - Sistema de Teste Gosat</title></head><body><table width='100%' border='0' cellpadding='0' cellspacing='0'><tr><td width='250' valign='top' align='center'><img src='".URL."img/logo.png' width='230'></td><td>Olá ".($row['nome']).",<br><br>Informamos que o seu comentário, enviado dia ".$row['created_at'].", acaba de ser aprovado para aparecer no site.<br><br>Para ver o produto ".($row['nomeProduto']).", <a href='".URL."produto/".$row['urlProduto']."'>clique aqui</a>. Aí é só rolar um pouco a página até a parte dos comentários que o seu deve ser o primeiro a aparecer lá. Caso isso não esteja acontecendo favor nos informar.<br><br>Atenciosamente,<br><br>Equipe Sistema de Teste Gosat<hr noshade><center>Email Desenvolvido Pela <a href='https://www.bhcommerce.com.br/'>BH Commerce</a></center><hr noshade></td></tr></table></body></html>";
                    $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                    $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
                    //mail(utf8_decode($row['nome']."<".$row['email'].">"), utf8_decode($assuntoEmail), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
                    enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $row['email'], utf8_decode($row['nome']), utf8_decode($assuntoEmail), utf8_decode($htmlEmail));
				}
                $sql = ("UPDATE products_reviews SET nome = '".($_REQUEST['nomeEdicao'])."', email = '".($_REQUEST['emailEdicao'])."', avaliacao = '".($_REQUEST['avaliacaoEditar'])."',  mensagem = '".($_REQUEST['mensagemEdicao'])."', status = '".($_REQUEST['statusEdicao'])."'");
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
            case "solicitacaoComentario":
				$sql = "SELECT a.*, a.created_at FROM products_reviews_solicitas a WHERE a.id = '".$_REQUEST['idEdicao']."'";
				$query = mysqli_query($con, $sql) or die(mysqli_error($con));
				$row = mysqli_fetch_array($query);
                $sql = ("UPDATE products_reviews_solicitas SET avaliacao = '".($_REQUEST['avaliacaoEditar'])."',  mensagem = '".($_REQUEST['mensagemEdicao'])."'");
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "a";
                break;
            case "formaPagamento":
                $_REQUEST['vlParcelaMinimaEdicao'] = str_replace(".", "", $_REQUEST['vlParcelaMinimaEdicao']);
                $_REQUEST['vlParcelaMinimaEdicao'] = str_replace(",", ".", $_REQUEST['vlParcelaMinimaEdicao']);
                $sql = ("UPDATE payment_methods SET name = '".($_REQUEST['nomeEdicao'])."', vlParcelaMinima = '".$_REQUEST['vlParcelaMinimaEdicao']."', parcelas = '".$_REQUEST['parcelasEdicao']."', pagamentoAVista = '".$_REQUEST['pagamentoAVistaEdicao']."'");
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "formaPagamento";
                    $tableEditar = "payment_methods";
                }
                break;
            case "formaFrete":
                $_REQUEST['valorEdicao'] = str_replace(".", "", $_REQUEST['valorEdicao']);
                $_REQUEST['valorEdicao'] = str_replace(",", ".", $_REQUEST['valorEdicao']);
                $sql = "UPDATE shipping_methods SET name = '".($_REQUEST['nomeEdicao'])."', value = '".$_REQUEST['valorEdicao']."', code = '".$_REQUEST['codigoEdicao']."', status = '".$_REQUEST['statusEdicao']."'";
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "a";
                break;
            case "posicao":
                $sql = ("UPDATE positions SET name = '".($_REQUEST['nomeEdicao']."', status = '".$_REQUEST['statusEdicao']."'"));
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "a";
                break;
            case "tempoBanner":
                $_REQUEST['daysEdicao'] = ($_REQUEST['eternoEdicao']) ? "eterno" : $_REQUEST['daysEdicao'];
                $sql = ("UPDATE time_banners SET name = '".($_REQUEST['nomeEdicao']."', days = '".$_REQUEST['daysEdicao']."', status = '".$_REQUEST['statusEdicao']."'"));
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
            case "target":
                $sql = ("UPDATE targets SET name = '".($_REQUEST['nomeEdicao']."', code = '".$_REQUEST['codigoEdicao']."', status = '".$_REQUEST['statusEdicao']."'"));
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
            case "banner":
                $sql = "SELECT * FROM banners WHERE slug = '".$_REQUEST['slugEdicao']."' AND id != '".$_REQUEST['idEdicao']."'";
                $_REQUEST['slug'] = $_REQUEST['slugEdicao'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugEdicao'].$i;
                    $sql = "SELECT * FROM banners WHERE slug = '".$_REQUEST['slug']."' AND id != '".$_REQUEST['idEdicao']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("UPDATE banners SET name = '".($_REQUEST['nomeEdicao']."', description = '".$_REQUEST['descricaoEdicao']."', position = '".$_REQUEST['posicaoEdicao']."', link = '".$_REQUEST['linkEdicao']."', target = '".$_REQUEST['targetEdicao']."', tipo = '0', qual = '0', status = '".$_REQUEST['statusEdicao']."', slug = '".$_REQUEST['slug']."'"));
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                $qualE = "banners";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "banner";
                    $tableEditar = "banners";
                }
                if ($_FILES['backgroundEdicao'] && $_FILES['backgroundEdicao']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundEdicao']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundEdicao']['name'];
                    $qualEdicaoBackground = "banner";
                    $tableEditarBackground = "banners";
                }
                break;
            case "feriados":
                $sql = ("UPDATE holidays SET name = '".$_REQUEST['nomeEdicao']."', date = '".$_REQUEST['dataEdicao']."', comMsg = '".$_REQUEST['comMsgEdicao']."', msg = '".$_REQUEST['msgEdicao']."', status = '".$_REQUEST['statusEdicao']."'");
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
            case "comentariosFeriados":
                $sql = "SELECT * FROM holidays_coments WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $sql = "SELECT * FROM holidays WHERE id = '".$_REQUEST['feriado']."'";
                $query = mysqli_query($con, $sql);
                $row3 = mysqli_fetch_array($query);
                $sql = "SELECT a.*, b.name AS nomeCliente, c.nomeFantasia, c.contato
                FROM clients a
                LEFT JOIN pessoa_fisicas b ON (a.id = b.client)
                LEFT JOIN pessoa_juridicas c ON (a.id = c.client)
                WHERE a.id = '".$_REQUEST['cliente']."'"; 
                $query = mysqli_query($con, $sql);
                $row2 = mysqli_fetch_array($query);
                if ($row['status'] != $_REQUEST['status'] && $_REQUEST['status'] == 2){
                    $htmlEmail = "<html>
                        <head>
                            <title>Sistema de Teste Gosat - Alteração de status do comentário de feriado</title>
                        </head>
                        <body>
                            <table border='0' width='100%'>
                                <tr>
                                    <td width='250' style='text-align:center' valign='top'><img src='".URL."img/logo.png' width='200'></td>
                                    <td width='250' style='text-align:center'>Olá <b>".($row2['nomeCliente'])."</b>,<br><br>Informamos que o seu comentário de feriado foi aprovado.<br><br>Para visualizar o seu comentário, acesse o nosso site no dia ".date('d/m/Y'. strtotime($row2['date'])).", <a href='".URL."'>clicando aqui</a>.<br><br>Atenciosamente,<br><br>Equipe <b><a href='".URL."'>Sistema de Teste Gosat</a></b></td>
                                </tr>
                            </table>
                        </body>
                    </html>";
                    $nomeCliente = ($row2['nomeCliente']) ? $row2['nomeCliente'] : $row2['nomeFantasia']." - ".$row2['contato'];
                    $assuntoEmail = $parametrosSite['title']." - Alteração de status do comentário de feriado";
                    $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                    $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
                    //mail(utf8_decode($nomeCliente."<".$row2['email'].">"), utf8_decode($assuntoEmail), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
                    enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $row2['email'], utf8_decode($nomeCliente), utf8_decode($assuntoEmail), utf8_decode($htmlEmail));
				}
                $sql = ("UPDATE holidays_coments SET holiday = '".$_REQUEST['feriado']."', client = '".$_REQUEST['cliente']."', avaliacao = '".$_REQUEST['avaliacao']."', coment = '".$_REQUEST['comentario']."', status = '".$_REQUEST['status']."'");
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['id']."'";
                $artigo = "o";
                break;
            case "parceiros":
                $sql = "UPDATE partners SET name = '".($_REQUEST['nomeEdicao']."', description = '".$_REQUEST['descricaoEdicao']."', link = '".$_REQUEST['linkEdicao']."', status = '".$_REQUEST['statusEdicao']."'");
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
            case "nacionalidade":
                $sql = ("UPDATE nationalities SET name = '".($_REQUEST['nomeEdicao'])."', padrao = '".$_REQUEST['padraoEdicao']."', status = '".$_REQUEST['statusEdicao']."'");
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "a";
                break;
            case "pais":
                $sql = ("UPDATE countries SET name = '".($_REQUEST['nomeEdicao'])."', padrao = '".$_REQUEST['padraoEdicao']."', status = '".$_REQUEST['statusEdicao']."'");
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
            case "backgrounds":
                $sql = ("UPDATE backgrounds SET name = '".($_REQUEST['nomeEdicao']."'"));
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "dash-bg-";
                    $tableEditar = "backgrounds";
                    $comIdQual = 1;
                }
                break;
            case "redesSociais":
                $sql = "SELECT * FROM social_networks WHERE slug = '".$_REQUEST['slugEdicao']."' AND id != '".$_REQUEST['idEdicao']."'";
                $_REQUEST['slug'] = $_REQUEST['slugEdicao'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugEdicao'].$i;
                    $sql = "SELECT * FROM social_networks WHERE slug = '".$_REQUEST['slug']."' AND id != '".$_REQUEST['idEdicao']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("UPDATE social_networks SET name = '".($_REQUEST['nomeEdicao']."', description = '".$_REQUEST['descricaoEdicao']."', status = '".$_REQUEST['statusEdicao']."', link = '".$_REQUEST['linkEdicao']."', slug = '".$_REQUEST['slug']."'"));
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "a";
                $qualE = "social_networks";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "social_network";
                    $tableEditar = "social_networks";
                }
                if ($_FILES['backgroundEdicao'] && $_FILES['backgroundEdicao']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundEdicao']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundEdicao']['name'];
                    $qualEdicaoBackground = "social_network";
                    $tableEditarBackground = "social_networks";
                }
                break;
            case "marcas":
                $sql = "SELECT * FROM brands WHERE slug = '".$_REQUEST['slugEdicao']."' AND id != '".$_REQUEST['idEdicao']."'";
                $_REQUEST['slug'] = $_REQUEST['slugEdicao'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugEdicao'].$i;
                    $sql = "SELECT * FROM brands WHERE slug = '".$_REQUEST['slug']."' AND id != '".$_REQUEST['idEdicao']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("UPDATE brands SET name = '".($_REQUEST['nomeEdicao']."', description = '".$_REQUEST['descricaoEdicao']."', status = '".$_REQUEST['statusEdicao']."', slug = '".$_REQUEST['slug']."'"));
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "a";
                $qualE = "brands";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "marca";
                    $tableEditar = "brands";
                }
                if ($_FILES['backgroundEdicao'] && $_FILES['backgroundEdicao']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundEdicao']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundEdicao']['name'];
                    $qualEdicaoBackground = "marca";
                    $tableEditarBackground = "brands";
                }
                break;
            case "selos":
                $sql = ("UPDATE stamps SET name = '".($_REQUEST['nomeEdicao']."', description = '".$_REQUEST['descricaoEdicao']."', slug = '".$_REQUEST['slugEdicao']."', status = '".$_REQUEST['statusEdicao']."'"));
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                $qualE = "selos";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "selo";
                    $tableEditar = "stamps";
                }
                if ($_FILES['backgroundEdicao'] && $_FILES['backgroundEdicao']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundEdicao']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundEdicao']['name'];
                    $qualEdicaoBackground = "selo";
                    $tableEditarBackground = "stamps";
                }
                break;
            case "sugestoes":
                $sql = "SELECT * FROM suggestions WHERE slug = '".$_REQUEST['slugEdicao']."' AND id != '".$_REQUEST['idEdicao']."'";
                $_REQUEST['slug'] = $_REQUEST['slugEdicao'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugEdicao'].$i;
                    $sql = "SELECT * FROM suggestions WHERE slug = '".$_REQUEST['slug']."' AND id != '".$_REQUEST['idEdicao']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("UPDATE suggestions SET name = '".($_REQUEST['nomeEdicao']."', description = '".$_REQUEST['descricaoEdicao']."', status = '".$_REQUEST['statusEdicao']."', slug = '".$_REQUEST['slug']."'"));
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                $qualE = "suggestions";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "sugestao";
                    $tableEditar = "suggestions";
                }
                if ($_FILES['backgroundEdicao'] && $_FILES['backgroundEdicao']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundEdicao']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundEdicao']['name'];
                    $qualEdicaoBackground = "sugestao";
                    $tableEditarBackground = "suggestions";
                }
                break;
            case "pagina":
                $sql = "SELECT * FROM pages WHERE slug = '".$_REQUEST['slugEdicao']."' AND id != '".$_REQUEST['idEdicao']."'";
                $_REQUEST['slug'] = $_REQUEST['slugEdicao'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugEdicao'].$i;
                    $sql = "SELECT * FROM pages WHERE slug = '".$_REQUEST['slug']."' AND id != '".$_REQUEST['idEdicao']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                for ($i = 1; $i <= $_REQUEST['qtasTemEdicao']; $i++){
					if ($_REQUEST['description'.$i."Edicao"]){
						$sql2 = "SELECT * FROM pages_descriptions WHERE page = '".$_REQUEST['idEdicao']."' AND num = '".$i."'";
						$query = mysqli_query($con, $sql2);
						if (mysqli_num_rows($query)){
							$sql3 = ("UPDATE pages_descriptions SET text = '".addslashes($_REQUEST['description'.$i."Edicao"])."', type = '".$_REQUEST['tipo'.$i."Edicao"]."', updated_at = '".date('Y-m-d H:i:s')."' WHERE page = '".$_REQUEST['idEdicao']."' AND num = '".$i."'");
						}
						else{
							$sql3 = ("INSERT INTO pages_descriptions (page, num, text, type, created_at, updated_at) VALUES ('".$_REQUEST['idEdicao']."', '".$i."', '".addslashes($_REQUEST['description'.$i."Edicao"])."', '".$_REQUEST['tipo'.$i."Edicao"]."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
						}
						mysqli_query($con, $sql3) or die(mysqli_error($con));
					}
				}
				$i = 1;
				$sql4 = "SELECT * FROM pages_descriptions WHERE page = '".$_REQUEST['idEdicao']."' ORDER BY num ASC";
				$query4 = mysqli_query($con, $sql4);
				if (mysqli_num_rows($query4)){
					while ($row4 = mysqli_fetch_array($query4)){
						$sql5 = "UPDATE pages_descriptions SET num = '".$i."' WHERE id = '".$row4['id']."'";
						$i++;
						mysqli_query($con, $sql5);
					}
				}
                $sql = ("UPDATE pages SET name = '".$_REQUEST['nomeEdicao']."', subname = '".$_REQUEST['subtituloEdicao']."', appearsMenu = '".$_REQUEST['apareceMenuEdicao']."', appearsSite = '".$_REQUEST['apareceSiteEdicao']."', status = '".$_REQUEST['statusEdicao']."', slug = '".$_REQUEST['slug']."', ordem = '".$_REQUEST['ordemEdicao']."'");
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "a";
                $qualE = "pages";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "pagina";
                    $tableEditar = "pages";
                }
                if ($_FILES['backgroundEdicao'] && $_FILES['backgroundEdicao']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundEdicao']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundEdicao']['name'];
                    $qualEdicaoBackground = "pagina";
                    $tableEditarBackground = "pages";
                }
                break;
            case "subitem":
                $sql = "SELECT * FROM subitems WHERE slug = '".$_REQUEST['slugEdicao']."' AND id != '".$_REQUEST['idEdicao']."'";
                $_REQUEST['slug'] = $_REQUEST['slugEdicao'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugEdicao'].$i;
                    $sql = "SELECT * FROM subitems WHERE slug = '".$_REQUEST['slug']."' AND id != '".$_REQUEST['idEdicao']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("UPDATE subitems SET name = '".($_REQUEST['nomeEdicao']."', description = '".$_REQUEST['descricaoEdicao']."', subname = '".$_REQUEST['subtituloEdicao']."', appearsImg = '".$_REQUEST['mostraImagemEdicao']."', page = '".$_REQUEST['paginaEdicao']."', status = '".$_REQUEST['statusEdicao']."', slug = '".$_REQUEST['slug']."'"));
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                $qualE = "subitems";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "subitem";
                    $tableEditar = "subitems";
                }
                break;
            case "tipoServico":
                $sql = "UPDATE types_services SET name = '".($_REQUEST['nomeEdicao'])."', status = '".($_REQUEST['statusEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
            case "tipoModulo":
                $sql = ("UPDATE type_modules SET name = '".($_REQUEST['nomeEdicao'])."', status = '".($_REQUEST['statusEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'");
                $artigo = "o";
                break;
            case "modulo":
                $sql = ("UPDATE modules SET name = '".($_REQUEST['nomeEdicao'])."', status = '".($_REQUEST['statusEdicao'])."', typeModule = '".$_REQUEST['tipoModuloEdicao']."', slug = '".$_REQUEST['urlAmigavelEdicao']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'");
                $artigo = "o";
                break;
            case "prioridade":
                $sql = "UPDATE priorities SET name = '".($_REQUEST['nomeEdicao'])."', status = '".($_REQUEST['statusEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "a";
                break;
            case "tipoVersao":
                $sql = "UPDATE type_versions SET name = '".($_REQUEST['nomeEdicao'])."', typeService = '".($_REQUEST['tipoServicoEdicao'])."', status = '".($_REQUEST['statusEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
            case "categoria":
                $sql = "SELECT * FROM categories WHERE slug = '".$_REQUEST['slugEdicao']."' AND id != '".$_REQUEST['idEdicao']."'";
                $_REQUEST['slug'] = $_REQUEST['slugEdicao'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugEdicao'].$i;
                    $sql = "SELECT * FROM categories WHERE slug = '".$_REQUEST['slug']."' AND id != '".$_REQUEST['idEdicao']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $_REQUEST['categoriaEdicao'] = ($_REQUEST['categoriaEdicao']) ? $_REQUEST['categoriaEdicao'] : "0";
                $sql = ("UPDATE categories SET name = '".($_REQUEST['nomeEdicao'])."', idPai = '".($_REQUEST['categoriaEdicao'])."', status = '".($_REQUEST['statusEdicao'])."', aparece_menu = '".($_REQUEST['apareceMenuEdicao'])."', slug = '".$_REQUEST['slug']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'");
                $artigo = "o";
                $qualE = "categories";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "categoria";
                    $tableEditar = "categories";
                }
                if ($_FILES['backgroundEdicao'] && $_FILES['backgroundEdicao']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundEdicao']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundEdicao']['name'];
                    $qualEdicaoBackground = "categoria";
                    $tableEditarBackground = "categories";
                }
                break;
            case "relacionamento":
                $sql = "SELECT * FROM relationships WHERE slug = '".$_REQUEST['slugEdicao']."' AND id != '".$_REQUEST['idEdicao']."'";
                $_REQUEST['slug'] = $_REQUEST['slugEdicao'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugEdicao'].$i;
                    $sql = "SELECT * FROM relationships WHERE slug = '".$_REQUEST['slug']."' AND id != '".$_REQUEST['idEdicao']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("UPDATE relationships SET name = '".($_REQUEST['nomeEdicao'])."', status = '".($_REQUEST['statusEdicao'])."', slug = '".$_REQUEST['slug']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'");
                $artigo = "o";
                $qualE = "relationships";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "relacionamento";
                    $tableEditar = "relationships";
                }
                if ($_FILES['backgroundEdicao'] && $_FILES['backgroundEdicao']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundEdicao']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundEdicao']['name'];
                    $qualEdicaoBackground = "relacionamento";
                    $tableEditarBackground = "relationships";
                }
                break;
            case "atributo":
                $sql = ("UPDATE attributes SET name = '".($_REQUEST['nomeEdicao'])."', idPai = '".($_REQUEST['atributoEdicao'])."', status = '".($_REQUEST['statusEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'");
                $artigo = "o";
                break;
            case "parametroSite":
                $sql = ("UPDATE param_sites SET name = '".($_REQUEST['nomeEdicao'])."', value = '".($_REQUEST['valorEdicao'])."', type = '".$_REQUEST['tipoEdicao']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'");
                $artigo = "o";
                break;
            case "parametroAdmin":
                $sql = ("UPDATE param_admins SET name = '".($_REQUEST['nomeEdicao'])."', value = '".($_REQUEST['valorEdicao'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'");
                $artigo = "o";
                break;
            case "versao":
                $sql = ("UPDATE versions SET name = '".($_REQUEST['nomeEdicao'])."', description = '".($_REQUEST['descricaoEdicao'])."', date = '".($_REQUEST['dataEdicao'])."'");
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "a";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "versao";
                    $tableEditar = "versions";
                }
                break;
            case "usuario":
                $sql = ("UPDATE users SET name = '".($_REQUEST['nomeEdicao'])."', email = '".($_REQUEST['emailEdicao'])."'");
                if ($_REQUEST['senhaEdicao']){
                    $sql .= ", password = '".md5($_REQUEST['senhaEdicao'])."'";
                }
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "usuarios";
                    $tableEditar = "users";
                }
                break;
            case "usuarioPre":
                $sql = ("UPDATE user_pres SET name = '".($_REQUEST['nomeEdicao'])."', email = '".($_REQUEST['emailEdicao'])."'");
                if ($_REQUEST['senhaEdicao']){
                    $sql .= ", password = '".md5($_REQUEST['senhaEdicao'])."'";
                }
                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEdicao']."'";
                $artigo = "o";
                break;
        }
        mysqli_query($con, $sql) or die(mysqli_error($con));
        if ($qualE && !$_REQUEST['slugEdicao'] && $_REQUEST['table'] != 'listaPresente'){
            $sql = "SELECT * FROM ".$qualE." WHERE id = '".$_REQUEST['idEdicao']."'";
            $query = mysqli_query($con, $sql);
            $row = mysqli_fetch_array($query);
            if (!$_REQUEST['slugEdicao']){
                if ($row['name']) {
                    if ($qualE == 'pagina'){
                        $slug = retirarAcentos($row['name'], 1);
                    }
                    else{
                        $slug = retirarAcentos($row['name']);
                    }
                }
                else{
                    $slug = retirarAcentos($row['nomeAniversariante']."_".$row['dataAniversario']);
                }
            }
            else{
                $slug = $_REQUEST['slugEdicao'];
            }
            $sql = "UPDATE ".$qualE." SET slug = '". $slug."' WHERE id = '".$_REQUEST['idEdicao']."'";
            //echo $sql;
            mysqli_query($con, $sql);
        }
        if ($filesImg && $qualEdicao){
            if ($comIdQual){
                if (preg_match('/.jpg/', $nameImg) || preg_match('/.jpeg/', $nameImg)){
                    $arquivo = $qualEdicao.sprintf("%02s", $_REQUEST['idEdicao']).".jpg";
                }
                elseif (preg_match('/.gif/', $nameImg)){
                    $arquivo = $qualEdicao.sprintf("%02s", $_REQUEST['idEdicao']).".gif";
                }
                elseif (preg_match('/.png/', $nameImg)){
                    $arquivo = $qualEdicao.sprintf("%02s", $_REQUEST['idEdicao']).".png";
                }
                elseif (preg_match('/.bmp/', $nameImg)){
                    $arquivo = $qualEdicao.sprintf("%02s", $_REQUEST['idEdicao']).".bmp";
                }
                elseif (preg_match('/.svg/', $nameImg)){
                    $arquivo = $qualEdicao.sprintf("%02s", $_REQUEST['idEdicao']).".svg";
                }
                elseif (preg_match('/.webp/', $nameImg)){
                    $arquivo = $qualEdicao.sprintf("%02s", $_REQUEST['idEdicao']).".webp";
                } 
            }
            else{
                if (preg_match('/.jpg/', $nameImg) || preg_match('/.jpeg/', $nameImg)){
                    $arquivo = $qualEdicao.$_REQUEST['idEdicao'].".jpg";
                }
                elseif (preg_match('/.gif/', $nameImg)){
                    $arquivo = $qualEdicao.$_REQUEST['idEdicao'].".gif";
                }
                elseif (preg_match('/.png/', $nameImg)){
                    $arquivo = $qualEdicao.$_REQUEST['idEdicao'].".png";
                }
                elseif (preg_match('/.bmp/', $nameImg)){
                    $arquivo = $qualEdicao.$_REQUEST['idEdicao'].".bmp";
                }
                elseif (preg_match('/.svg/', $nameImg)){
                    $arquivo = $qualEdicao.$_REQUEST['idEdicao'].".svg";
                }
                elseif (preg_match('/.webp/', $nameImg)){
                    $arquivo = $qualEdicao.$_REQUEST['idEdicao'].".webp";
                }
            }
            if ($arquivo){
                copy($filesImg, DIRETORIO."storage/".$arquivo);
                $sql = "UPDATE ".$tableEditar." SET img = '".$arquivo."' WHERE id = '".$_REQUEST['idEdicao']."'";
                mysqli_query($con, $sql);
                $img = URL."storage/".$arquivo;
            }
        }
        if ($filesImgBackground && $qualEdicaoBackground){            
            if (preg_match('/.jpg/', $nameImgBackground) || preg_match('/.jpeg/', $nameImgBackground)){
                $arquivoBack = $qualEdicaoBackground.$_REQUEST['idEdicao']."background.jpg";
            }
            elseif (preg_match('/.gif/', $nameImgBackground)){
                $arquivoBack = $qualEdicaoBackground.$_REQUEST['idEdicao']."background.gif";
            }
            elseif (preg_match('/.png/', $nameImgBackground)){
                $arquivoBack = $qualEdicaoBackground.$_REQUEST['idEdicao']."background.png";
            }
            elseif (preg_match('/.bmp/', $nameImgBackground)){
                $arquivoBack = $qualEdicaoBackground.$_REQUEST['idEdicao']."background.bmp";
            }
            elseif (preg_match('/.svg/', $nameImgBackground)){
                $arquivoBack = $qualEdicaoBackground.$_REQUEST['idEdicao']."background.svg";
            }
            elseif (preg_match('/.webp/', $nameImgBackground)){
                $arquivoBack = $qualEdicaoBackground.$_REQUEST['idEdicao']."background.webp";
            }
            if ($arquivoBack){
                copy($filesImgBackground, DIRETORIO."storage/".$arquivoBack);
                $sql = "UPDATE ".$tableEditarBackground." SET background = '".$arquivoBack."' WHERE id = '".$_REQUEST['idEdicao']."'";
                mysqli_query($con, $sql);
                $img = URL."storage/".$arquivoBack;
            }
        }
        if ($_REQUEST['table'] == 'backgrounds'){
            reescreveArquivoCss();
        }
        $action = "Atualizou ".$artigo." ".$_REQUEST['table']." ".$_REQUEST['idEdicao'];
        $sql = "INSERT INTO logs (action, user, created_at, updated_at) VALUES ('".$action."', '".$_REQUEST['idUserEdicao']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        echo "1|-|".$_REQUEST['idUserEdicao']."|-|".$img;
        break;
    case "cadastrar":
        switch ($_REQUEST['table']){
            case "statusPedido":
                $sql = ("INSERT INTO requests_statuses (name, sigla, color, background, send_email, email, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['siglaCadastro']."', '".$_REQUEST['colorCadastro']."', '".$_REQUEST['backgroundCadastro']."', '".$_REQUEST['enviarEmailCadastro']."', '".$_REQUEST['emailCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "tiposDocumento":
                $sql = ("INSERT INTO type_documents (name, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "tiposProduto":
                $sql = ("INSERT INTO types_products (name, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "produto":
                $sql = "SELECT * FROM products WHERE slug = '".$_REQUEST['slugCadastro']."'";
                $_REQUEST['slug'] = $_REQUEST['slugCadastro'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugCadastro'].$i;
                    $sql = "SELECT * FROM products WHERE slug = '".$_REQUEST['slug']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("INSERT INTO products (name, description, slug, status, apareceVitrine, destaque, compreAgora, freteGratis, mostraCarrinho, promocao, itemRecomendado, valorContaParaOFrete, apareceLateralEsquerda, ofertaDodia, ofertaEspecial, created_at, updated_at) VALUES ('".addslashes($_REQUEST['nomeCadastro'])."', '".addslashes($_REQUEST['descricaoCadastro'])."', '".$_REQUEST['slug']."', '".$_REQUEST['statusCadastro']."','".$_REQUEST['apareceVitrineCadastro']."', '".$_REQUEST['destaqueCadastro']."', '".$_REQUEST['compreAgoraCadastro']."', '".$_REQUEST['freteGratisCadastro']."', '".$_REQUEST['mostraCarrinhoCadastro']."', '".$_REQUEST['promocaoCadastro']."', '".$_REQUEST['itemRecomendadoCadastro']."', '".$_REQUEST['valorContaParaOFreteCadastro']."', '".$_REQUEST['apareceLateralEsquerdaCadastro']."', '".$_REQUEST['ofertaDoDiaCadastro']."', '".$_REQUEST['ofertaEspecialCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                $qualE = "products";
                break;
            case "nacionalidade":
                $sql = ("INSERT INTO nationalities (name, status, padrao, created_at, updated_at) VALUES ('".($_REQUEST['nomeCadastro'])."', '".$_REQUEST['statusCadastro']."', '".$_REQUEST['padraoCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "a";
                break;
            case "pais":
                $sql = ("INSERT INTO countries (name, status, padrao, created_at, updated_at) VALUES ('".($_REQUEST['nomeCadastro'])."', '".$_REQUEST['statusCadastro']."', '".$_REQUEST['padraoCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "formaPagamento":
                $_REQUEST['vlParcelaMinimaCadastro'] = str_replace(".", "", $_REQUEST['vlParcelaMinimaCadastro']);
                $_REQUEST['vlParcelaMinimaCadastro'] = str_replace(",", ".", $_REQUEST['vlParcelaMinimaCadastro']);
                $sql = ("INSERT INTO payment_methods (name, vlParcelaMinima, parcelas, pagamentoAVista, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['vlParcelaMinimaCadastro']."', '".$_REQUEST['parcelasCadastro']."', '".$_REQUEST['pagamentoAVistaCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                if ($_FILES['imagemCadastro'] && $_FILES['imagemCadastro']['error'] == 0){
                    $filesImg = $_FILES['imagemCadastro']['tmp_name'];
                    $nameImg = $_FILES['imagemCadastro']['name'];
                    $qualEdicao = "formaPagamento";
                    $tableEditar = "payment_methods";
                }
                break;
            case "backgrounds":
                $sql = ("INSERT INTO backgrounds (name, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                if ($_FILES['imagemCadastro'] && $_FILES['imagemCadastro']['error'] == 0){
                    $filesImg = $_FILES['imagemCadastro']['tmp_name'];
                    $nameImg = $_FILES['imagemCadastro']['name'];
                    $qualEdicao = "dash-bg-";
                    $comIdQual = 1;
                    $tableEditar = "backgrounds";
                }
                break;
            case "importar":
                copy($_FILES['imagemCadastro']['tmp_name'], DIRETORIO."importar/".$_FILES['imagemCadastro']['name']);
            break;
            case "formaFrete":
                $_REQUEST['valorCadastro'] = str_replace(".", "", $_REQUEST['valorCadastro']);
                $_REQUEST['valorCadastro'] = str_replace(",", ".", $_REQUEST['valorCadastro']);
                $sql = ("INSERT INTO shipping_methods (name, code, value, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['codigoCadastro']."', '".$_REQUEST['valorCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "a";
                break;
            case "posicao":
                $sql = ("INSERT INTO positions (name, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "tempoBanner":
                $_REQUEST['daysCadastro'] = ($_REQUEST['eternoCadastro']) ? "eterno" : $_REQUEST['daysCadastro'];
                $sql = ("INSERT INTO time_banners (name, days, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['daysCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "target":
                $sql = ("INSERT INTO targets (name, code, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['codigoCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "banner":
                $sql = "SELECT * FROM banners WHERE slug = '".$_REQUEST['slugCadastro']."'";
                $_REQUEST['slug'] = $_REQUEST['slugCadastro'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugCadastro'].$i;
                    $sql = "SELECT * FROM banners WHERE slug = '".$_REQUEST['slug']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("INSERT INTO banners (name, description, position, link, target, status, slug, tipo, qual, img, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['descricaoCadastro']."', '".$_REQUEST['posicaoCadastro']."', '".$_REQUEST['linkCadastro']."', '".$_REQUEST['targetCadastro']."', '".$_REQUEST['statusCadastro']."', '".$_REQUEST['slug']."', '0', '0', '', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                $qualE = "banners";
                if ($_FILES['imagemCadastro'] && $_FILES['imagemCadastro']['error'] == 0){
                    $filesImg = $_FILES['imagemCadastro']['tmp_name'];
                    $nameImg = $_FILES['imagemCadastro']['name'];
                    $qualEdicao = "banner";
                    $tableEditar = "banners";
                }
                if ($_FILES['backgroundCadastro'] && $_FILES['backgroundCadastro']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundCadastro']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundCadastro']['name'];
                    $qualEdicaoBackground = "banner";
                    $tableEditarBackground = "banners";
                }
                break;
            case "feriados":
                $sql = ("INSERT INTO holidays (name, date, comMsg, msg, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['dataCadastro']."', '".$_REQUEST['comMsgCadastro']."', '".$_REQUEST['msgCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "comentariosFeriados":
                $sql = ("INSERT INTO holidays_coments (holiday, client, avaliacao, coment, status, created_at, updated_at) VALUES ('".$_REQUEST['feriado']."', '".$_REQUEST['cliente']."', '".$_REQUEST['avaliacao']."', '".str_replace('/n','<br>',$_REQUEST['comentario'])."', '".$_REQUEST['status']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "parceiros":
                $sql = ("INSERT INTO partners (name, description, link, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['descricaoCadastro']."', '".$_REQUEST['linkCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "listaPresente":
                if ($_REQUEST['dataAniversarioCadastro'] >= date('Y-m-d')){
                    $_REQUEST['statusCadastro'] = 1;
                }
                else{
                    $_REQUEST['statusCadastro'] = 0;
                }
                $sql = ("INSERT INTO presents_lists (client, nomeAniversariante, dataAniversario, nomeMae, nomePai, idade, status, cep, address, number, complement, neighborhood, city, state, created_at, updated_at) VALUES ('".$_REQUEST['clienteCadastro']."', '".$_REQUEST['nomeCadastro']."', '".$_REQUEST['dataAniversarioCadastro']."', '".$_REQUEST['nomeMaeCadastro']."', '".$_REQUEST['nomePaiCadastro']."', '".$_REQUEST['idadeCadastro']."', '".$_REQUEST['statusCadastro']."', '".$_REQUEST['cepCadastro']."', '".$_REQUEST['logradouroCadastro']."', '".$_REQUEST['numeroCadastro']."', '".$_REQUEST['complementoCadastro']."', '".$_REQUEST['bairroCadastro']."', '".$_REQUEST['cidadeCadastro']."', '".$_REQUEST['estadoCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "a";
                $qualE = "presents_lists";
                break;
            case "redesSociais":
                $sql = "SELECT * FROM social_networks WHERE slug = '".$_REQUEST['slugCadastro']."'";
                $_REQUEST['slug'] = $_REQUEST['slugCadastro'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugCadastro'].$i;
                    $sql = "SELECT * FROM social_networks WHERE slug = '".$_REQUEST['slug']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("INSERT INTO social_networks (name, description, link, status, slug, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['descricaoCadastro']."', '".$_REQUEST['linkCadastro']."', '".$_REQUEST['statusCadastro']."', '".$_REQUEST['slug']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "a";
                $qualE = "social_networks";
                if ($_FILES['imagemCadastro'] && $_FILES['imagemCadastro']['error'] == 0){
                    $filesImg = $_FILES['imagemCadastro']['tmp_name'];
                    $nameImg = $_FILES['imagemCadastro']['name'];
                    $qualEdicao = "social_network";
                    $tableEditar = "social_networks";
                }
                if ($_FILES['backgroundCadastro'] && $_FILES['backgroundCadastro']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundCadastro']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundCadastro']['name'];
                    $qualEdicaoBackground = "social_network";
                    $tableEditarBackground = "social_networks";
                }
                break;
            case "pagina":
                $sql = "SELECT * FROM pages WHERE slug = '".$_REQUEST['slugCadastro']."'";
                $_REQUEST['slug'] = $_REQUEST['slugCadastro'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugCadastro'].$i;
                    $sql = "SELECT * FROM pages WHERE slug = '".$_REQUEST['slug']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("INSERT INTO pages (name, subname, appearsMenu, appearsSite, status, slug, ordem, img, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['subtituloCadastro']."', '".$_REQUEST['apareceMenuCadastro']."', '".$_REQUEST['apareceSiteCadastro']."', '".$_REQUEST['statusCadastro']."', '".$_REQUEST['slug']."', '".$_REQUEST['ordemCadastro']."', '', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "a";
                $qualE = "pages";
                if ($_FILES['imagemCadastro'] && $_FILES['imagemCadastro']['error'] == 0){
                    $filesImg = $_FILES['imagemCadastro']['tmp_name'];
                    $nameImg = $_FILES['imagemCadastro']['name'];
                    $qualEdicao = "pagina";
                    $tableEditar = "pages";
                }
                if ($_FILES['backgroundCadastro'] && $_FILES['backgroundCadastro']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundCadastro']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundCadastro']['name'];
                    $qualEdicaoBackground = "pagina";
                    $tableEditarBackground = "pages";
                }
                break;
            case "subitem":
                $sql = "SELECT * FROM subitems WHERE slug = '".$_REQUEST['slugCadastro']."'";
                $_REQUEST['slug'] = $_REQUEST['slugCadastro'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugCadastro'].$i;
                    $sql = "SELECT * FROM subitems WHERE slug = '".$_REQUEST['slug']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("INSERT INTO subitems (page, name, description, subname, appearsImg, status, slug, created_at, updated_at) VALUES ('".$_REQUEST['paginaCadastro']."', '".$_REQUEST['nomeCadastro']."', '".$_REQUEST['descricaoCadastro']."', '".$_REQUEST['subtituloCadastro']."', '".$_REQUEST['mostraImagemCadastro']."', '".$_REQUEST['statusCadastro']."', '".$_REQUEST['slug']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "a";
                $qualE = "subitems";
                if ($_FILES['imagemCadastro'] && $_FILES['imagemCadastro']['error'] == 0){
                    $filesImg = $_FILES['imagemCadastro']['tmp_name'];
                    $nameImg = $_FILES['imagemCadastro']['name'];
                    $qualEdicao = "subitem";
                    $tableEditar = "subitems";
                }
                break;
            case "tipoServico":
                $sql = ("INSERT INTO types_services (name, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "prioridade":
                $sql = ("INSERT INTO priorities (name, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "a";
                break;
            case "tipoVersao":
                $sql = ("INSERT INTO type_versions (name, typeService, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['tipoServicoCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "categoria":
                $sql = "SELECT * FROM categories WHERE slug = '".$_REQUEST['slugCadastro']."'";
                $_REQUEST['slug'] = $_REQUEST['slugCadastro'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugCadastro'].$i;
                    $sql = "SELECT * FROM categories WHERE slug = '".$_REQUEST['slug']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $_REQUEST['categoriaCadastro'] = ($_REQUEST['categoriaCadastro']) ? $_REQUEST['categoriaCadastro'] : "0";
                $sql = ("INSERT INTO categories (name, idPai, status, aparece_menu, slug, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['categoriaCadastro']."', '".$_REQUEST['statusCadastro']."', '".$_REQUEST['apareceMenuCadastro']."', '".$_REQUEST['slug']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                $qualE = "categories";
                if ($_FILES['imagemEdicao'] && $_FILES['imagemEdicao']['error'] == 0){
                    $filesImg = $_FILES['imagemEdicao']['tmp_name'];
                    $nameImg = $_FILES['imagemEdicao']['name'];
                    $qualEdicao = "categoria";
                    $tableEditar = "categories";
                }
                if ($_FILES['backgroundCadastro'] && $_FILES['backgroundCadastro']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundCadastro']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundCadastro']['name'];
                    $qualEdicaoBackground = "categoria";
                    $tableEditarBackground = "categories";
                }
                break;
            case "atributos":
                $sql = ("INSERT INTO attributes (name, idPai, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['atributoCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                $idCadastro = mysqli_insert_id($con);
                break;
            case "marcas":
                $sql = "SELECT * FROM brands WHERE slug = '".$_REQUEST['slugCadastro']."'";
                $_REQUEST['slug'] = $_REQUEST['slugCadastro'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugCadastro'].$i;
                    $sql = "SELECT * FROM brands WHERE slug = '".$_REQUEST['slug']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("INSERT INTO brands (name, description, status, slug, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['descricaoCadastro']."', '".$_REQUEST['statusCadastro']."', '".$_REQUEST['slug']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "a";
                $qualE = "brands";
                if ($_FILES['imagemCadastro'] && $_FILES['imagemCadastro']['error'] == 0){
                    $filesImg = $_FILES['imagemCadastro']['tmp_name'];
                    $nameImg = $_FILES['imagemCadastro']['name'];
                    $qualEdicao = "marca";
                    $tableEditar = "brands";
                }
                if ($_FILES['backgroundCadastro'] && $_FILES['backgroundCadastro']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundCadastro']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundCadastro']['name'];
                    $qualEdicaoBackground = "marca";
                    $tableEditarBackground = "brands";
                }
                break;
            case "selos":
                $sql = ("INSERT INTO stamps (name, description, slug, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['descricaoCadastro']."', '".$_REQUEST['slugCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                $qualE = "selos";
                if ($_FILES['imagemCadastro'] && $_FILES['imagemCadastro']['error'] == 0){
                    $filesImg = $_FILES['imagemCadastro']['tmp_name'];
                    $nameImg = $_FILES['imagemCadastro']['name'];
                    $qualEdicao = "selo";
                    $tableEditar = "stamps";
                }
                if ($_FILES['backgroundCadastro'] && $_FILES['backgroundCadastro']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundCadastro']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundCadastro']['name'];
                    $qualEdicaoBackground = "selo";
                    $tableEditarBackground = "stamps";
                }
                break;
            case "sugestoes":
                $sql = "SELECT * FROM suggestions WHERE slug = '".$_REQUEST['slugCadastro']."'";
                $_REQUEST['slug'] = $_REQUEST['slugCadastro'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugCadastro'].$i;
                    $sql = "SELECT * FROM suggestions WHERE slug = '".$_REQUEST['slug']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("INSERT INTO suggestions (name, description, status, slug, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['descricaoCadastro']."', '".$_REQUEST['statusCadastro']."', '".$_REQUEST['slug']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "a";
                $qualE = "suggestions";
                if ($_FILES['imagemCadastro'] && $_FILES['imagemCadastro']['error'] == 0){
                    $filesImg = $_FILES['imagemCadastro']['tmp_name'];
                    $nameImg = $_FILES['imagemCadastro']['name'];
                    $qualEdicao = "sugestao";
                    $tableEditar = "suggestions";
                }
                if ($_FILES['backgroundCadastro'] && $_FILES['backgroundCadastro']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundCadastro']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundCadastro']['name'];
                    $qualEdicaoBackground = "sugestao";
                    $tableEditarBackground = "suggestions";
                }
                break;
            case "relacionamentos":
                $sql = "SELECT * FROM relationships WHERE slug = '".$_REQUEST['slugCadastro']."'";
                $_REQUEST['slug'] = $_REQUEST['slugCadastro'];
                $i = 1;
                $query =  mysqli_query($con, $sql);
                while(mysqli_num_rows($query) > 0){
                    $_REQUEST['slug'] = $_REQUEST['slugCadastro'].$i;
                    $sql = "SELECT * FROM relationships WHERE slug = '".$_REQUEST['slug']."'";
                    $query = mysqli_query($con, $sql);
                    $i++;
                }
                $sql = ("INSERT INTO relationships (name, status, slug, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['statusCadastro']."', '".$_REQUEST['slug']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                $qualE = "relationships";
                $idCadastro = mysqli_insert_id($con);
                if ($_FILES['backgroundCadastro'] && $_FILES['backgroundCadastro']['error'] == 0){
                    $filesImgBackground = $_FILES['backgroundCadastro']['tmp_name'];
                    $nameImgBackground = $_FILES['backgroundCadastro']['name'];
                    $qualEdicaoBackground = "relacionamentos";
                    $tableEditarBackground = "relationships";
                }
                if ($_FILES['imagemCadastro'] && $_FILES['imagemCadastro']['error'] == 0){
                    $filesImg = $_FILES['imagemCadastro']['tmp_name'];
                    $nameImg = $_FILES['imagemCadastro']['name'];
                    $qualEdicao = "relacionamentos";
                    $tableEditar = "relationships";
                }
                break;
            case "cupomDesconto":
                $_REQUEST['valorCadastro'] = str_replace('.', '', $_REQUEST['valorCadastro']);
                $_REQUEST['valorCadastro'] = str_replace(',', '.', $_REQUEST['valorCadastro']);
                $sql = ("INSERT INTO coupon_discounts (codigo, valor, tipo,  validade, utilizavel, created_at, updated_at) VALUES ('".$_REQUEST['codigoCadastro']."', '".$_REQUEST['valorCadastro']."', '".$_REQUEST['tipoCadastro']."', '".$_REQUEST['validadeCadastro']."', '".$_REQUEST['utilizavelCadastro']."',  '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "parametroSite":
                $sql = ("INSERT INTO param_sites (name, value, type, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".($_REQUEST['valorCadastro'])."', '".$_REQUEST['tipoCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "parametroAdmin":
                $sql = ("INSERT INTO param_admins (name, value, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['valorCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "versao":
                $sql = ("INSERT INTO versions (name, description, date, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['descricaoCadastro']."', '".($_REQUEST['dataCadastro'])."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "a";
                if ($_FILES['imagemCadastro'] && $_FILES['imagemCadastro']['error'] == 0){
                    $filesImg = $_FILES['imagemCadastro']['tmp_name'];
                    $nameImg = $_FILES['imagemCadastro']['name'];
                    $qualEdicao = "versao";
                    $tableEditar = "versions";
                }
                break;
            case "usuarios":
                $sql = ("INSERT INTO users (name, email, password, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['emailCadastro']."', '".md5($_REQUEST['senhaCadastro'])."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                if ($_FILES['imagemCadastro'] && $_FILES['imagemCadastro']['error'] == 0){
                    $filesImg = $_FILES['imagemCadastro']['tmp_name'];
                    $nameImg = $_FILES['imagemCadastro']['name'];
                    $qualEdicao = "usuario";
                    $tableEditar = "users";
                }
                break;
            case "tipoModulo":
                $sql = ("INSERT INTO type_modules (name, status, created_at, updated_at) VALUES ('".$_REQUEST['nomeCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
            case "modulo":
                $sql = ("INSERT INTO modules (typeModule, name, slug, status, created_at, updated_at) VALUES ('".$_REQUEST['tipoModuloCadastro']."', '".$_REQUEST['nomeCadastro']."', '".$_REQUEST['urlAmigavelCadastro']."', '".$_REQUEST['statusCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $artigo = "o";
                break;
        }
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $_REQUEST['idCadastro'] = mysqli_insert_id($con);
        if ($filesImg && $qualEdicao){
            if ($comIdQual){
                if (preg_match('/.jpg/', $nameImg) || preg_match('/.jpeg/', $nameImg)){
                    $arquivo = $qualEdicao.sprintf("%02s", $_REQUEST['idCadastro']).".jpg";
                }
                elseif (preg_match('/.gif/', $nameImg)){
                    $arquivo = $qualEdicao.sprintf("%02s", $_REQUEST['idCadastro']).".gif";
                }
                elseif (preg_match('/.png/', $nameImg)){
                    $arquivo = $qualEdicao.sprintf("%02s", $_REQUEST['idCadastro']).".png";
                }
                elseif (preg_match('/.bmp/', $nameImg)){
                    $arquivo = $qualEdicao.sprintf("%02s", $_REQUEST['idCadastro']).".bmp";
                }
                elseif (preg_match('/.svg/', $nameImg)){
                    $arquivo = $qualEdicao.sprintf("%02s", $_REQUEST['idCadastro']).".svg";
                }
                elseif (preg_match('/.webp/', $nameImg)){
                    $arquivo = $qualEdicao.sprintf("%02s", $_REQUEST['idCadastro']).".webp";
                }
            }
            else{
                if (preg_match('/.jpg/', $nameImg) || preg_match('/.jpeg/', $nameImg)){
                    $arquivo = $qualEdicao.$_REQUEST['idCadastro'].".jpg";
                }
                elseif (preg_match('/.gif/', $nameImg)){
                    $arquivo = $qualEdicao.$_REQUEST['idCadastro'].".gif";
                }
                elseif (preg_match('/.png/', $nameImg)){
                    $arquivo = $qualEdicao.$_REQUEST['idCadastro'].".png";
                }
                elseif (preg_match('/.bmp/', $nameImg)){
                    $arquivo = $qualEdicao.$_REQUEST['idCadastro'].".bmp";
                }
                elseif (preg_match('/.svg/', $nameImg)){
                    $arquivo = $qualEdicao.$_REQUEST['idCadastro'].".svg";
                }
                elseif (preg_match('/.webp/', $nameImg)){
                    $arquivo = $qualEdicao.$_REQUEST['idCadastro'].".webp";
                }
            }
            if ($arquivo){
                copy($filesImg, DIRETORIO."storage/".$arquivo);
                $sql = "UPDATE ".$tableEditar." SET img = '".$arquivo."' WHERE id = '".$_REQUEST['idCadastro']."'";
                mysqli_query($con, $sql);
            }
        }
        if ($filesImgBackground && $qualEdicaoBackground){
            if (preg_match('/.jpg/', $nameImgBackground) || preg_match('/.jpeg/', $nameImgBackground)){
                $arquivoBack = $qualEdicaoBackground.$_REQUEST['idEdicao']."background.jpg";
            }
            elseif (preg_match('/.gif/', $nameImgBackground)){
                $arquivoBack = $qualEdicaoBackground.$_REQUEST['idEdicao']."background.gif";
            }
            elseif (preg_match('/.png/', $nameImgBackground)){
                $arquivoBack = $qualEdicaoBackground.$_REQUEST['idEdicao']."background.png";
            }
            elseif (preg_match('/.bmp/', $nameImgBackground)){
                $arquivoBack = $qualEdicaoBackground.$_REQUEST['idEdicao']."background.bmp";
            }
            elseif (preg_match('/.svg/', $nameImgBackground)){
                $arquivoBack = $qualEdicaoBackground.$_REQUEST['idEdicao']."background.svg";
            }
            elseif (preg_match('/.webp/', $nameImgBackground)){
                $arquivoBack = $qualEdicaoBackground.$_REQUEST['idEdicao']."background.webp";
            }
            if ($arquivoBack){
                copy($filesImgBackground, DIRETORIO."storage/".$arquivoBack);
                $sql = "UPDATE ".$tableEditarBackground." SET background = '".$arquivoBack."' WHERE id = '".$_REQUEST['idEdicao']."'";
                mysqli_query($con, $sql);
                $img = URL."storage/".$arquivoBack;
            }
        }
        if ($_REQUEST['table'] == 'backgrounds'){
            reescreveArquivoCss();
        }
        $action = "Cadastrou ".$artigo." ".$_REQUEST['table']." ".$_REQUEST['idCadastro'];
        $sql = "INSERT INTO logs (action, user, created_at, updated_at) VALUES ('".$action."', '".$_REQUEST['idUserCadastro']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "visualizar":
        switch ($_REQUEST['table']){
            case "pedido":
                $sql = "SELECT a.*, b.name AS nomeFormaPagamento, c.name AS nomeStatus, c.id AS idStatus, d.type_person, d.email, e.name, e.cpf, e.rg, e.cel, e.dtNasc, f.name AS nomeEndereco, f.cep, f.address AS enderecoCliente, f.number, f.complement, f.neighborhood, f.city, f.state, g.razaoSocial, g.nomeFantasia, g.contato, g.cnpj, g.ie, g.im, g.dataAbertura, g.cel AS cel2, g.telefone, i.codigo, i.tipo, i.valor, i.validade, j.code, j.value AS valorVale, j.validade AS validade2
                        FROM requests a
                        INNER JOIN payment_methods b ON (a.paymentMethod = b.id)
                        INNER JOIN requests_statuses c ON (a.status = c.id)
                        INNER JOIN clients d ON (a.client = d.id)
                        LEFT JOIN pessoa_fisicas e ON (d.id = e.client)
                        INNER JOIN addresses f ON (f.id = a.address)
                        LEFT JOIN pessoa_juridicas g ON (d.id = g.client)
                        LEFT JOIN coupon_discounts i ON (a.discount = i.id)
                        LEFT JOIN vales j ON (a.vale = j.id)
                        WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $vet = explode('-', $row['dtNasc']);
                $row['dtNasc'] = $vet[2]."/".$vet[1]."/".$vet[0];
                $vet = explode('-', $row['dataAbertura']);
                $row['dataAbertura'] = $vet[2]."/".$vet[1]."/".$vet[0];
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|<h5>Dados do Pedido ".sprintf("%012s", $row[0])."</h5>".("Número do Pedido:")." <b>".sprintf("%012s", $row[0])."</b><br>Data do Pedido: <b>".$row['created_at']."</b><br>Status do Pedido: <b>".($row['nomeStatus'])."</b><br>");
                if ($row['codRastreamento']){
                    echo "Link do Rastreamento: <b><a href='".URL."pagina/rastreio-de-encomendas?codigo=".$row['codRastreamento']."' target='_blank'>Clique aqui</a></a></b><br>";
                }
                echo (("Forma de Pagamento").": <b>".($row['nomeFormaPagamento'])."</b>");
                if ($row['status'] <= 3) {
                    echo (" - <a href='".URL."efetuarPagamento?id=".$row[0]."' target='_blank'>Efetuar Pagamento</a>");
                }
                $sql = "SELECT * FROM requests_items WHERE request = '".$row[0]."'";
                $query = mysqli_query($con, $sql);
                $totalItens = mysqli_num_rows($query);
                echo "<h5>Dados do";
                if ($totalItens > 1){
                    echo 's';
                }
                echo " Produto";
                if ($totalItens > 1){
                    echo 's';
                }
                echo "</h5>
                     <table width='100%' cellpadding='0' cellspacing='0' border='0'>
                        <tr>
                            <th width='23%'>Nome do Produto</th>
                            <th width='23%'>Valor do Produto</th>
                            <th width='23%'>Quant.</th>
                            <th width='23%'>Valor Total</th>
                            <th width='8%'>&nbsp;</th>
                        </tr>
                        ";
                while ($rowItens = mysqli_fetch_array($query)){
                    $lista = $rowItens['lista'];
                    echo "<tr";
                if ($i % 2 == 0){
                    echo " style='background-color:#F7F7F7'";
                }
                echo ">
                            <td>".($rowItens['name']);
                    echo "</td>
                            <td>R$ ".number_format($rowItens['value'], 2, ',', '.')."</td>
                            <td>".$rowItens['quantity']."</td>
                            <td>R$ ".number_format($rowItens['value'] * $rowItens['quantity'], 2, ',', '.')."</td>
                            <td>";
                    if ($rowItens['vale']){
                        echo "<img src='" . URL . "img/visualizar.svg' width='20' title='Visualizar Vale' style='cursor:pointer' onclick=visualizarVale('" . $rowItens['vale'] . "','" . URL . "')><div id='vale' style='position:absolute; display:none; width:495px; height:390px; background-color:#FFFFFF; border:1px solid #E7E7E7; border-radius:15px;'>Oi</div>";
                    }
                    echo "</td>
                         </tr>";
                    $i++;
                    $total += $rowItens['value'] * $rowItens['quantity'];
                }
                echo "<tr>
                            <td colspan='4' style='text-align:right'>Total Carrinho: <b>R$ ".number_format($row['valueSubtotal'], 2, ',','.')."</b></td>
                      </tr>
                      <tr>
                            <td colspan='4' style='text-align:right'>Cupom de Desconto: <b style='#003300'>- R$ ".number_format($row['valueDiscount'], 2, ',','.')."</b> ";
                if ($row['discount']) {
                    echo "<img src='" . URL . "img/informacao.png' width='20' style='cursor:pointer' onclick='abreFecha(\"informacoesCupomDesconto\")'><div id='informacoesCupomDesconto' style='display:none; position:absolute; border:1px solid #e7e7e7; background-color:#FFFFFF; text-align:left; width:100%; border-radius:15px'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick='fecha(\"informacoesCupomDesconto\")'>&times;</div><h3>Informações do Cupom de Desconto</h3>ID do Cupom: <b>".$row['discount'];
                    echo "</b><br>Código do Cupom: <b>" . $row['codigo'];
                    if ($row['tipo'] == 1){
                        $valorCupom = "R$ ".number_format($row['valor'], 2,',','.');
                    }
                    else{
                        $valorCupom = $row['valor']."%";
                    }
                    $vet = explode('-', $row['validade']);
                    $row['validade'] = $vet[2]."/".$vet[1]."/".$vet[0];
                    echo "</b><br>Valor do Cupom: <b>" . $valorCupom . "</b><br>Validade do Cupom: <b>".$row['validade']."</b></div>";
                }
                if ($row['vale']) {
                    echo "<img src='" . URL . "img/informacao.png' width='20' style='cursor:pointer' onclick='abreFecha(\"informacoesValePresente\")'><div id='informacoesValePresente' style='display:none; position:absolute; border:1px solid #e7e7e7; background-color:#FFFFFF; text-align:left; width:100%; border-radius:15px'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick='fecha(\"informacoesValePresente\")'>&times;</div><h3>Informações do Vale Presente</h3>ID do Vale: <b>".$row['vale'];
                    echo "</b><br>Código do Vale: <b>" . $row['code'];
                    $valorCupom = "R$ ".number_format($row['valorVale'], 2,',','.');
                    $vet = explode('-', $row['validade2']);
                    $row['validade'] = $vet[2]."/".$vet[1]."/".$vet[0];
                    echo "</b><br>Valor do Vale: <b>" . $valorCupom . "</b><br>Validade do Vale: <b>".$row['validade']."</b></div>";
                }
                      echo "</td>
                      </tr>
                      <tr>
                            <td colspan='4' style='text-align:right'>Frete: <b style='color:#FF0000' id='valorFrete'>+ R$ ".number_format($row['valueFrete'], 2, ',','.')."</b> <img src='".URL."img/informacao.png' width='20' style='cursor:pointer' onclick='abreFecha(\"informacoesFrete\")'><div id='informacoesFrete' style='display:none; position:absolute; border:1px solid #e7e7e7; background-color:#FFFFFF; text-align:left; width:100%; border-radius:15px'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick='fecha(\"informacoesFrete\")'>&times;</div><h3>Informações do Frete</h3>Tipo de Frete Escolhido: <b>";
                    if ($row['tipoFrete'] == 'Frete_Gratis'){
                        echo "Frete Grátis";
                    }
                    else{
                        echo str_replace("_", " ", $row['tipoFrete']);
                    }
                    echo "</b><br>Prazo para a entrega: <b>".$row['prazoFrete'];
                    if ($row['prazoFrete'] > 1){
                        echo " dias úteis";
                    }
                    else{
                        echo " dia útil";
                    }
                    echo "</b><br>Valor do Frete: <b>R$".number_format($row['valueFrete'], 2, ',','.')."</b><br>";
                    echo "</td>
                      </tr>
                      <tr>
                            <td colspan='4' style='text-align:right'>Total: <b style='#000033'>R$ ".number_format($row['valueTotal'], 2, ',','.')."</b></td>
                      </tr>
                      <tr>
                            <td colspan='4' style='text-align:right'>Parcelamento: <b id='parcelamento'>em ".$row['parcelamento']."X de R$ ".number_format($row['valueTotal'] / $row['parcelamento'], 2, ',','.')."</b></td>
                      </tr>
                     </table>
                     <h5>Dados do Cliente</h5>
                     Email: <b>".$row['email']."</b><br>";
                if ($row['type_person'] == 'F') {
                    echo "Nome do Cliente: <b>" . utf8_decode($row['name']) . "</b><br>
                    Telefone do Cliente: <b>" . ($row['cel']) . "</b><br>
                    CPF do Cliente: <b>" . ($row['cpf']) . "</b><br>
                    RG do Cliente: <b>" . ($row['rg']) . "</b><br>
                    Data de Nascimento do Cliente: <b>" . ($row['dtNasc']) . "</b>";
                }
                else{
                    echo "Razão Social: <b>".utf8_decode($row['razaoSocial'])."</b><br>
                    Nome Fantasia: <b>".utf8_decode($row['nomeFantasia'])."</b><br>
                    Nome do Contato: <b>".utf8_decode($row['contato'])."</b><br>
                    CNPJ: <b>".($row['cnpj'])."</b><br>
                    Inscrição Estadual: <b>".($row['ie'])."</b><br>
                    Inscrição Municipal: <b>".($row['im']."</b><br>
                    Data de Abertura da Empresa: <b>".$row['dataAbertura']."</b><br>
                    Telefone da Empresa: <b>".$row['telefone']."</b><br>
                    Celular da Empresa: <b>".$row['cel2'])."</b>";
                }
                echo "<h5>Dados do Endereço";
                if ($lista){
                    echo " da Lista";
                }
                echo "</h5>";
                if (!$lista) {
                    echo "Nome do Endereço: <b>" . ($row['nomeEndereco']) . "</b><br>
                    CEP do Endereço: <b>" . ($row['cep']) . "</b><br>
                    Logradouro do Endereço: <b>" . ($row['enderecoCliente']) . "</b><br>
                    Número do Endereço: <b>" . ($row['number']) . "</b><br>
                    Complemento do Endereço: <b>" . ($row['complement']) . "</b><br>
                    Bairro do Endereço: <b>" . ($row['neighborhood']) . "</b><br>
                    Cidade do Endereço: <b>" . ($row['city']) . "</b><br>
                    Estado do Endereço: <b>" . ($row['state']) . "</b>";
                }
                else{
                    $sql = "SELECT * FROM presents_lists WHERE id = '".$lista."'";
                    $query3 = mysqli_query($con, $sql);
                    $row3 = mysqli_fetch_array($query3);
                    $vet = explode('-', $row3['dataAniversario']);
                    $row3['dataAniversario'] = $vet[2]."/".$vet[1]."/".$vet[0];
                    echo "Nome da Lista: <b>" . (($row3['nomeAniversariante']) . " - ".$row3['dataAniversario']."</b><br>
                    CEP do Endereço: <b>" . ($row3['cep']) . "</b><br>
                    Logradouro do Endereço: <b>" . ($row3['address'])) . "</b><br>
                    Número do Endereço: <b>" . (($row3['number']) . "</b><br>
                    Complemento do Endereço: <b>" . ($row3['complement']) . "</b><br>
                    Bairro do Endereço: <b>" . ($row3['neighborhood']) . "</b><br>
                    Cidade do Endereço: <b>" . ($row3['city']) . "</b><br>
                    Estado do Endereço: <b>" . ($row3['state'])) . "</b>";
                }
                $artigo = "o";
                break;
            case "listaPresente":
                $sql = "SELECT a.*, b.name, c.nomeFantasia, c.contato FROM presents_lists a LEFT JOIN pessoa_fisicas b ON (a.client = b.client) LEFT JOIN pessoa_juridicas c ON (a.client = c.client) WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode('-', $row['validade']);
                $row['validade'] = ($vet[2]."/".$vet[1]."/".$vet[0]);
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode('-', $row['dataAniversario']);
                $row['dataAniversario'] = $vet[2]."/".$vet[1]."/".$vet[0];
                $nomeCliente = ($row['name']) ? $row['name'] : $row['nomeFantasia']." - ".$row['contato'];
                echo "1|-|Nome do Cliente: <b>".$nomeCliente."</b><br>Nome do(a) Aniversariante: <b>".($row['nomeAniversariante']."</b><br>".("Data do Aniversário").": <b>".($row['dataAniversario']."</b><br>".("Nome da Mãe").": <b>".$row['nomeMae']."</b><br>".("Nome do Pai").": <b>".$row['nomePai']."</b><br>".("Idade que vai completar").": <b>".$row['idade']."</b><br>".("CEP").": <b>".$row['cep']."</b><br>".("Endereço").": <b>".$row['address'].", ".$row['number']));
                if ($row['complement']){
                    echo (', '.$row['complement']);
                }
                echo ("</b><br>Bairro: <b>".$row['neighborhood']."</b><br>Cidade: <b>".$row['city']."</b><br>Estado: <b>".$row['state'])."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>";
                $artigo = "o";
                break;
            case "presentes":
                echo "1|-|<div id='registroExcluidoComSucessoListasPresentes' style='position:absolute; display:none; background-color:#FF0000; color:#FFFFFF; text-align:center; border-radius:15px; z-index:9999999'><h3>Registro Excluído Com Sucesso</h3></div><div id='visualizacaoPresente' style='display:none; position:absolute; width:100%; border:1px solid #e7e7e7; background-color:#FFFFFF; border-radius:15px;'><div style='position:absolute; float:left; left:95%; cursor:pointer;' onclick=fecha('visualizacaoPresente')>&times;</div></div><div id='addPresente' style='display:none; position:absolute; width:100%; border:1px solid #e7e7e7; background-color:#FFFFFF; border-radius:15px;'><div style='position:absolute; float:left; left:95%; cursor:pointer;' onclick=fecha('addPresente')>&times;</div><h3 style='text-align:center'>Adicionar Presente</h3><label for='produtoPresenteAdd'>Produto: </label><select name='produtoPresenteAdd' id='produtoPresenteAdd' class='form-control' onchange=selecionaProdutoPresente(this.value,'".URL."')>
                        <option value=''>Selecione o produto corretamente...</option>
                        ";
                $sql = "SELECT * FROM products WHERE status = '1'";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)){
                    while ($row = mysqli_fetch_array($query)){
                        echo "<option value='".$row['id']."'>".($row['name'])."</option>";
                    }
                }
                echo "</select><div id='itensProduto'></div><input type='hidden' name='listaPresenteAdd' id='listaPresenteAdd' value='".$_REQUEST['id']."'><div style='text-align: right'><button class='btn btn-primary' onclick=adicionarPresente('".URL."','".$_SESSION['user']['id']."')>Adicionar</button> <button class='btn btn-secondary' onclick=fecha('addPresente')>Fechar</button></div></div><div id='editaPresente' style='display:none; position:absolute; width:100%; border:1px solid #e7e7e7; background-color:#FFFFFF; border-radius:15px;'><div style='position:absolute; float:left; left:95%; cursor:pointer;' onclick=fecha('editaPresente')>&times;</div><h3 style='text-align:center'>Editar Presente</h3><label for='produtoPresenteEdita'>Produto: </label><select name='produtoPresenteEdita' id='produtoPresenteEdita' class='form-control' onchange=selecionaProdutoPresenteEdita(this.value,'".URL."')>
                        <option value=''>Selecione o produto corretamente...</option>
                        ";
                $sql = "SELECT * FROM products WHERE status = '1'";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)){
                    while ($row = mysqli_fetch_array($query)){
                        echo "<option value='".$row['id']."'>".($row['name'])."</option>";
                    }
                }
				$sql = "SELECT * FROM presents_lists WHERE id = '".$_REQUEST['id']."' AND status = '1'";
				$query = mysqli_query($con, $sql);
				$totLista = mysqli_num_rows($query);
                echo "</select><div id='itensProdutoEdita'></div><input type='hidden' name='listaPresenteEdita' id='listaPresenteEdita' value='".$_REQUEST['id']."'><div style='text-align: right'><button class='btn btn-primary' onclick=atualizarPresente('".URL."','".$_SESSION['user']['id']."')>Atualizar</button> <button class='btn btn-secondary' onclick=fecha('editaPresente')>Fechar</button><input type='hidden' name='idPresenteEdita' id='idPresenteEdita' value=''></div></div><div style='text-align:right'>";
				if ($totLista){
					echo "<button class='btn btn-primary' onclick='addPresente()'>Adicionar Novo</button>
                    ";
                }
                    echo '<a class="btn btn-success" onclick=abreFecha("exportarPresentes");fecha(\'importarPresentes\'); style="color:#FFFFFF">Exportar</a>
                    <div id="exportarPresentes" class="btn btn-success primeiro-item-modal" style="display:none">
                        <div class="bb-1" onclick="gerarArquivo(\'csv\', \'presentes\', \''.$_SESSION['user']['id'].'\', \''.URL.'\', \''.$_REQUEST['id'].'\')"><img src="'.URL.'img/excel.png" width="25"> Exportar CSV</div>
                        <div class="bb-1" onclick="gerarArquivo(\'pdf\', \'presentes\', \''.$_SESSION['user']['id'].'\', \''.URL.'\', \''.$_REQUEST['id'].'\')"><img src="'.URL.'img/pdf.png" width="25"> Exportar PDF</div>
                        <div class="bb-1" onclick="gerarArquivo(\'xml\', \'presentes\', \''.$_SESSION['user']['id'].'\', \''.URL.'\', \''.$_REQUEST['id'].'\')"><img src="'.URL.'img/xml.png" width="25"> Exportar XML</div>
                        <div class="bb-1" onclick="gerarArquivo(\'json\', \'presentes\', \''.$_SESSION['user']['id'].'\', \''.URL.'\', \''.$_REQUEST['id'].'\')"><img src="'.URL.'img/json.png" width="25"> Exportar JSON</div>
                    </div>';
                    if ($totLista){
                        echo '<a class="btn btn-warning" style="color:#FFFFFF" onclick="fecha(\'exportarPresentes\'); abreFecha(\'importarPresentes\');">Importar</a>
                        <div id="importarPresentes" class="btn btn-warning segundo-item-modal" style="display:none">
                            <div class="bb-1" data-toggle="modal" data-target="#modalImportarPresentes" onclick=\'importarPresentes("'.$_REQUEST['id'].'","'.$_SESSION['user']['id'].'","'.URL.'");fecha("importarPresentes")\' data-dismiss="modal"><img src="'.URL.'img/excel.png" width="25"> Importar CSV</div>
                            <div class="bb-1" data-toggle="modal" data-target="#modalImportarXmlPresentes" onclick=importarXMLPresentes("'.$_REQUEST['id'].'","'.$_SESSION['user']['id'].'","'.URL.'");fecha("importarPresentesXml") data-dismiss="modal"><img src="'.URL.'img/xml.png" width="25"> Importar XML</div>
                            <div class="bb-1" data-toggle="modal" data-target="#modalImportarJsonPresentes" onclick=importarJSONPresentes("'.$_REQUEST['id'].'","'.$_SESSION['user']['id'].'","'.URL.'");fecha("importarPresentesJson"); data-dismiss="modal"><img src="'.URL.'img/json.png" width="25"> Importar JSON</div>
                        </div>
                        ';
                    }
                echo "</div>";
				$sql = "SELECT a.*, b.name as nomeProduto, c.name as nomeItem, c.value, c.promotion, c.validity_promotion FROM presents_lists_products a INNER JOIN products b ON (a.product = b.id) INNER JOIN products_items c ON (a.product_item = c.id) WHERE a.lista = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                if(mysqli_num_rows($query)){
                    echo "<table width='100%' border='0' cellpadding='0' cellspacing='0'><tr><th style='padding:5px; text-align:center'>Nome do Produto</th><th style='padding:5px; text-align:center'>Valor do Produto</th><th style='padding:5px; text-align:center'>Pediu</th><th style='padding:5px; text-align:center'>Ganhou</th><th style='padding:5px; text-align:center'>Ações</th></tr>";
                    $i = 0;
                    while ($row = mysqli_fetch_array($query)){
                        $valor = ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')) ? $row['promotion'] : $row['value'];
                        echo "<tr><td style='padding:5px; text-align:center;";
                        if ($i % 2 == 0){
                            echo " background-color:#e7e7e7";
                        }
                        echo "'>".($row['nomeProduto']." - ".$row['nomeItem'])."</td><td style='padding:5px;; text-align:center;";
                        if ($i % 2 == 0){
                            echo " background-color:#e7e7e7";
                        }
                        echo "'>R$ ".number_format($valor, 2, ',', '.')."</td><td style='padding:5px;; text-align:center;";
                        if ($i % 2 == 0){
                            echo " background-color:#e7e7e7";
                        }
                        echo "'>".$row['quantity']."</td><td style='padding:5px;; text-align:center;";
                        if ($i % 2 == 0){
                            echo " background-color:#e7e7e7";
                        }
                        echo "'>".$row['ganhou']."</td><td style='padding:5px; text-align:center;";
                        if ($i % 2 == 0){
                            echo " background-color:#e7e7e7";
                        }
                        echo "'>";
						if ($totLista){
							echo "<img src='".URL."img/editar.png' width='20' style='cursor:pointer' onclick=editaPresente('".$row['id']."','".URL."','".$_SESSION['user']['id']."')> <img src='".URL."img/excluir.png' width='20' style='cursor:pointer' onclick=excluirPresente('".$row['id']."','".URL."','".$_SESSION['user']['id']."','o','presente','".$row['lista']."')>";
                        }
						echo "</td></tr>";
						$i++;
                    }
                    echo "</table>";
                }
                else{
                    echo "<div style='text-align:center'><button class='btn btn-danger'>Nenhum presente encontrado até o momento!</button></div>";
                }
                $artigo = "o";
                break;
            case "convidados":
				$sql = "SELECT * FROM presents_lists WHERE id = '".$_REQUEST['id']."' AND status = '1'";
				$query = mysqli_query($con, $sql);
				$totLista = mysqli_num_rows($query);
                echo "1|-|<div id='registroExcluidoComSucessoListasPresentes' style='position:absolute; display:none; background-color:#FF0000; color:#FFFFFF; text-align:center; border-radius:15px; z-index:9999999'><h3>Registro Excluído Com Sucesso</h3></div><div id='visualizacaoConvidado' style='display:none; position:absolute; width:100%; border:1px solid #e7e7e7; background-color:#FFFFFF; border-radius:15px;'><div style='position:absolute; float:left; left:95%; cursor:pointer;' onclick=fecha('addConvidado')>&times;</div></div><div id='addConvidado' style='display:none; position:absolute; width:100%; border:1px solid #e7e7e7; background-color:#FFFFFF; border-radius:15px;'><div style='position:absolute; float:left; left:95%; cursor:pointer;' onclick=fecha('addConvidado')>&times;</div><h3 style='text-align:center'>Adicionar Convidado</h3><label for='nomeConvidadoAdd'>Nome: </label><input type='text' name='nomeConvidadoAdd' id='nomeConvidadoAdd' class='form-control' value=''><label for='emailConvidadoAdd'>Email: </label><input type='email' name='emailConvidadoAdd' id='emailConvidadoAdd' class='form-control' value=''><label for='celConvidadoAdd'>Celular: </label><input type='text' name='celConvidadoAdd' id='celConvidadoAdd' maxlength='14' onkeyup=formataCampo(this,'(##)#####-####',event) class='form-control' value=''><input type='hidden' name='listaConvidadoAdd' id='listaConvidadoAdd' value='".$_REQUEST['id']."'><div style='text-align: right'><button class='btn btn-primary' onclick=adicionarConvidado('".URL."','".$_SESSION['user']['id']."')>Adicionar</button> <button class='btn btn-secondary' onclick=fecha('addConvidado')>Fechar</button></div></div><div id='editaConvidado' style='display:none; position:absolute; width:100%; border:1px solid #e7e7e7; background-color:#FFFFFF; border-radius:15px;'><div style='position:absolute; float:left; left:95%; cursor:pointer;' onclick=fecha('editaConvidado')>&times;</div><h3 style='text-align:center'>Editar Convidado</h3><label for='nomeConvidadoEdita'>Nome: </label><input type='text' name='nomeConvidadoEdita' id='nomeConvidadoEdita' class='form-control' value=''><label for='emailConvidadoEdita'>Email: </label><input type='email' name='emailConvidadoEdita' id='emailConvidadoEdita' class='form-control' value=''><label for='celConvidadoEdita'>Celular: </label><input type='text' name='celConvidadoEdita' id='celConvidadoEdita' maxlength='14' onkeyup=formataCampo(this,'(##)#####-####',event) class='form-control' value=''><input type='hidden' name='listaConvidadoEdita' id='listaConvidadoEdita' value='".$_REQUEST['id']."'><input type='hidden' name='idConvidadoEdita' id='idConvidadoEdita' value=''><div style='text-align: right'><button class='btn btn-primary' onclick=atualizarConvidado('".URL."','".$_SESSION['user']['id']."')>Editar</button> <button class='btn btn-secondary' onclick=fecha('editaConvidado')>Fechar</button></div></div>";
				if ($totLista){
					echo "<div style='text-align:right'><button class='btn btn-primary' onclick=addConvidado()>Adicionar Novo</button><button class='btn btn-danger' onclick=enviarTodosNaoEnviados('".$_REQUEST['id']."','".URL."','".$_SESSION['user']['id']."')>Enviar a Todos Não Enviados</button></div>";
                }
                echo '
                <a class="btn btn-success" onclick=abreFecha("exportarConvidados");fecha(\'importarConvidados\'); style="color:#FFFFFF">Exportar</a>
                <div id="exportarConvidados" class="btn btn-success primeiro-item-modal2" style="display:none">
                    <div class="bb-1" onclick="gerarArquivo(\'csv\', \'convidados\', \''.$_SESSION['user']['id'].'\', \''.URL.'\', \''.$_REQUEST['id'].'\')"><img src="'.URL.'img/excel.png" width="25"> Exportar CSV</div>
                    <div class="bb-1" onclick="gerarArquivo(\'pdf\', \'convidados\', \''.$_SESSION['user']['id'].'\', \''.URL.'\', \''.$_REQUEST['id'].'\')"><img src="'.URL.'img/pdf.png" width="25"> Exportar PDF</div>
                    <div class="bb-1" onclick="gerarArquivo(\'xml\', \'convidados\', \''.$_SESSION['user']['id'].'\', \''.URL.'\', \''.$_REQUEST['id'].'\')"><img src="'.URL.'img/xml.png" width="25"> Exportar XML</div>
                    <div class="bb-1" onclick="gerarArquivo(\'json\', \'convidados\', \''.$_SESSION['user']['id'].'\', \''.URL.'\', \''.$_REQUEST['id'].'\')"><img src="'.URL.'img/json.png" width="25"> Exportar JSON</div>
                </div>
                ';
            if ($totLista){
                echo '
                <a class="btn btn-warning" style="color:#FFFFFF" onclick="fecha(\'exportarConvidados\'); abreFecha(\'importarConvidados\');">Importar</a>
                <div id="importarConvidados" class="btn btn-warning segundo-item-modal2" style="display:none">
                    <div class="bb-1" data-toggle="modal" data-target="#modalImportarConvidados" onclick=\'importarConvidados("'.$_REQUEST['id'].'","'.$_SESSION['user']['id'].'","'.URL.'");fecha("importarConvidados")\' data-dismiss="modal"><img src="'.URL.'img/excel.png" width="25"> Importar CSV</div>
                    <div class="bb-1" data-toggle="modal" data-target="#modalImportarXmlConvidados" onclick=\'importarXMLConvidados("'.$_REQUEST['id'].'","'.$_SESSION['user']['id'].'","'.URL.'");fecha("importarConvidadosXml")\' data-dismiss="modal"><img src="'.URL.'img/xml.png" width="25"> Importar XML</div>
                    <div class="bb-1" data-toggle="modal" data-target="#modalImportarJsonConvidados" onclick=importarJSONConvidados("'.$_REQUEST['id'].'","'.$_SESSION['user']['id'].'","'.URL.'");fecha("importarConvidadosJson"); data-dismiss="modal"><img src="'.URL.'img/json.png" width="25"> Importar JSON</div>
                </div>
                        ';
            }
                echo "<input type='hidden' name='listaConvidadosEdita' id='listaConvidadosEdita' value='".$_REQUEST['id']."'>";
				$sql = "SELECT a.* FROM presents_lists_guests a WHERE a.lista = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                if(mysqli_num_rows($query)){
                    echo "<table width='100%' border='0' cellpadding='0' cellspacing='0'><tr><th style='padding:5px; text-align:center'>Nome</th><th style='padding:5px; text-align:center'>Email</th><th style='padding:5px; text-align:center'>Celular</th><th style='padding:5px; text-align:center'>Ações</th></tr>";
                    $i = 0;
                    while ($row = mysqli_fetch_array($query)){
                        echo "<tr><td style='padding:5px; text-align:center; font-size:14px;";
                        if ($i % 2 == 0){
                            echo " background-color:#e7e7e7";
                        }
                        echo "'>".($row['name'])."</td><td style='padding:5px;; text-align:center; font-size:14px;";
                        if ($i % 2 == 0){
                            echo " background-color:#e7e7e7";
                        }
                        echo "'>".($row['email'])."</td><td style='padding:5px;; text-align:center; font-size:14px;";
                        if ($i % 2 == 0){
                            echo " background-color:#e7e7e7";
                        }
                        echo "'>".$row['cel']."</td><td style='padding:5px; text-align:center;";
                        if ($i % 2 == 0){
                            echo " background-color:#e7e7e7";
                        }
                        echo "'>";
						if ($totLista){
							echo "<img src='".URL."img/enviarEmail.png' width='20' style='cursor:pointer' onclick=enviarEmailConvidado('".$row['id']."','".URL."','".$_SESSION['user']['id']."','".$_REQUEST['id']."')>";
						}
						echo "<img src='".URL."img/visualizar.svg' width='20' style='cursor:pointer' onclick=visualizarConvidado('".$row['id']."','".URL."','".$_SESSION['user']['id']."')>";
						if ($totLista){
							echo "<img src='".URL."img/editar.png' width='20' style='cursor:pointer' onclick=editaConvidado('".$row['id']."','".URL."','".$_SESSION['user']['id']."')><img src='".URL."img/excluir.png' width='20' style='cursor:pointer' onclick=excluirConvidado('".$row['id']."','".URL."','".$_SESSION['user']['id']."','o','convidado','".$_REQUEST['id']."')>";
						}
						echo "</td></tr>";
                        $i++;
                    }
                    echo "</table>";
                }
                else{
                    echo "<div style='text-align:center'><button class='btn btn-danger'>Nenhum convidado encontrado até o momento!</button></div>";
                }
                $artigo = "o";
                break;
            case "cupomDesconto":
                $sql = "SELECT * FROM coupon_discounts WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode('-', $row['validade']);
                $row['validade'] = ($vet[2]."/".$vet[1]."/".$vet[0]);
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                if ($row['tipo'] == 1){
                    $tipo = "Valor";
                    $valor = "R$".number_format($row['valor'], 2, ',', '.');
                }
                elseif ($row['tipo'] == 2){
                    $tipo = "Percentual";
                    $valor = $row['valor']."%";
                }
                if ($row['utilizavel'] == 1){
                    $utilizavel = "Uma vez por cliente";
                }
                elseif ($row['utilizavel'] == 2){
                    $utilizavel = ("Várias vezes por cliente");
                }
                echo "1|-|Código: <b>".($row['codigo']."</b><br>Tipo: <b>".$tipo."</b><br>Valor: <b>".$valor."</b><br>Validade: <b>".$row['validade']."</b><br>".("Utilização: ")."<b>".$utilizavel."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "valePresente":
                $sql = "SELECT * FROM vales WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode('-', $row['validade']);
                $row['validade'] = ($vet[2]."/".$vet[1]."/".$vet[0]);
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $valor = "R$".number_format($row['value'], 2, ',', '.');
                echo "1|-|Código: <b>".($row['code']."</b><br>Valor: <b>".$valor."</b><br>Validade: <b>".$row['validade']."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
                case "carts":
                    $sql = "SELECT * FROM carts WHERE id = '".$_REQUEST['id']."'";
                    $query = mysqli_query($con, $sql);
                    $row = mysqli_fetch_array($query);
                    $vet = explode(' ', $row['created_at']);
                    $vet2 = explode('-', $vet[0]);
                    $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                    $vet = explode(' ', $row['updated_at']);
                    $vet2 = explode('-', $vet[0]);
                    $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                    echo ("1|-|UID: <b>".$row['session_id']."</b><br>Nome: <b>".$row['name']."</b><br>Quantidade: <b>".$row['quantity']."</b><br>Valor do Produto: <b>R$".number_format($row['value'], 2, ',', '.'))."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>";
                    $artigo = "a";
                    break;
                    case "newsletter":
                        $sql = "SELECT * FROM newsletters WHERE id = '".$_REQUEST['id']."'";
                        $query = mysqli_query($con, $sql);
                        $row = mysqli_fetch_array($query);
                        $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>";
                        $vet = explode(' ', $row['created_at']);
                        $vet2 = explode('-', $vet[0]);
                        $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                        $vet = explode(' ', $row['updated_at']);
                        $vet2 = explode('-', $vet[0]);
                        $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                        echo ("1|-|Nome: <b>".$row['name']."</b><br>Email: <b>".$row['email']."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                        $artigo = "a";
                        break;
            case "bugTracking":
                $sql = "SELECT a.*, b.name AS nomeTipoServico , c.name AS nomeTipoVersao , d.name AS nomePrioridade, e.name AS nomeCategoria FROM bug_trackings a INNER JOIN types_services b ON (a.typeService = b.id) INNER JOIN type_versions c ON (a.typeVersion = c.id) INNER JOIN priorities d ON (a.priority = d.id) INNER JOIN categories e ON (a.category = e.id) WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#FFFF00'>Enviado</span>" : "<span style='color:#000033'>Respondido</span>";
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>Email: <b>".$row['email']."</b><br>".("Título").": <b>".$row['title']."</b><br>".("Tipo de Serviço").": <b>".$row['nomeTipoServico']."</b><br>".("Versão").": <b>".$row['nomeTipoVersao']."</b><br>".("Prioridade").": <b>".$row['nomePrioridade']."</b><br>".("Categoria").": <b>".$row['nomeCategoria']."</b><br>".("Mensagem").": <b>".nl2br($row['message'])."</b><br>Status: <b>".$status."</b>");
                if ($row['status'] == 2){
                    echo ('<br>Resposta: <b>'.nl2br($row['answer']).'</b>');
                }
                echo ("<br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "anuncie":
                $sql = "SELECT a.*, b.name AS nomeTempo FROM anuncie_aquis a INNER JOIN time_banners b ON (a.tipo_banner = b.id) WHERE a.id = '".$_REQUEST['id']."'";

                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                if (file_exists(DIRETORIO."storage/anuncieAqui".$row['id'].".jpg")){
                    $img = URL."storage/anuncieAqui".$row['id'].".jpg";
                }
                elseif (file_exists(DIRETORIO."storage/anuncieAqui".$row['id'].".gif")){
                    $img = URL."storage/anuncieAqui".$row['id'].".gif";
                }
                elseif (file_exists(DIRETORIO."storage/anuncieAqui".$row['id'].".png")){
                    $img = URL."storage/anuncieAqui".$row['id'].".png";
                }
                elseif (file_exists(DIRETORIO."storage/anuncieAqui".$row['id'].".bmp")){
                    $img = URL."storage/anuncieAqui".$row['id'].".bmp";
                }
                elseif (file_exists(DIRETORIO."storage/anuncieAqui".$row['id'].".webp")){
                    $img = URL."storage/anuncieAqui".$row['id'].".webp";
                }
                $status = ($row['status'] == 1) ? "<span style='color:#FFFF00'>Enviado</span>" : "<span style='color:#000033'>Respondido</span>";
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>Email: <b>".$row['email']."</b><br>".("Assunto").": <b>".$row['subject']."</b><br>".("Telefone").": <b>".$row['phone']."</b><br>".("Mensagem").": <b>".nl2br($row['text'])."</b><br>Status: <b>".$status."</b>");
                if ($row['status'] == 2){
                    echo ('<br>Resposta: <b>'.nl2br($row['answer']).'</b>');
                }
                if ($img){
                    echo "<br>Banner: <img src='".$img."' width='100%'>";
                }
                echo ("<br>Nome do Banner: <b>".$row['nome_banner']."</b><br>Link do Banner: <b>".$row['link_banner']."</b><br>Target do Banner: <b>");
                if ($row['target_banner'] == "1"){
                    echo "Na mesma página";
                }
                else{
                    echo "Em nova Página";
                }
                echo "</b><br>Posição do Banner: <b>";
                if ($row['posicao_banner'] == "1"){
                    echo "Banner Popup";
                }
                else{
                    echo "Banner Meio Página";
                }
                echo "</b><br>Tempo do Banner: <b>";
                echo ($row['nomeTempo']."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "faleConosco":
                $sql = "SELECT a.* FROM messages a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#FFFF00'>Enviado</span>" : "<span style='color:#000033'>Respondido</span>";
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>Email: <b>".$row['email']."</b><br>".("Assunto").": <b>".$row['subject']."</b><br>".("Telefone").": <b>".$row['phone']."</b><br>".("Mensagem").": <b>".nl2br($row['text'])."</b><br>Status: <b>".$status."</b>");
                if ($row['status'] == 2){
                    echo ('<br>Resposta: <b>'.nl2br($row['answer']).'</b>');
                }
                echo ("<br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "avaliacoes":
                $sql = "SELECT a.* FROM avaliations a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                if ($row['status'] == 0){
                    $status = "<span style='background-color:#FFFF00; color:#000000; padding:5px'>Enviado</span>";
                }
                elseif ($row['status'] == 1){
                    $status = "<span style='background-color:#003300; color:#000000; padding:5px'>Respondido</span>"; 
                }
                else{
                    $status = "<span style='background-color:#000033; color:#FFFFFF; padding:5px'>Publicado</span>";
                }
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>Email: <b>".$row['email']."</b><br>".("Avaliação").": <b>");
                for ($i = 1; $i <= $row['avaliacao']; $i++){
                    echo "<img src='".URL."img/star.png' width='18' title='Nota ".$row['avaliacao']."'> ";
                }
                if ($row['avaliacao'] < 5){
                    for ($j = $i; $j <= 5; $j++){
                        echo "<img src='".URL."img/starApagada.png' width='18' title='Nota ".$row['avaliacao']."'> ";
                    }
                }
                echo ("</b><br>".("Comentários").": <b>".nl2br($row['coments'])."</b><br>Status: <b>".$status."</b>");
                if ($row['status'] != 0){
                    echo ('<br>Resposta: <b>'.nl2br($row['answer']).'</b>');
                }
                echo ("<br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "statusPedido":
                $sql = "SELECT a.* FROM requests_statuses a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $enviarEmail = ($row['send_email'] == 1) ? "<span style='color:#000033'>Sim</span>" : "<span style='color:#FF0000'>Não</span>";
                $displayEmail = ($row['send_email'] == 1) ? "" : "none";
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>";
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo "1|-|Nome: <b>".($row['name'])."</b><br>Sigla: <b>".$row['sigla']."</b><br>Cor da Fonte: <b><span style='width:50px; height:20px; background-color:".$row['color']."; border:1px solid #000000;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b><br>Cor do Background: <b><span style='width:50px; height:20px; background-color:".$row['background']."; border:1px solid #000000;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b><br>Enviar Email: <b>".($enviarEmail)."</b><br><div style='display:".$displayEmail."'>Email: ".nl2br(($row['email']))."</div>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>";
                $artigo = "o";
                break;
            case "tiposDocumento":
                $sql = "SELECT a.* FROM type_documents a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "clientes":
                $sql = "SELECT a.*, b.name, b.cpf, b.rg, b.dtNasc, b.cel, c.razaoSocial, c.nomeFantasia, c.contato, c.cnpj, c.ie, c.im, c.dataAbertura, c.cel AS celular, c.telefone, d.name AS nacionalidade, e.name AS nacionalidadeEmpresa FROM clients a LEFT JOIN pessoa_fisicas b ON (a.id = b.client) LEFT JOIN pessoa_juridicas c ON (a.id = c.client) LEFT JOIN nationalities d ON (b.nationality = d.id) LEFT JOIN nationalities e ON (c.nationality = e.id) WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet2 = explode('-', $row['dtNasc']);
                $row['dtNasc'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]);
                $vet2 = explode('-', $row['dataAbertura']);
                $row['dataAbertura'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]);
                if ($row['type_person'] == 'F') {
                    echo ("1|-|Tipo de Pessoa: <b>".("Física")."</b><br>Nome: <b>" . utf8_decode($row['name']) . "</b><br>CPF: <b>" . $row['cpf'] . "</b><br>RG: <b>" . $row['rg'] . "</b><br>Nacionalidade: <b>" . ($row['nacionalidade']) . "</b><br>Data de Nascimento: <b>" . $row['dtNasc'] . "</b><br>Celular: <b>" . $row['cel'] . "</b><br>Email: <b>" . $row['email'] . "</b><br>Data de Cadastro: <b>" . $row['created_at'] . "</b><br>" . ("Data de Atualização") . ": <b>" . $row['updated_at'] . "</b>");
                }
                else{
                    echo ("1|-|Tipo de Pessoa: <b>".("Jurídica")."</b><br>".("Razão Social").": <b>" . utf8_decode($row['razaoSocial']) . "</b><br>Nome Fantasia: <b>" . utf8_decode($row['nomeFantasia']) . "</b><br>Nome do Contato: <b>" . utf8_decode($row['contato']) . "</b><br>CNPJ: <b>" . $row['cnpj'] . "</b><br>".("Inscrição Estadual").": <b>" . $row['ie'] . "</b><br>".("Inscrição Municipal").": <b>" . $row['im'] . "</b><br>Nacionalidade da Empresa: <b>".($row['nacionalidadeEmpresa'])."</b><br>Data de Abertura: <b>" . $row['dataAbertura'] . "</b><br>Telefone: <b>" . $row['telefone'] . "</b><br>Celular: <b>" . $row['celular'] . "</b><br>Email: <b>" . $row['email'] . "</b><br>Data de Cadastro: <b>" . $row['created_at'] . "</b><br>" . ("Data de Atualização") . ": <b>" . $row['updated_at'] . "</b>");
                }
                $artigo = "o";
                break;
            case "tiposProduto":
                $sql = "SELECT a.* FROM types_products a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "produto":
                $sql = "SELECT a.*, b.email, c.name AS nomeCliente, d.razaoSocial, d.contato FROM products a LEFT JOIN clients b ON (a.client = b.id) LEFT JOIN pessoa_fisicas c ON (b.id = c.client) LEFT JOIN pessoa_juridicas d ON (b.id = d.client) WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                switch ($row['status']){
                    case "0":
                        $status = "<span style='color:#FF0000'>Inativo</span>";
                        break;
                    case "1":
                        $status = "<span style='color:#000033'>Ativo</span>";
                        break;
                    case "2":
                        $status = "<span style='color:#ffa100'>Em Aprovação</span>";
                        break;
                    case "3":
                        $status = "<span style='color:#FF0000'>Reprovado</span>";
                        break;
                }
                $apareceVitrine = ($row['apareceVitrine'] == 1) ? "<span style='color:#000033'>Sim</span>" : "<span style='color:#FF0000'>Não</span>";
                $destaque = ($row['destaque'] == 1) ? "<span style='color:#000033'>Sim</span>" : "<span style='color:#FF0000'>Não</span>";
                $promocao = ($row['promocao'] == 1) ? "<span style='color:#000033'>Sim</span>" : "<span style='color:#FF0000'>Não</span>";
                $compreAgora = ($row['compreAgora'] == 1) ? "<span style='color:#000033'>Sim</span>" : "<span style='color:#FF0000'>Não</span>";
                $itemRecomendado = ($row['itemRecomendado'] == 1) ? "<span style='color:#000033'>Sim</span>" : "<span style='color:#FF0000'>Não</span>";
                $freteGratis = ($row['freteGratis'] == 1) ? "<span style='color:#000033'>Sim</span>" : "<span style='color:#FF0000'>Não</span>";
                $mostraCarrinho = ($row['mostraCarrinho'] == 1) ? "<span style='color:#000033'>Sim</span>" : "<span style='color:#FF0000'>Não</span>";
                $valorContaParaOFrete = ($row['valorContaParaOFrete'] == 1) ? "<span style='color:#000033'>Sim</span>" : "<span style='color:#FF0000'>Não</span>";
                $apareceLateralEsquerda = ($row['apareceLateralEsquerda'] == 1) ? "<span style='color:#000033'>Sim</span>" : "<span style='color:#FF0000'>Não</span>";
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".($row['name'])."</b><br>".("Descrição").": <b>".($row['description'])."</b><br>Aparece Vitrine: <b>".$apareceVitrine."</b><br>Destaque: <b>".$destaque."</b><br>");
                echo ("Promoção: <b>".$promocao."</b><br>Compre Agora: <b>".$compreAgora."</b><br>Item Recomendado: <b>".$itemRecomendado."</b><br>Frete Grátis: <b>".$freteGratis."</b><br>Mostra no Carrinho: <b>".$mostraCarrinho."</b><br>Valor conta para o Frete: <b>".$valorContaParaOFrete."</b><br>Aparece na Lateral Esquerda: <b>".$apareceLateralEsquerda."</b>");
                if ($row['email']){
                    $nomeCliente = ($row['nomeCliente']) ? $row['nomeCliente'] : $row['razaoSocial']." - ".$row['contato'];
                    echo "<br>Cliente que cadastrou: <b>".($nomeCliente." - ".$row['email'])."</b>";
                }
                if (file_exists(DIRETORIO."storage/".$row['img'])){
                    echo "<br>Background: <img src='".URL."storage/".$row['img']."' width='100%'>";
                }
                echo ("<br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "comentarioProduto":
                $sql = "SELECT a.*, b.name AS nomeProduto FROM products_reviews a INNER JOIN products b ON (a.product = b.id) WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Aprovado</span>" : "<span style='color:#FF0000'>Não Aprovado</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: do Comentarista <b>".($row['nome'])."</b><br>Email: <b>".$row['email']."</b><br>".("Avaliação").": <b>");
                for ($i = 1; $i <= $row['avaliacao']; $i++){
                    echo "<img src='".URL."img/star.png' title='Avaliação: ".$row['avaliacao']."'>";
                }
                if ($row['avaliacao'] < 5){
                    for ($i = $row['avaliacao'] + 1; $i <= 5; $i++){
                        echo "<img src='".URL."img/starApagada.png' title='Avaliação: ".$row['avaliacao']."'>";
                    }
                }
                echo ("</b><br>".("Comentário").": <b>".str_replace("\r\n", "<br>", ($row['mensagem']))."</b><br>");
                echo ("Status: <b>".($status)."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "formaPagamento":
                $sql = "SELECT a.* FROM payment_methods a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                if (!file_exists(DIRETORIO."storage/".$row['img']) || !$row['img']){
                    $row['img'] = URL."img/noFoto1.gif";
                    $excluirImg = 0;
                }
                else{
                    $row['img'] = URL."storage/".$row['img'];
                    $excluirImg = 1;
                }
                echo ("1|-|Nome: <b>".($row['name'])."</b><br>".("Valor da Parcela Mínima").": <b>R$ ".number_format($row['vlParcelaMinima'], 2, ',', '.')."</b><br>Parcelas: <b>".$row['parcelas']."</b><br>");
                if ($excluirImg) {
                    echo "Imagem: <img src='" . $row['img'] . "' width='150'><input type='button' value='Excluir Imagem' class='btn btn-danger' onclick=excluirImg('formaPagamento','" . $row['id'] . "','" . URL . "','" . $_REQUEST['idUser'] . "','a')><br>";
                }
                echo ("Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "a";
                break;
            case "formaFrete":
                $sql = "SELECT a.* FROM shipping_methods a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativa</span>" : "<span style='color:#FF0000'>Inativa</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>".("Valor Adicional").": <b>R$ ".number_format($row['value'], 2, ',', '.')."</b><br>".("Código").": <b>".$row['code']."</b><br>Status: <b>".$status."</b><br>");
                echo ("Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "a";
                break;
            case "posicao":
                $sql = "SELECT a.* FROM positions a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>");
                echo ("Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "a";
                break;            
            case "tempoBanner":
                $sql = "SELECT a.* FROM time_banners a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".($row['name'])."</b><br>Número de Dias: <b>".$row['days']."</b><br>");
                echo ("Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "target":
                $sql = "SELECT a.* FROM targets a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name'])."</b><br>Código: <b>".$row['code']."</b><br>";
                echo ("Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "a";
                break;  
            case "banner":
                $sql = "SELECT a.*, b.name AS nomePosicao, c.name AS nomeTarget, d.name AS nomeTipo, e.name AS nomeBanner, f.name AS nomePagina, g.name AS nomeSubitem,
                h.name AS nomeCategoria, i.name AS nomeMarca , j.name AS nomeSelo, k.name AS nomeSugestao, l.name AS nomeRelacionamento, m.name AS nomeProduto, 
                n.name AS nomeParceiro
                FROM banners a 
                LEFT JOIN positions b ON (a.position = b.id) 
                LEFT JOIN targets c ON (a.target = c.id) 
                LEFT JOIN modules d ON (a.tipo = d.id) 
                LEFT JOIN banners e ON (a.qual = e.id) 
                LEFT JOIN pages f ON (a.qual = f.id) 
                LEFT JOIN subitems g ON (a.qual = g.id) 
                LEFT JOIN categories h ON (a.qual = h.id) 
                LEFT JOIN brands i ON (a.qual = i.id) 
                LEFT JOIN stamps j ON (a.qual = j.id) 
                LEFT JOIN suggestions k ON (a.qual = k.id) 
                LEFT JOIN relationships l ON (a.qual = l.id) 
                LEFT JOIN products m ON (a.qual = m.id) 
                LEFT JOIN partners n ON (a.qual = n.id) 
                WHERE a.id = '".$_REQUEST['id']."'";                
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                if ($row['nomeTipo']){
                    $nomeTipo = $row['nomeTipo'];
                }
                else{
                    $nomeTipo = "Todos";
                }
                if ($row['tipo'] == 14){ 
                    $nomeQual = $row['nomeBanner'];
                    $artigo = "o";
                }
                elseif ($row['tipo'] == 15){ 
                    $nomeQual = $row['nomePagina'];
                    $artigo = "a";
                }
                elseif ($row['tipo'] == 16){  
                    $nomeQual = $row['nomeSubitem'];
                    $artigo = "o";
                }
                elseif ($row['tipo'] == 18){         
                    $nomeQual = $row['nomeCategoria'];
                    $artigo = "a";
                }
                elseif ($row['tipo'] == 19){           
                    $nomeQual = $row['nomeMarca'];
                    $artigo = "a";
                }
                elseif ($row['tipo'] == 20){ 
                    $nomeQual = $row['nomeSelo'];
                    $artigo = "o";
                }
                elseif ($row['tipo'] == 43){          
                    $nomeQual = $row['nomeSugestao'];
                    $artigo = "a";
                }
                elseif ($row['tipo'] == 44){ 
                    $nomeQual = $row['nomeRelacionamento'];
                    $artigo = "o";
                }              
                elseif ($row['tipo'] == 45){ 
                    $nomeQual = $row['nomeProduto'];
                    $artigo = "o";
                }
                elseif ($row['tipo'] == 49){           
                    $nomeQual = $row['nomePartners'];
                    $artigo = "o";
                }
                $nomeTipo = $row['nomeTipo']; 
                if (!isset($row['nomeTipo']) || $row['nomeTipo'] == ""){
                    $nomeTipo = "Todos";
                }
                if (!isset($nomeQual) && !$nomeQual){
                    $nomeQual = "Todos";
                }
                if (!file_exists(DIRETORIO."storage/".$row['img']) || !$row['img']){
                    $row['img'] = URL."img/noFoto1.gif";
                    $excluirImg = 0;
                }
                else{
                    $row['img'] = URL."storage/".$row['img'];
                    $excluirImg = 1;
                }
                echo ("1|-|Nome: <b>".($row['name'])."</b><br>".("Descrição").": <b>".($row['description'])."</b><br>".('Posição: ')."<b>".$row['nomePosicao']."</b><br>");
                if ($excluirImg) {
                    echo "Imagem: <img src='" . $row['img'] . "' width='150'><input type='button' value='Excluir Imagem' class='btn btn-danger' onclick=excluirImg('banner','" . $row['id'] . "','" . URL . "','" . $_REQUEST['idUser'] . "','o')><br>";
                }
                if ($row['link']){
                    echo "Link: <b><a href='".$row['link']."' target='_blank'>".$row['link']."</a></b><br>";
                }
                if ($row['target']){
                    if ($row['target'] == "_blank"){
                        $row['target'] = "Em uma nova aba";
                    }
                    else{
                        $row['target'] = "Na mesma aba";
                    }
                    echo "Abertura do Link: <b>".$row['target']."</b><br>";
                }
                echo "Aparece em qual tipo: <b>".$nomeTipo."</b><br>Qual: <b>".$nomeQual."</b><br>Exibições".(": <b>".$row['exibitions']."</b><br>Cliques: <b>".$row['clicks']."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "feriados":
                $sql = "SELECT a.* FROM holidays a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode('-', $row['date']);
                $row['date'] = ($vet[2]."/".$vet[1]."/".$vet[0]);
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>".("Data").": <b>".$row['date']."</b><br>");
                echo ("Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "comentariosFeriados":
                $sql = "SELECT a.*, b.name AS nomeFeriado, c.name AS nomeCliente, d.nomeFantasia, d.contato 
                FROM holidays_coments a 
                INNER JOIN holidays b ON (a.holiday = b.id) 
                LEFT JOIN pessoa_fisicas c ON (a.client = c.client)
                LEFT JOIN pessoa_juridicas d ON (a.client = d.client) 
                WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#999900'>Pendente</span>" : "<span style='color:#000033'>Publicado</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode('-', $row['date']);
                $row['date'] = ($vet[2]."/".$vet[1]."/".$vet[0]);
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome / ID do Feriado: <b>".$row['nomeFeriado']." / ".$row['holiday']."</b><br>".("Nome / ID do Cliente").": <b>");
                if ($row['nomeCliente']){
                    echo ($row['nomeCliente']." / ".$row['client']);
                }
                else{
                    echo ($row['nomeFantasia']." - ".$row['contato']." / ".$row['client']);
                }
                echo ("</b><br>Avaliação: ");
                for ($i = 1; $i <= $row['avaliacao']; $i++){
                    echo "<img src='".URL."img/star.png' width='25' title='Nota ".$row['avaliacao']."'> ";
                }
                if ($row['avaliacao'] < 5){
                    for ($j = $row['avaliacao']; $j <= 5; $j++){
                        echo "<img src='".URL."img/starApagada.png' width='25' title='Nota ".$row['avaliacao']."'> ";
                    }
                }
                echo ("<br>Comentário: <b>".($row['coment'])."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "parceiros":
                $sql = "SELECT a.* FROM partners a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".($row['name'])."</b><br>".("Descrição").": <b>".($row['description'])."</b><br>".("Link").": <b>".$row['link']."</b><br>".("Cliques").": <b>".$row['cliques']."</b><br>");
                echo ("Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "nacionalidade":
                $sql = "SELECT a.* FROM nationalities a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".($row['name'])."</b><br>");
                echo ("Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "a";
                break;
            case "pais":
                $sql = "SELECT a.* FROM countries a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>");
                echo ("Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "redesSociais":
                $sql = "SELECT a.* FROM social_networks a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                if (!file_exists(DIRETORIO."storage/".$row['img']) || !$row['img']){
                    $row['img'] = URL."img/noFoto1.gif";
                    $excluirImg = 0;
                }
                else{
                    $row['img'] = URL."storage/".$row['img'];
                    $excluirImg = 1;
                }
                if ($row['position'] == 1){
                    $row['position'] = "Banner Topo";
                }
                echo ("1|-|Nome: <b>".($row['name'])."</b><br>".("Descrição").": <b>".($row['description'])."</b><br>".('Link: ')."<b>".$row['link']."</b><br>");
                if ($excluirImg) {
                    echo "Imagem: <img src='" . $row['img'] . "' width='150'><input type='button' value='Excluir Imagem' class='btn btn-danger' onclick=excluirImg('social_network','" . $row['id'] . "','" . URL . "','" . $_REQUEST['idUser'] . "','a')><br>";
                }
                echo ("Cliques: <b>".$row['cliques']."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "marcas":
                $sql = "SELECT a.* FROM brands a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                if (!file_exists(DIRETORIO."storage/".$row['img']) || !$row['img']){
                    $row['img'] = URL."img/noFoto1.gif";
                    $excluirImg = 0;
                }
                else{
                    $row['img'] = URL."storage/".$row['img'];
                    $excluirImg = 1;
                }
                if ($row['position'] == 1){
                    $row['position'] = "Banner Topo";
                }
                echo ("1|-|Nome: <b>".($row['name'])."</b><br>".("Descrição").": <b>".($row['description'])."</b><br>");
                if ($excluirImg) {
                    echo "Imagem: <img src='" . $row['img'] . "' width='150'><input type='button' value='Excluir Imagem' class='btn btn-danger' onclick=excluirImg('banner','" . $row['id'] . "','" . URL . "','" . $_REQUEST['idUser'] . "','o')><br>";
                }
                echo ("Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "a";
                break;
            case "selos":
                $sql = "SELECT a.* FROM stamps a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                if (!file_exists(DIRETORIO."storage/".$row['img']) || !$row['img']){
                    $row['img'] = URL."img/noFoto1.gif";
                    $excluirImg = 0;
                }
                else{
                    $row['img'] = URL."storage/".$row['img'];
                    $excluirImg = 1;
                }
                echo ("1|-|Nome: <b>".($row['name'])."</b><br>".("Descrição").": <b>".($row['description'])."</b><br>");
                if ($excluirImg) {
                    echo "Imagem: <img src='" . $row['img'] . "' width='150'><input type='button' value='Excluir Imagem' class='btn btn-danger' onclick=excluirImg('selo','" . $row['id'] . "','" . URL . "','" . $_REQUEST['idUser'] . "','o')><br>";
                }
                echo ("Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "sugestoes":
                $sql = "SELECT a.* FROM suggestions a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                if (!file_exists(DIRETORIO."storage/".$row['img']) || !$row['img']){
                    $row['img'] = URL."img/noFoto1.gif";
                    $excluirImg = 0;
                }
                else{
                    $row['img'] = URL."storage/".$row['img'];
                    $excluirImg = 1;
                }
                echo ("1|-|Nome: <b>".($row['name'])."</b><br>".("Descrição").": <b>".($row['description'])."</b><br>");
                if ($excluirImg) {
                    echo "Imagem: <img src='" . $row['img'] . "' width='150'><input type='button' value='Excluir Imagem' class='btn btn-danger' onclick=excluirImg('selo','" . $row['id'] . "','" . URL . "','" . $_REQUEST['idUser'] . "','o')><br>";
                }
                echo ("Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "a";
                break;
            case "pagina":
                $sql = "SELECT a.* FROM pages a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
				$sql = "SELECT * FROM pages_descriptions WHERE page = '".$_REQUEST['id']."' ORDER BY num ASC";
				$query2 = mysqli_query($con, $sql);
				if (mysqli_num_rows($query2)){
					while ($row2 = mysqli_fetch_array($query2)){
						$descricao[$row2['num']] = $row2['text'];
					}
				}
                $apareceMenu = ($row['appearsMenu'] == 1) ? "<span style='color:#000033'>Sim</span>" : "<span style='color:#FF0000'>Não</span>" ;
                $apareceSite = ($row['appearsSite'] == 1) ? "<span style='color:#000033'>Sim</span>" : "<span style='color:#FF0000'>Não</span>" ;
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                if (!file_exists(DIRETORIO."storage/".$row['img']) || !$row['img']){
                    $row['img'] = URL."img/noFoto1.gif";
                    $excluirImg = 0;
                }
                else{
                    $row['img'] = URL."storage/".$row['img'];
                    $excluirImg = 1;
                }
                if ($row['position'] == 1){
                    $row['position'] = "Banner Topo";
                }
                echo ("1|-|Nome: <b>".($row['name'])."</b><br>".("Subtítulo").": <b>".($row['subname'])."</b><br>");
                if ($excluirImg) {
                    echo "Imagem: <img src='" . $row['img'] . "' width='150'><input type='button' value='Excluir Imagem' class='btn btn-danger' onclick=excluirImg('pagina','" . $row['id'] . "','" . URL . "','" . $_REQUEST['idUser'] . "','a')><br>";
                }
                echo ("Aparece no Menu: <b>".($apareceMenu)."</b><br>Aparece no Site: <b>".($apareceSite)."</b><br>Status: <b>".$status."</b><br>");
				$i = 1;
				if (count($descricao)){
					foreach ($descricao as $key => $value){
						echo "Descrição ".$i.": <b>".($value)."</b><br>";
						$i++;
					}
				}
				echo ("Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "a";
                break;
            case "backgrounds":
                $sql = "SELECT a.* FROM backgrounds a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                if (!file_exists(DIRETORIO."storage/".$row['img']) || !$row['img']){
                    $row['img'] = URL."img/noFoto1.gif";
                    $excluirImg = 0;
                }
                else{
                    $row['img'] = URL."storage/".$row['img'];
                    $excluirImg = 1;
                }
                echo ("1|-|Nome: <b>".($row['name'])."</b><br>");
                if ($excluirImg) {
                    echo "Imagem: <img src='" . $row['img'] . "' width='150'><input type='button' value='Excluir Imagem' class='btn btn-danger' onclick=excluirImg('pagina','" . $row['id'] . "','" . URL . "','" . $_REQUEST['idUser'] . "','a')><br>";
                }
				echo ("Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "a";
                break;
            case "convidado":
                $sql = "SELECT a.* FROM presents_lists_guests a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                if ($row['send_email_at']) {
                    $vet = explode(' ', $row['send_email_at']);
                    $vet2 = explode('-', $vet[0]);
                    $row['send_email_at'] = ($vet2[2] . "/" . $vet2[1] . "/" . $vet2[0] . " às " . $vet[1] . "h");
                }
                else{
                    $row['send_email_at'] = "Não enviado";
                }
                echo "1|-|<div style='position:absolute; float:left; left:95%; cursor:pointer;' onclick=$('#visualizacaoConvidado').hide('fast')>&times</div><h3>Visualização de Convidado</h3>Nome: <b>".($row['name'])."</b><br>".("Email").": <b>".$row['email']."</b><br>".("Celular").": <b>".$row['cel']."</b><br>";
                echo "Email enviado em: <b>".$row['send_email_at']."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b><div style='text-align:right'><button class='btn btn-secondary' onclick=fecha('visualizacaoConvidado')>Fechar</div>";
                $artigo = "o";
                break;
            case "subitem":
                $sql = "SELECT a.*, b.name AS nomePagina FROM subitems a INNER JOIN pages b ON (a.page = b.id) WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $apareceImagem = ($row['appearsImg'] == 1) ? "<span style='color:#000033'>Sim</span>" : "<span style='color:#FF0000'>Não</span>";
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                if (!file_exists(DIRETORIO."storage/".$row['img']) || !$row['img']){
                    $row['img'] = URL."img/noFoto1.gif";
                    $excluirImg = 0;
                }
                else{
                    $row['img'] = URL."storage/".$row['img'];
                    $excluirImg = 1;
                }
                if ($row['position'] == 1){
                    $row['position'] = "Banner Topo";
                }
                echo ("1|-|".("Página").": <b>".($row['nomePagina'])."</b><br>Nome: <b>".($row['name'])."</b><br>".("Subtítulo").": <b>".($row['subname'])."</b><br>".("Descrição").": <b>".($row['description'])."</b><br>");
                if ($excluirImg) {
                    echo "Imagem: <img src='" . $row['img'] . "' width='150'><input type='button' value='Excluir Imagem' class='btn btn-danger' onclick=excluirImg('subitem','" . $row['id'] . "','" . URL . "','" . $_REQUEST['idUser'] . "','o')><br>";
                }
                echo ("Aparece Imagem no ".("Subítem").": <b>".($apareceImagem)."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "tipoServico":
                $sql = "SELECT a.* FROM types_services a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "tipoModulo":
                $sql = "SELECT a.* FROM type_modules a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".($row['name'])."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "modulo":
                $sql = "SELECT a.*, b.name AS nomeTipoModulo FROM modules a INNER JOIN type_modules b ON (a.typeModule = b.id) WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|".("Nome do Tipo Módulo").": <b>".($row['nomeTipoModulo']."</b><br>Nome: <b>".$row['name'])."</b><br>".("Url Amigável").": <b>".$row['slug']."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "prioridade":
                $sql = "SELECT a.* FROM priorities a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>" ;
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "a";
                break;
            case "tipoVersao":
                $sql = "SELECT a.*, b.name AS nomeTipoServico FROM type_versions a INNER JOIN types_services b ON (a.typeService = b.id) WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>";
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|".("Nome do Tipo de Serviço").": <b>".$row['nomeTipoServico']."</b><br>Nome: <b>".$row['name']."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "categorias":
                $sql = "SELECT a.* FROM categories a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                if ($row['idPai']){
                    $sql = "SELECT a.* FROM categories a WHERE a.id = '".$row['idPai']."'";
                    $query = mysqli_query($con, $sql);
                    $row2 = mysqli_fetch_array($query);
                }
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>";
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>");
                if ($row2['name']){
                    echo ($row2['name']." - ");
                }
                echo ($row['name'])."</b>";
                if ($row['img'] && file_exists(DIRETORIO."storage/".$row['img'])){
                    echo "<br>Imagem: <img src='".URL."storage/".$row['img']."' width='100%'>";
                }
                echo "<br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>";
                $artigo = "o";
                break;
            case "parametroSite":
                $sql = "SELECT a.* FROM param_sites a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>";
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>Valor: <b>".($row['value']))."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>";
                $artigo = "o";
                break;
            case "categorias":
                $sql = "SELECT a.* FROM categories a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                if ($row['idPai']){
                    $sql = "SELECT a.* FROM categories a WHERE a.id = '".$row['idPai']."'";
                    $query = mysqli_query($con, $sql);
                    $row2 = mysqli_fetch_array($query);
                }
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>";
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>");
                if ($row2['name']){
                    echo ($row2['name']." - ");
                }
                echo ($row['name']."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "atributos":
                $sql = "SELECT a.* FROM attributes a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                if ($row['idPai']){
                    $sql = "SELECT a.* FROM attributes a WHERE a.id = '".$row['idPai']."'";
                    $query = mysqli_query($con, $sql);
                    $row2 = mysqli_fetch_array($query);
                }
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>";
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>");
                if ($row2['name']){
                    echo ($row2['name']." - ");
                }
                echo ($row['name'])."</b><br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>";
                $artigo = "o";
                break;
            case "relacionamentos":
                $sql = "SELECT a.* FROM relationships a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>";
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>");
                echo ($row['name']."</b>");
                if (file_exists(DIRETORIO."storage/".$row['img']) && $row['img']){
                    echo "<br>Imagem: <img src='".URL."storage/".$row['img']."' width='100%'>";
                }
                echo ("<br>Status: <b>".$status."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "parametroSite":
                $sql = "SELECT a.* FROM param_sites a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>";
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>Valor: <b>".$row['value'])."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>";
                $artigo = "o";
                break;
            case "parametroAdmin":
                $sql = "SELECT a.* FROM param_admins a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $status = ($row['status'] == 1) ? "<span style='color:#000033'>Ativo</span>" : "<span style='color:#FF0000'>Inativo</span>";
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>Valor: <b>".$row['value'])."</b><br>Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>";
                $artigo = "o";
                break;
            case "versao":
                $sql = "SELECT a.* FROM versions a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                if (!file_exists(DIRETORIO."storage/".$row['img'])){
                    $row['img'] = URL."img/noFotoUsuario.png";
                    $excluirImg = 0;
                }
                else{
                    $row['img'] = URL."storage/".$row['img'];
                    $excluirImg = 1;
                }
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode('-', $row['date']);
                $row['data'] = $vet[2]."/".$vet[1]."/".$vet[0];
                echo ("1|-|Nome: <b>".$row['name']."</b><br>".("Descrição")." <b>".$row['description']."</b><br>Data: <b>".$row['data']."</b><br>");
                if ($excluirImg) {
                    echo "Imagem: <img src='" . $row['img'] . "' width='150'><input type='button' value='Excluir Imagem' class='btn btn-danger' onclick=excluirImg('versao','" . $row['id'] . "','" . URL . "','" . $_REQUEST['idUser'] . "','a')><br>";
                }
                echo ("Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "usuarios":
                $sql = "SELECT a.* FROM users a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                if (!file_exists(DIRETORIO."storage/".$row['img'])){
                    $row['img'] = URL."img/user-avatar.svg";
                    $excluirImg = 0;
                }
                else{
                    $row['img'] = URL."storage/".$row['img'];
                    $excluirImg = 1;
                }
                echo ("1|-|Nome: <b>".$row['name']."</b><br>Email: <b>".$row['email']."</b><br>Foto: <img src='");
                if ($excluirImg){
                    echo $row['img'];
                    echo "' width='100'> <a class='btn btn-primary' style='color:#FFFFFF' onclick=excluirImg('usuarios','".$row['id']."','".URL."','".$_SESSION['user']['id']."','a');>Excluir Foto</a><br>";
                }
                else{
                    echo URL."img/noFotoUsuario.png' width='100'><br>";
                }
                echo ("Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
            case "usuariosPre":
                $sql = "SELECT a.* FROM user_pres a WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|Nome: <b>".$row['name']."</b><br>Email: <b>".$row['email']."</b><br>");
                echo ("Data de Cadastro: <b>".$row['created_at']."</b><br>".("Data de Atualização").": <b>".$row['updated_at']."</b>");
                $artigo = "o";
                break;
        }
        $action = "Visualizou ".$artigo." ".$_REQUEST['table']." ".$_REQUEST['id'];
        $sql = "INSERT INTO logs (action, user, created_at, updated_at) VALUES ('".$action."', '".$_REQUEST['idUser']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        break;
     case 'excluirImg':
        unlink(DIRETORIO."storage/".$_REQUEST['table'].$_REQUEST['id'].".jpg");
        unlink(DIRETORIO."storage/".$_REQUEST['table'].$_REQUEST['id'].".gif");
        unlink(DIRETORIO."storage/".$_REQUEST['table'].$_REQUEST['id'].".png");
        unlink(DIRETORIO."storage/".$_REQUEST['table'].$_REQUEST['id'].".bmp");
        unlink(DIRETORIO."storage/".$_REQUEST['table'].$_REQUEST['id'].".svg");
        unlink(DIRETORIO."storage/".$_REQUEST['table'].$_REQUEST['id'].".webp");
        if ($_REQUEST['table'] == 'usuarios'){
            $table = "usuario";
        }
        elseif ($_REQUEST['table'] == 'produto'){
            $table = "produto";
        }
        elseif ($_REQUEST['table'] == 'formaPagamento'){
            $table = "forma de pagamento";
        }
        elseif ($_REQUEST['table'] == 'banner'){
            $table = "banner";
        }
        elseif ($_REQUEST['table'] == 'pagina'){
            $table = "página";
        }
        elseif ($_REQUEST['table'] == 'subitem'){
            $table = "subitem";
        }
        elseif ($_REQUEST['table'] == 'versao'){
            $table = "versao";
        }
        elseif ($_REQUEST['table'] == 'usuario'){
            $table = "usuario";
        }
        elseif ($_REQUEST['table'] == 'selo'){
            $table = "selo";
        }
        elseif ($_REQUEST['table'] == 'social_network'){
            $table = "rede social";
        }
        $action = "Excluiu a imagem d".$_REQUEST['artigo']." ".$table." ".$_REQUEST['id'];
        $sql = "INSERT INTO logs (action, user, created_at, updated_at) VALUES ('".$action."', '".$_REQUEST['idUser']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        echo "1|-|".$_SESSION['user']['id']."|-|".URL."img/user-avatar.svg";
        break;
    case "selecionaCliente":
        $sql = "SELECT a.*, b.name AS nomeCliente, b.cel, b.cpf, b.rg, b.dtNasc, c.razaoSocial, c.nomeFantasia, c.contato, c.cnpj, c.ie, c.im, c.dataAbertura, c.telefone, c.cel AS cel2, d.name AS nacionalidade, e.name AS nacionalidadeEmpresa FROM clients a LEFT JOIN pessoa_fisicas b ON (a.id = b.client) LEFT JOIN pessoa_juridicas c ON (a.id = c.client) LEFT JOIN nationalities d ON (b.nationality = d.id) LEFT JOIN nationalities e ON (c.nationality = e.id) WHERE a.id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $vet = explode('-', $row['dtNasc']);
        $row['dtNasc'] = $vet[2]."/".$vet[1]."/".$vet[0];
        $vet = explode('-', $row['dataAbertura']);
        $row['dataAbertura'] = $vet[2]."/".$vet[1]."/".$vet[0];
        if ($row['type_person'] == 'F') {
            $html = "Nome do Cliente: <b>" . ($row['nomeCliente']) . "</b><br>
                Email do Cliente: <b>" . ($row['email']) . "</b><br>
                Telefone do Cliente: <b>" . ($row['cel']) . "</b><br>
                CPF do Cliente: <b>" . ($row['cpf']) . "</b><br>
                RG do Cliente: <b>" . ($row['rg']) . "</b><br>
                Nacionalidade do Cliente: <b>" . ($row['nacionalidade']) . "</b><br>
                Data de Nascimento do Cliente: <b>" . ($row['dtNasc']) . "</b>";
        }
        else{
            $html = "Razão Social: <b>".$row['razaoSocial']."</b><br>
                Nome Fantasia: <b>" . ($row['nomeFantasia']) . "</b><br>
                Nome do Contato: <b>" . ($row['contato']) . "</b><br>
                Email: <b>" . ($row['email']) . "</b><br>
                CNPJ: <b>" . ($row['cnpj']) . "</b><br>
                Inscrição Estadual: <b>" . ($row['ie']) . "</b><br>
                Inscrição Municipal: <b>" . ($row['im']) . "</b><br>
                Nacionalidade da Empresa: <b>" . ($row['nacionalidadeEmpresa']) . "</b><br>
                Data de Abertura da Empresa: <b>" . ($row['dataAbertura']) . "</b><br>
                Telefone: <b>" . ($row['telefone']) . "</b><br>
                Celular: <b>" . ($row['cel2']) . "</b><br>";
        }
        $sql = "SELECT * FROM addresses WHERE idClient = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $html2 = "<select name='enderecoEditar' id='enderecoEditar' class='form-control' onchange='selecionaEndereco(this.value,\"".URL."\")'><option value=''>Selecione o endereço abaixo corretamente...</option>";
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $html2 .= "<option value='".$row['id']."'>".($row['name'])."</option>";
            }
        }
        $html2 .= "</select><span id='dadosEndereco'>Selecione o endereco acima corretamente!</span>";
        echo "1|-|".($html)."|-|".$html2;
        break;
    case "selecionaEndereco":
        $sql = "SELECT a.*, b.name AS pais FROM addresses a LEFT JOIN countries b ON (a.country = b.id) WHERE a.id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $html = "Nome do Endereço: <b>".($row['name'])."</b><br>
                CEP do Endereço: <b>".($row['cep'])."</b><br>
                Logradouro do Endereço: <b>".($row['address'])."</b><br>
                Número do Endereço: <b>".($row['number'])."</b><br>
                Complemento do Endereço: <b>".($row['complement'])."</b><br>
                Bairro do Endereço: <b>".($row['neighborhood'])."</b><br>
                Cidade do Endereço: <b>".($row['city'])."</b><br>
                Estado do Endereço: <b>".($row['state'])."</b><br>
                País do Endereço: <b>".($row['pais'])."</b>";
        echo "1|-|".($html);
        break;
    case "visualizarVale":
        $sql = "SELECT * FROM vales WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $vet = explode('-', $row['validade']);
        $row['validade'] = $vet[2]."/".$vet[1]."/".$vet[0];
        $html = "<table border='0' style=background-image:url('".URL."img/valePresente.png');background-repeat:no-repeat;width:456px;height:314px><tr><td height='100' colspan='2'>&nbsp;</td></tr><tr><td width='40%'>&nbsp;</td><td style='color:#999999'><h5>Sistema de Teste Gosat</h5><p style='left:50%'><img src='".URL."img/logo.png' width='75'><b>R$".number_format($row['value'], 2, ',', '.')."</b><br>Válido até: <b>".$row['validade']."</b></p><h5 style='text-align:center; padding:5px; margin:none'>".$row['code']."</h5></td></tr></table><sub>* válido para utilização no site <a href='".URL."' target='_blank'>".URL."</a>. Caso seja utilizado em compra de menor valor, o desconto será do valor total da compra. Só é possível a utilização uma vez no nosso site.</sub>";
        echo "1|-|<div style='position:absolute; float:left; left:92%; cursor:pointer' onclick='fecha(\"vale\")'><img src='".URL."img/close.png' width='25'></div>".$html;
        break;
    case "pegaDados":
        switch ($_REQUEST['table']){
            case 'pedido':
                $sql = "SELECT a.*, b.name AS nomeFormaPagamento, c.name AS nomeStatus, c.id AS idStatus, d.type_person, d.email, e.name, e.cpf, e.rg, e.cel, e.dtNasc, f.name AS nomeEndereco, f.cep, f.address AS enderecoCliente, f.number, f.complement, f.neighborhood, f.city, f.state, g.razaoSocial, g.nomeFantasia, g.contato, g.cnpj, g.ie, g.im, g.dataAbertura, g.cel AS cel2, g.telefone, i.codigo, i.tipo, i.valor, i.validade, j.code, j.value AS valorVale, j.validade AS validade2, k.name AS nacionalidade, l.name AS nacionalidadeEmpresa, m.name AS pais
FROM requests a
INNER JOIN payment_methods b ON (a.paymentMethod = b.id)
INNER JOIN requests_statuses c ON (a.status = c.id)
INNER JOIN clients d ON (a.client = d.id)
LEFT JOIN pessoa_fisicas e ON (d.id = e.client)
LEFT JOIN addresses f ON (f.id = a.address)
LEFT JOIN pessoa_juridicas g ON (d.id = g.client)
LEFT JOIN coupon_discounts i ON (a.discount = i.id)
LEFT JOIN vales j ON (a.vale = j.id)
LEFT JOIN nationalities k ON (e.nationality = k.id)
LEFT JOIN nationalities l ON (g.nationality = l.id)
LEFT JOIN countries m ON (f.country = m.id)
WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $vet = explode('-', $row['dtNasc']);
                $row['dtNasc'] = $vet[2]."/".$vet[1]."/".$vet[0];
                $vet = explode('-', $row['dataAbertura']);
                $row['dataAbertura'] = $vet[2]."/".$vet[1]."/".$vet[0];
                $vet = explode(' ', $row['created_at']);
                $vet2 = explode('-', $vet[0]);
                $row['created_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                $vet = explode(' ', $row['updated_at']);
                $vet2 = explode('-', $vet[0]);
                $row['updated_at'] = ($vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h");
                echo ("1|-|<input type='hidden' name='idEdicao' id='idEdicao' value='".$row['id']."'><input type='hidden' name='idUserEdicao' id='idUserEdicao' value='".$_REQUEST['idUser']."'><h5>Dados do Pedido ".sprintf("%012s", $row[0])."</h5>".("Número do Pedido:")." <b>".sprintf("%012s", $row[0])."</b><br>Data do Pedido: <b>".$row['created_at']."</b><br>Status do Pedido: <b><select name='statusEditar' id='statusEditar' class='form-control' onchange='selecionaStatusPedido(this.value)' ");
                if ($row['status'] == 6 || $row['status'] == 7){
                    echo " disabled";
                }
                echo ("><option value=''>Selecione o status do pedido corretamente...</option>");
                $sql = "SELECT * FROM requests_statuses";
                $query2 = mysqli_query($con, $sql);
                if (mysqli_num_rows($query2)){
                    while ($row2 = mysqli_fetch_array($query2)){
                        echo "<option value='".$row2['id']."'";
                        if ($row2['id'] == $row['status']){
                            echo " selected";
                        }
                        echo ">".($row2['name'])."</option>";
                    }
                }
                echo "</select></b><div style='";
                if ($row['status'] != 5 && $row['status'] != 6){
                    echo "display:none";
                }
                echo ("' id='codigoRastreamento'><label for='codRastreamento' style='font-weight:normal'>".("Código de Rastreamento: ")."</label><input type='text' name='codRastreamento' id='codRastreamento' class='form-control' value='".$row['codRastreamento']."'></div><br>".("Forma de Pagamento").": <b><select name='formaPagamentoEditar' id='formaPagamentoEditar' class='form-control'");
                if ($row['status'] > 3){
                    echo "disabled";
                }
                echo ("><option value=''>Selecione a forma de pagamento corretamente...</option>");
                $sql = "SELECT * FROM payment_methods";
                $query2 = mysqli_query($con, $sql);
                if (mysqli_num_rows($query2)){
                    while ($row2 = mysqli_fetch_array($query2)){
                        echo "<option value='".$row2['id']."'";
                        if ($row2['id'] == $row['paymentMethod']){
                            echo " selected";
                        }
                        echo ">".($row2['name'])."</option>";
                    }
                }
                echo ("</select></b>");
                $sql = "SELECT a.*, b.peso, b.altura, b.largura, b.comprimento, b.diametro FROM requests_items a INNER JOIN products_items b ON (a.product_item = b.id) WHERE a.request = '".$row[0]."'";
                $query = mysqli_query($con, $sql);
                $totalItens = mysqli_num_rows($query);
                echo "<h5>Dados do";
                if ($totalItens > 1){
                    echo 's';
                }
                echo " Produto";
                if ($totalItens > 1){
                    echo 's';
                }
                if ($row['status'] <= 3){
                echo " <img src='".URL."img/mais.png' width='25' style='cursor:pointer' onclick=addProdutoPedido('".$row['id']."','".URL."','".$_REQUEST['idUser']."')>";
                }
                echo "<div style='border:1px solid #CCCCCC; width:100%; display:none; position:absolute; background-color: #FFFFFF; border-radius:15px; padding:5px' id='addProdutoPedido'><div style='position:absolute; float:left; left:95%'><img src='".URL."img/close.png' style='cursor:pointer' onclick=$('#addProdutoPedido').hide('fast')></div><h5>Adicionar Produto ao Pedido</h5><div id='adicionaProdutoPedido'></div></div></h5>
                     <table width='100%' cellpadding='0' cellspacing='0' border='0'>
                        <tr>
                            <th width='23%'>Nome do Produto</th>
                            <th width='23%'>Valor do Produto</th>
                            <th width='23%'>Quant.</th>
                            <th width='23%'>Valor Total</th>
                            <th width='8%'></th>
                        </tr>
                        ";
                $produtos = 0;
                $valePresentes = 0;
                while ($rowItens = mysqli_fetch_array($query)){
                    $lista = $rowItens['lista'];
                    echo "<tr";
                    if ($i % 2 == 0){
                        echo " style='background-color:#F7F7F7'";
                    }
                    echo ">
                            <td>".($rowItens['name']);
                    echo "</td>
                            <td>R$ ".number_format($rowItens['value'], 2, ',', '.')."</td>
                            <td>".$rowItens['quantity']."</td>
                            <td>R$ ".number_format($rowItens['value'] * $rowItens['quantity'], 2, ',', '.')."</td>
                            <td>";
                    if ($rowItens['vale']){
                        echo "<img src='" . URL . "img/visualizar.svg' width='20' title='Visualizar Vale' style='cursor:pointer' onclick=visualizarVale('" . $rowItens['vale'] . "','" . URL . "')><div id='vale' style='position:absolute; display:none; width:495px; height:390px; background-color:#FFFFFF; border:1px solid #E7E7E7; border-radius:15px;'>Oi</div>";
                    }
                    if ($row['status'] <= 3) {
                        echo "<img src='" . URL . "img/excluir.png' width='20' title='Excluir Produto' style='cursor:pointer' onclick=excluirProdutoPedido('" . $rowItens['id'] . "','" . URL . "','" . $_REQUEST['idUser'] . "','" . $_REQUEST['id'] . "')>";
                    }
                    echo "</td>
                         </tr>";
                    $i++;
                    if (!preg_match("/Vale Presente/", $rowItens['name'])){
                        $produtos++;
                        $total += $rowItens['value'] * $rowItens['quantity'];
                        $peso += $rowItens['peso'] * $rowItens['quantity'];
                        $altura += $rowItens['altura'] * $rowItens['quantity'];
                        $largura += $rowItens['largura'] * $rowItens['quantity'];
                        $comprimento += $rowItens['comprimento'] * $rowItens['quantity'];
                        $diametro += $rowItens['diametro'] * $rowItens['quantity'];
                    }
                    else{
                        $valePresentes++;
                    }
                }
                echo "<tr>
                            <td colspan='4' style='text-align:right'>Total Carrinho: <b>R$ ".number_format($row['valueSubtotal'], 2, ',','.')."</b></td>
                      </tr>";
                if ($row['descontoAVista'] != '0.00'){
                    echo "
                        <tr>
                            <td colspan='4' style='text-align:right'>Desconto à Vista: <b style='color:#009900'>- R$ ".number_format($row['descontoAVista'], 2, ',','.')."</b></td>
                        </tr>";
                }
                echo "
                      <tr>
                            <td colspan='4' style='text-align:right'>Cupom de Desconto: <b style='color:#003300' id='valorDesconto'>- R$ ".number_format($row['valueDiscount'], 2, ',','.')."</b>  ";
                if ($row['discount']) {
                    echo "<img src='" . URL . "img/informacao.png' width='20' style='cursor:pointer' onclick='abreFecha(\"informacoesCupomDesconto\")'><div id='informacoesCupomDesconto' style='display:none; position:absolute; border:1px solid #e7e7e7; background-color:#FFFFFF; text-align:left; width:100%; border-radius:15px'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick='fecha(\"informacoesCupomDesconto\")'>&times;</div><h3>Informações do Cupom de Desconto</h3>ID do Cupom: <b>".$row['discount'];
                    echo "</b><br>Código do Cupom: <b>" . $row['codigo'];
                    if ($row['tipo'] == 1){
                        $valorCupom = "R$ ".number_format($row['valor'], 2,',','.');
                    }
                    else{
                        $valorCupom = $row['valor']."%";
                    }
                    $vet = explode('-', $row['validade']);
                    $row['validade'] = $vet[2]."/".$vet[1]."/".$vet[0];
                    echo "</b><br>Valor do Cupom: <b>" . $valorCupom . "</b><br>Validade do Cupom: <b>".$row['validade']."</b></div>";
                }
                if ($row['vale']) {
                    echo "<img src='" . URL . "img/informacao.png' width='20' style='cursor:pointer' onclick='abreFecha(\"informacoesValePresente\")'><div id='informacoesValePresente' style='display:none; position:absolute; border:1px solid #e7e7e7; background-color:#FFFFFF; text-align:left; width:100%; border-radius:15px'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick='fecha(\"informacoesValePresente\")'>&times;</div><h3>Informações do Vale Presente</h3>ID do Vale: <b>".$row['vale'];
                    echo "</b><br>Código do Vale: <b>" . $row['code'];
                    $valorCupom = "R$ ".number_format($row['valorVale'], 2,',','.');
                    $vet = explode('-', $row['validade2']);
                    $row['validade'] = $vet[2]."/".$vet[1]."/".$vet[0];
                    echo "</b><br>Valor do Vale: <b>" . $valorCupom . "</b><br>Validade do Vale: <b>".$row['validade']."</b></div>";
                }
                    echo "</td>
                      </tr>
                      <tr>
                    <td colspan='4' style='text-align:right'>Frete: <b style='color:#FF0000' id='valorFrete'>+ R$ ".number_format($row['valueFrete'], 2, ',','.')."</b> <img src='".URL."img/informacao.png' width='20' style='cursor:pointer' onclick='abreFecha(\"informacoesFrete\")'><div id='informacoesFrete' style='display:none; position:absolute; border:1px solid #e7e7e7; background-color:#FFFFFF; text-align:left; width:100%; border-radius:15px'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick='fecha(\"informacoesFrete\")'>&times;</div><h3>Informações do Frete</h3>Tipo de Frete Escolhido: <b>";
                    if ($row['tipoFrete'] == 'Frete_Gratis'){
                        echo "Frete Grátis";
                    }
                    else{
                        echo str_replace("_", " ", $row['tipoFrete']);
                    }
                    echo "</b><br>Prazo para a entrega: <b>".$row['prazoFrete'];
                    if ($row['prazoFrete'] > 1){
                        echo " dias úteis";
                    }
                    else{
                        echo " dia útil";
                    }
                    echo "</b><br>Valor do Frete: <b>R$".number_format($row['valueFrete'], 2, ',','.')."</b><br>";
                    if ($row['status'] <= 3) {
                        echo "<img src='" . URL . "img/mais.png' width='20' style='cursor:pointer' title='Ver todas as informações de frete para o endereço do pedido' onclick='calculaFreteAdminPedido(\"" . $row['cep'] . "\", \"" . $peso . "\", \"" . $altura . "\", \"" . $largura . "\", \"" . $comprimento . "\", \"" . $diametro . "\", \"" . $total . "\", \"" . $produtos . "\", \"" . $valePresentes . "\", \"" . $total . "\", \"" . URL . "\", \"" . $row['tipoFrete'] . "\",\"" . $row['id'] . "\",\"".$row['descontoAVista']."\")'></div><div id='freteAdminPedido' style='position:absolute; display:none; width:100%; background-color:#FFFFFF; border:1px solid #C7C7C7; padding:5px; text-align:center; border-radius:15px'></div>";
                    }
                    echo "</td>
                      </tr>
                      <tr>
                            <td colspan='4' style='text-align:right'>Total: <b style='color:#000033' id='valorTotal'>R$ ".number_format($row['valueTotal'], 2, ',','.')."</b></td>
                      </tr>
                      <tr>
                            <td colspan='4' style='text-align:right'>Parcelamento: <b id='parcelamento'>em ".$row['parcelamento']."X de R$ ".number_format($row['valueTotal'] / $row['parcelamento'], 2, ',','.')."</b></td>
                      </tr>
                     </table>
                     <h5>Dados do Cliente</h5>
                     <select name='clienteEditar' id='clienteEditar' class='form-control' onchange='selecionaCliente(this.value,\"".URL."\")'";
                if ($row['status'] > 3){
                    echo " disabled";
                }
                echo "><option value=''>Selecione o cliente corretamente...</option>";
                $sql = "SELECT a.*, b.name, c.nomeFantasia FROM clients a LEFT JOIN pessoa_fisicas b ON (a.id = b.client) LEFT JOIN pessoa_juridicas c ON (a.id = c.client)";
                $query2 = mysqli_query($con, $sql);
                if (mysqli_num_rows($query2)){
                    while ($row2 = mysqli_fetch_array($query2)){
                        echo "<option value='".$row2['id']."'";
                        if ($row2['id'] == $row['client']){
                            echo " selected";
                        }
                        echo '>';
                        if ($row2['name']){
                            echo utf8_decode($row2['name']);
                        }
                        else{
                            echo utf8_decode($row2['nomeFantasia']);
                        }
                        echo "</option>";
                    }
                }
                echo "</select>
               <span id='dadosCliente'>";
                if ($row['type_person'] == 'F'){
                    echo "Nome do Cliente: <b>".utf8_decode($row['name'])."</b><br>
                    Email do Cliente: <b>".($row['email'])."</b><br>
                    Telefone do Cliente: <b>".($row['cel'])."</b><br>
                    CPF do Cliente: <b>".($row['cpf'])."</b><br>
                    RG do Cliente: <b>".($row['rg'])."</b><br>
                    Nacionalidade do Cliente: <b>".($row['nacionalidade'])."</b><br>
                    Data de Nascimento do Cliente: <b>".($row['dtNasc'])."</b>";
                }
                else{
                    echo "Razão Social: <b>".utf8_decode($row['razaoSocial'])."</b><br>
                    Nome Fantasia: <b>".utf8_decode($row['nomeFantasia'])."</b><br>
                    Nome do Contato: <b>".utf8_decode($row['contato'])."</b><br>
                    Email: <b>".($row['email'])."</b><br>
                    CNPJ: <b>".($row['cnpj'])."</b><br>
                    Inscrição Estadual: <b>".($row['ie'])."</b><br>
                    Inscrição Municipal: <b>".($row['im'])."</b><br>
                    Nacionalidade da Empresa: <b>".($row['nacionalidadeEmpresa'])."</b><br>
                    Data de Abertura da Empresa: <b>".($row['dataAbertura'])."</b><br>
                    Telefone: <b>".($row['telefone'])."</b><br>
                    Celular: <b>".($row['cel2'])."</b>";
                }
                echo "
                </span>
                <h5>Dados do Endereço";
                if ($lista){
                    echo " da Lista";
                }
                echo "</h5>";
                if (!$lista) {
                    echo "<span id = 'enderecos' >
                     <select name='enderecoEditar' id='enderecoEditar' class='form-control' onchange='selecionaEndereco(this.value,\"" . URL . "\")'";
                    if ($row['status'] > 3) {
                        echo " disabled";
                    }
                    echo "><option value=''>Selecione o endereço corretamente...</option>";
                    $sql = "SELECT * FROM addresses WHERE idClient = '" . $row['client'] . "'";
                    $query2 = mysqli_query($con, $sql);
                    if (mysqli_num_rows($query2)) {
                        while ($row2 = mysqli_fetch_array($query2)) {
                            echo "<option value='" . $row2['id'] . "'";
                            if ($row2['id'] == $row['address']) {
                                echo " selected";
                            }
                            echo '>' . ($row2['name']) . "</option>";
                        }
                    }
                    echo "</select>
                    <span id='dadosEndereco'>
                    Nome do Endereço: <b>" . ($row['nomeEndereco']) . "</b><br>
                    CEP do Endereço: <b>" . ($row['cep']) . "</b><br>
                    Logradouro do Endereço: <b>" . ($row['enderecoCliente']) . "</b><br>
                    Número do Endereço: <b>" . ($row['number']) . "</b><br>
                    Complemento do Endereço: <b>" . ($row['complement']) . "</b><br>
                    Bairro do Endereço: <b>" . ($row['neighborhood']) . "</b><br>
                    Cidade do Endereço: <b>" . ($row['city']) . "</b><br>
                    Estado do Endereço: <b>" . ($row['state']) . "</b><br>
                    País do Endereço: <b>" . ($row['pais']) . "</b>
                    </span></span>";
                }
                else{
                    $sql = "SELECT * FROM presents_lists WHERE id = '".$lista."'";
                    $query3 = mysqli_query($con, $sql);
                    $row3 = mysqli_fetch_array($query3);
                    $vet = explode('-', $row3['dataAniversario']);
                    $row3['dataAniversario'] = $vet[2]."/".$vet[1]."/".$vet[0];
                    echo "<span id = 'enderecos'>
                    <span id='dadosEndereco'>
                    Nome da Lista: <b>" . ($row3['nomeAniversariante']) . " - ".$row3['dataAniversario']."</b><br>
                    CEP do Endereço: <b>" . ($row3['cep']) . "</b><br>
                    Logradouro do Endereço: <b>" . ($row3['address']) . "</b><br>
                    Número do Endereço: <b>" . ($row3['number']) . "</b><br>
                    Complemento do Endereço: <b>" . ($row3['complement']) . "</b><br>
                    Bairro do Endereço: <b>" . ($row3['neighborhood']) . "</b><br>
                    Cidade do Endereço: <b>" . ($row3['city']) . "</b><br>
                    Estado do Endereço: <b>" . ($row3['state']) . "</b>
                    </span></span>";
                }
                echo "<h5>Mensagens ";
                if ($row['status'] <= 3){
                    echo "<img src='".URL."img/mais.png' width='25' style='cursor:pointer' onClick='abre(\"addMensagemPedido\")'>";
                }
                echo "</h5>
                <div id='addMensagemPedido' style='display:none; position:absolute; background-color:#FFFFFF; width:100%; border-radius:15px'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick='fecha(\"addMensagemPedido\")'>&times;</div><h5>Adicionar Mensagem ao Pedido</h5><div class='col-3' style='float: left; width:33%'><input type='checkbox' id='msInterna' name='mgInterna'> <label for='msInterna'>Mensagem Interna</label></div><div class='col-3' style='float: left; width:33%'><input type='checkbox' id='msExterna' name='msExterna'> <label for='msExterna'>Mensagem Externa</label></div><div class='col-3' style='float: left; width:33%'><input type='checkbox' id='msEmail' name='msEmail'> <label for='msEmail'>Mensagem de Email</label></div><br><br><br><br><label for='mensagem'>Mensagem</label><textarea class='form-control' name='mensagem' id='mensagem'></textarea><div style='text-align:right'><button class='btn btn-primary' onclick='cadastraMensagemPedido(\"".$row['id']."\",\"".URL."\")'>Cadastrar</button> <button class='btn btn-danger' onclick='fecha(\"addMensagemPedido\")'>Fechar</button></div></div>
                <div id='mensagens'>
                <h5>Mensagens Internas (vista só no admin)</h5>";
                if ($row['msInterna']){
                    echo nl2br(($row['msInterna']));
                }
                else{
                    echo "<span style='color:#FF0000; font-weight:bold'>Sem nenhuma mensagem encontrada!</span>";
                }
                echo "<h5>Mensagens Externas (vista no admin e por usuário)</h5>";
                if ($row['msExterna']){
                    echo nl2br(($row['msExterna']));
                }
                else{
                    echo "<span style='color:#FF0000; font-weight:bold'>Sem nenhuma mensagem encontrada!</span>";
                }
                echo "<h5>Mensagens de Email</h5>";
                if ($row['msEmail']){
                    echo nl2br($row['msEmail']);
                }
                else{
                    echo "<span style='color:#FF0000; font-weight:bold'>Sem nenhuma mensagem encontrada!</span>";
                }
                echo "</div>";
                $artigo = "o";
                break;
            case 'anuncie':
                $sql = "SELECT * FROM anuncie_aquis WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['email']."|-|".$row['status']."|-|".$row['subject']."|-|".$row['phone']."|-|".$row['text']."|-|".$row['answer']."|-|".$row['nome_banner']."|-|".$row['link_banner']."|-|".$row['target_banner']."|-|".$row['posicao_banner']."|-|".$row['tipo_banner']);
                break;
            case 'newsletter':
                $sql = "SELECT * FROM newsletters WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['email']."|-|".$row['status']);
                break;
            case 'presentes':
                $sql = "SELECT * FROM presents_lists_products WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['product']."|-|".$row['product_item']."|-|".$row['quantity']."|-|".$row['id']);
                break;
            case 'convidados':
                $sql = "SELECT * FROM presents_lists_guests WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['name']."|-|".$row['email']."|-|".$row['cel']."|-|".$row['id']);
                break;
            case 'listaPresente':
                $sql = "SELECT * FROM presents_lists WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['nomeAniversariante']."|-|".$row['client']."|-|".$row['dataAniversario']."|-|".$row['nomeMae']."|-|".$row['nomePai']."|-|".$row['idade']."|-|".$row['cep']."|-|".$row['address']."|-|".$row['number']."|-|".$row['complement']."|-|".$row['neighborhood']."|-|".$row['city']."|-|".$row['state']);
                break;
            case 'comentarioProduto':
                $sql = "SELECT * FROM products_reviews WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['nome']."|-|".$row['status']."|-|".$row['email']."|-|".$row['avaliacao']."|-|".br2nl($row['mensagem']));
                break;
            case 'solicitacaoComentario':
                $sql = "SELECT * FROM products_reviews_solicitas WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['nome']."|-|".$row['status']."|-|".$row['email']."|-|".$row['avaliacao']."|-|".($row['mensagem']));
                break;
            case 'backgrounds':
                $sql = "SELECT * FROM backgrounds WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']);
                break;
            case 'cupomDesconto':
                $sql = "SELECT * FROM coupon_discounts WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $row['valor'] = number_format($row['valor'], 2, ',', '.');
                echo ("1|-|".$row['id']."|-|".$row['codigo']."|-|".$row['tipo']."|-|".$row['valor']."|-|".$row['validade']."|-|".$row['utilizavel']);
                break;
            case 'valePresente':
                $sql = "SELECT * FROM vales WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $row['value'] = number_format($row['value'], 2, ',', '.');
                echo ("1|-|".$row['id']."|-|".$row['code']."|-|".$row['value']."|-|".$row['validade']);
                break;
            case 'bugTracking':
                $sql = "SELECT * FROM bug_trackings WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['email']."|-|".$row['status']."|-|".$row['title']."|-|".$row['typeService']."|-|".$row['typeVersion']."|-|".$row['priority']."|-|".$row['category']."|-|".$row['message']."|-|".$row['answer']);
                break;
            case 'faleConosco':
                $sql = "SELECT * FROM messages WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['email']."|-|".$row['status']."|-|".$row['subject']."|-|".$row['phone']."|-|".$row['text']."|-|".$row['answer']);
                break;
            case 'avaliacoes':
                $sql = "SELECT * FROM avaliations WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['email']."|-|".$row['status']."|-|".$row['avaliacao']."|-|".$row['coments']."|-|".$row['answer']);
                break;
            case 'statusPedido':
                $sql = "SELECT * FROM requests_statuses WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['sigla']."|-|".$row['name']."|-|".$row['color']."|-|".$row['background']."|-|".$row['send_email']."|-|".$row['email']);
                break;
            case 'tipoDocumento':
                $sql = "SELECT * FROM type_documents WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']);
                break;
            case 'clientes':
                $sql = "SELECT a.*, b.name, b.cpf, b.rg, b.dtNasc, b.cel AS celular, b.nationality, c.razaoSocial, c.nomeFantasia, c.contato, c.cnpj, c.ie, c.im, c.nationality AS nacionalidadeEmpresa, c.dataAbertura, c.cel, c.telefone FROM clients a LEFT JOIN pessoa_fisicas b ON (a.id = b.client) LEFT JOIN pessoa_juridicas c ON (a.id = c.client) WHERE a.id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                if ($row['name']) {
                    $htmlPessoa = '<label for="nomeEdicao">Nome: </label><input type="text" name="nomeEdicao" id="nomeEdicao" class="form-control" value="'.utf8_decode($row['name']).'" required>
                                   <label for="cpfEdicao">CPF: </label><input type="text" name="cpfEdicao" id="cpfEdicao" class="form-control" value="'.$row['cpf'].'" onkeyup="formataCampo(this, \'###.###.###-##\', event)" maxlength="14" required>
                                   <label for="rgEdicao">RG: </label><input type="text" name="rgEdicao" id="rgEdicao" class="form-control" value="'.$row['rg'].'" required>
                                   <label for="nacionalidadeEdicao">Nacionalidade: </label><select name="nacionalidadeEdicao" id="nacionalidadeEdicao" class="form-control" required>
                                        <option value="">Selecione a nacionalidade corretamente...</option>';
                                   $sql = 'SELECT * FROM nationalities ORDER BY padrao DESC, name ASC';
                                   $query2 = mysqli_query($con, $sql);
                                   if (mysqli_num_rows($query2)){
                                       while ($row2 = mysqli_fetch_array($query2)){
                                           $htmlPessoa .= '<option value="'.$row2['id'].'" ';
                                           if ($row2['id'] == $row['nationality']){
                                               $htmlPessoa .= 'selected';
                                           }
                                           $htmlPessoa .= '>'.($row2['name']).'</option>';
                                       }
                                   }
                                   $htmlPessoa .= '</select>
                                   <label for="dtNascEdicao">Data de Nascimento: </label><input type="date" name="dtNascEdicao" id="dtNascEdicao" class="form-control" value="'.$row['dtNasc'].'" required>
                                   <label for="celEdicao">Celular: </label><input type="text" name="celEdicao" id="celEdicao" class="form-control" value="'.$row['celular'].'" onkeyup="formataCampo(this, \'(XX)XXXXX-XXXX\', event)" maxlength="14" required>';
                }
                else{
                    $htmlPessoa = '<label for="razaoSocialEdicao">'.("Razão Social").': </label><input type="text" name="razaoSocialEdicao" id="razaoSocialEdicao" class="form-control" value="'.utf8_decode($row['razaoSocial']).'" required>
                                   <label for="nomeFantasiaEdicao">Nome Fantasia: </label><input type="text" name="nomeFantasiaEdicao" id="nomeFantasiaEdicao" class="form-control" value="'.utf8_decode($row['nomeFantasia']).'" required>
                                   <label for="contatoEdicao">Contato: </label><input type="text" name="contatoEdicao" id="contatoEdicao" class="form-control" value="'.utf8_decode($row['contato']).'" required>
                                   <label for="cnpjEdicao">CNPJ: </label><input type="text" name="cnpjEdicao" id="cnpjEdicao" class="form-control" value="'.$row['cnpj'].'" onkeyup="formataCampo(this, \'##.###.###/####-##\', event)" maxlength="18" required>
                                   <label for="ieEdicao">'.("Inscrição Estadual").': </label><input type="text" name="ieEdicao" id="ieEdicao" class="form-control" value="'.$row['ie'].'" required><sup>* Informe "ISENTO" caso '.("não").' posssua esse dado.</sup><br>
                                   <label for="imEdicao">'.("Inscrição Municipal").': </label><input type="text" name="imEdicao" id="imEdicao" class="form-control" value="'.$row['im'].'" required><sup>* Informe "ISENTO" caso '.("não").' posssua esse dado.</sup><br>
                                   <label for="nacionalidadeEmpresaEdicao">Nacionalidade: </label>
                                   <select name="nacionalidadeEmpresaEdicao" id="nacionalidadeEmpresaEdicao" class="form-control" required>
                                        <option value="">Selecione a nacionalidade corretamente...</option>';
                                   $sql = 'SELECT * FROM nationalities ORDER BY padrao DESC, name ASC';
                                   $query2 = mysqli_query($con, $sql);
                                   if (mysqli_num_rows($query2)){
                                       while ($row2 = mysqli_fetch_array($query2)){
                                           $htmlPessoa .= '<option value="'.$row2['id'].'" ';
                                           if ($row2['id'] == $row['nacionalidadeEmpresa']){
                                               $htmlPessoa .= 'selected';
                                           }
                                           $htmlPessoa .= '>'.($row2['name']).'</option>';
                                       }
                                   }
                                   $htmlPessoa .= '</select>
                                   <label for="dataAberturaEdicao">Data de Abertura: </label><input type="date" name="dataAberturaEdicao" id="dataAberturaEdicao" class="form-control" value="'.$row['dataAbertura'].'" required>
                                   <label for="telefoneEdicao">Telefone: </label><input type="text" name="telefoneEdicao" id="telefoneEdicao" class="form-control" value="'.$row['telefone'].'" onkeyup="formataCampo(this, \'(XX)XXXX-XXXX\', event)" maxlength="13" required>
                                   <label for="celEdicao">Celular: </label><input type="text" name="celEdicao" id="celEdicao" class="form-control" value="'.$row['cel'].'" onkeyup="formataCampo(this, \'(XX)XXXXX-XXXX\', event)" maxlength="14" required>';
                }
                echo ("1|-|".$row['id']."|-|".$row['email']."|-|".$row['type_person']."|-|".$htmlPessoa);
                break;
            case 'tiposProduto':
                $sql = "SELECT * FROM types_products WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']);
                break;
            case 'produto':
                $sql = "SELECT * FROM products WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $sql = "SELECT * FROM products_brands WHERE product = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row2 = mysqli_fetch_array($query);
                $sql = "SELECT a.*, b.name, b.idPai FROM products_categories a INNER JOIN categories b ON (a.categorie = b.id) WHERE a.product = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                while ($row3 = mysqli_fetch_array($query)){
                    $productCategorie[] = $row3;
                }
                $sql = "SELECT a.* FROM categories a";
                $query = mysqli_query($con, $sql);
                while ($row4 = mysqli_fetch_array($query)){
                    $categories[] = $row4;
                }
                $sql = "SELECT a.* FROM products_suggestions a INNER JOIN suggestions b ON (a.suggestion = b.id) WHERE a.product = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                while ($row5 = mysqli_fetch_array($query)){
                    $products_suggestions[] = $row5;
                }
                $sql = "SELECT a.* FROM suggestions a";
                $query = mysqli_query($con, $sql);
                while ($row6 = mysqli_fetch_array($query)){
                    $suggestions[] = $row6;
                }
                $sql = "SELECT a.* FROM products_stamps a INNER JOIN stamps b ON (a.stamp = b.id) WHERE a.product = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                while ($row7 = mysqli_fetch_array($query)){
                    $products_stamps[] = $row7;
                }
                $sql = "SELECT a.* FROM products_relationships a INNER JOIN relationships b ON (a.relationship = b.id) WHERE a.product = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                while ($row8 = mysqli_fetch_array($query)){
                    $products_relationships[] = $row8;
                }
                $sql = "SELECT a.* FROM products_attributes a INNER JOIN attributes b ON (a.attribute = b.id) WHERE a.product = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                while ($row9 = mysqli_fetch_array($query)){
                    $products_attributes[] = $row9;
                }
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']."|-|".$row['description']."|-|".$row['apareceVitrine']."|-|".$row['destaque']."|-|".$row['compreAgora']."|-|".$row['freteGratis']."|-|".$row['mostraCarrinho']."|-|".$row['valorContaParaOFrete']."|-|".$row2['brand']."|-|");
                if (count($productCategorie)){
                    foreach ($productCategorie as $key => $value){
                        if ($value['idPai'] == 0) {
                            echo $value['categorie']."*|*";
                        }
                    }
                }
                echo "|-|";
                if (count($productCategorie)){
                    foreach ($productCategorie as $key => $value){
                        if ($value['idPai']) {
                            echo $value['categorie']."*|*";
                        }
                    }
                }
                echo "|-|";
                if (count($products_suggestions)){
                    foreach ($products_suggestions as $key => $value){
                        echo $value['suggestion']."*|*";
                    }
                }
                echo "|-|";
                if (count($products_stamps)){
                    foreach ($products_stamps as $key => $value){
                        echo $value['stamp']."*|*";
                    }
                }
                echo "|-|";
                if (count($products_relationships)){
                    foreach ($products_relationships as $key => $value){
                        echo $value['relationship']."*|*";
                    }
                }
                echo "|-|";
                if (count($products_attributes)){
                    foreach ($products_attributes as $key => $value){
                        echo $value['attribute']."*|*";
                    }
                }
                echo "|-|";
                echo URL."estoqueProduto.php?idProduto=".$_REQUEST['id'];
                echo "|-|";
                echo URL."imagensProduto.php?idProduto=".$_REQUEST['id'];
                echo "|-|";
                echo (URL."videosProduto.php?idProduto=".$_REQUEST['id']."|-|".$row['promocao']."|-|".$row['itemRecomendado']."|-|".$row['apareceLateralEsquerda']."|-|".$row['slug']."|-|".$row['ofertaDoDia']."|-|".$row['ofertaEspecial']);
                break;
            case 'formaPagamento':
                $sql = "SELECT * FROM payment_methods WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".number_format($row['vlParcelaMinima'], 2, ',', '.')."|-|".$row['parcelas']."|-|".$row['pagamentoAVista']);
                break;
            case 'formaFrete':
                $sql = "SELECT * FROM shipping_methods WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".number_format($row['value'], 2, ',', '.')."|-|".$row['code']."|-|".$row['status']);
                break;
            case 'posicao':
                $sql = "SELECT * FROM positions WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']);
                break;
            case 'tempoBanner':
                $sql = "SELECT * FROM time_banners WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['days']."|-|".$row['status']);
                break;
            case 'target':
                $sql = "SELECT * FROM targets WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['code']."|-|".$row['status']);
                break;
            case 'banner':
                $sql = "SELECT * FROM banners WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']."|-|".$row['description']."|-|".$row['position']."|-|".$row['link']."|-|".$row['target']."|-|".$row['slug']."|-|".$row['tipo']."|-|".$row['qual']);
                break;
            case 'feriados':
                $sql = "SELECT * FROM holidays WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']."|-|".$row['date']."|-|".$row['comMsg']."|-|".$row['msg']);
                break;
            case 'comentariosFeriados':
                $sql = "SELECT * FROM holidays_coments WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['holiday']."|-|".$row['client']."|-|".$row['coment']."|-|".$row['avaliacao']."|-|".$row['status']);
                break;
            case 'parceiros':
                $sql = "SELECT * FROM partners WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']."|-|".$row['description']."|-|".$row['link']."|-|".$row['cliques']);
                break;
            case 'nacionalidade':
                $sql = "SELECT * FROM nationalities WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".($row['name'])."|-|".$row['status']."|-|".$row['padrao']);
                break;
            case 'pais':
                $sql = "SELECT * FROM countries WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".($row['name'])."|-|".$row['status']."|-|".$row['padrao']);
                break;
            case 'redesSociais':
                $sql = "SELECT * FROM social_networks WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']."|-|".$row['description']."|-|".$row['link']."|-|".$row['cliques']."|-|".$row['slug']);
                break;
            case 'marcas':
                $sql = "SELECT * FROM brands WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']."|-|".$row['description']."|-|".$row['slug']);
                break;
            case 'selos':
                $sql = "SELECT * FROM stamps WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']."|-|".$row['description']."|-|".$row['slug']);
                break;
            case 'sugestoes':
                $sql = "SELECT * FROM suggestions WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']."|-|".$row['description']."|-|".$row['slug']);
                break;
            case 'pagina':
                $sql = "SELECT * FROM pages WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']."|-|".$row['description']."|-|".$row['subname']."|-|".$row['appearsMenu']."|-|".$row['appearsSite']."|-|".$row['slug']."|-|".$row['ordem']);
                break;
            case 'pagina_description':
                $sql = "SELECT * FROM pages_descriptions WHERE page = '".$_REQUEST['id']."' ORDER BY num ASC";
                $query = mysqli_query($con, $sql);
				$total = mysqli_num_rows($query);
                while($row = mysqli_fetch_array($query)){
					$html .= "<label for='tipo".$row['num']."Edicao'>".("Tipo da Descrição")." ".$row['num']."</label>
					<select name='tipo".$row['num']."Edicao' id='tipo".$row['num']."Edicao' class='form-control'>
						<option value=''>Selecione o tipo abaixo corretamente...</option>
						<option value='h1' ";
					if ($row['type'] == 'h1'){
						$html .= "selected";
					}
					$html .= ">Título 1</option>
							<option value='h2' ";
					if ($row['type'] == 'h2'){
						$html .= "selected";
					}
					$html .= ">Título 2</option>
							<option value='h3' ";
					if ($row['type'] == 'h3'){
						$html .= "selected";
					}
					$html .= ">Título 3</option>
							<option value='h4' ";
					if ($row['type'] == 'h4'){
						$html .= "selected";
					}
					$html .= ">Título 4</option>
							<option value='h5' ";
					if ($row['type'] == 'h5'){
						$html .= "selected";
					}
					$html .= ">Título 5</option>
							<option value='p' ";
					if ($row['type'] == 'p'){
						$html .= "selected";
					}
					$html .= ">Parágrafo</option>
					</select>
					<label for='description".$row['num']."Edicao'>".("Descrição")." ".$row['num']."</label>
					<textarea name='description".$row['num']."Edicao' id='description".$row['num']."Edicao' class='form-control'>".($row['text'])."</textarea>
					<img src='".URL."img/excluir.svg' width='20' style='cursor:pointer' onclick=excluirDescricaoPagina('".$row['id']."','".$row['page']."','".URL."')><br>";
				}
				$adiciona = $total + 1;
				$html .= "<div id='addDescricaoEdicao".$adiciona."'><a style='cursor:pointer' onclick=addDescricaoEdicao('".$adiciona."','".URL."')><img src='".URL_SITE."img/plus.png' width='20'> Adicionar ".("Descrição")."</a></div>";
                echo ("1|-|".$total."|-|".$html);
                break;
			case 'produto_description':
                $sql = "SELECT * FROM products_descriptions WHERE product = '".$_REQUEST['id']."' ORDER BY num ASC";
                $query = mysqli_query($con, $sql);
				$total = mysqli_num_rows($query);
                while($row = mysqli_fetch_array($query)){
					$html .= "<label for='tipo".$row['num']."Edicao'>".("Tipo da Descrição")." ".$row['num']."</label>
					<select name='tipo".$row['num']."Edicao' id='tipo".$row['num']."Edicao' class='form-control'>
						<option value=''>Selecione o tipo abaixo corretamente...</option>
						<option value='h1' ";
					if ($row['type'] == 'h1'){
						$html .= "selected";
					}
					$html .= ">Título 1</option>
							<option value='h2' ";
					if ($row['type'] == 'h2'){
						$html .= "selected";
					}
					$html .= ">Título 2</option>
							<option value='h3' ";
					if ($row['type'] == 'h3'){
						$html .= "selected";
					}
					$html .= ">Título 3</option>
							<option value='h4' ";
					if ($row['type'] == 'h4'){
						$html .= "selected";
					}
					$html .= ">Título 4</option>
							<option value='h5' ";
					if ($row['type'] == 'h5'){
						$html .= "selected";
					}
					$html .= ">Título 5</option>
							<option value='p' ";
					if ($row['type'] == 'p'){
						$html .= "selected";
					}
					$html .= ">Parágrafo</option>
					</select>
					<label for='description".$row['num']."Edicao'>".("Descrição")." ".$row['num']."</label>
					<textarea name='description".$row['num']."Edicao' id='description".$row['num']."Edicao' class='form-control'>".($row['text'])."</textarea>
					<img src='".URL."img/excluir.svg' width='20' style='cursor:pointer' onclick=excluirDescricaoProduto('".$row['id']."','".$row['product']."','".URL."')('".$row['id']."','".$row['product']."','".URL."')><br>";
				}
				$adiciona = $total + 1;
				$html .= "<div id='addDescricaoEdicao".$adiciona."'><a style='cursor:pointer' onclick=addDescricaoEdicao('".$adiciona."','".URL."')><img src='".URL_SITE."img/plus.png' width='20'> Adicionar ".("Descrição")."</a></div>";
                echo ("1|-|".$total."|-|".$html);
                break;
            case 'produuto_description':
                $sql = "SELECT * FROM products_descriptions WHERE product = '".$_REQUEST['id']."' ORDER BY num ASC";
                $query = mysqli_query($con, $sql);
				$total = mysqli_num_rows($query);
                while($row = mysqli_fetch_array($query)){
					$html .= "<label for='tipo".$row['num']."Edicao'>".("Tipo da Descrição")." ".$row['num']."</label>
					<select name='tipo".$row['num']."Edicao' id='tipo".$row['num']."Edicao' class='form-control'>
						<option value=''>Selecione o tipo abaixo corretamente...</option>
						<option value='h1' ";
					if ($row['type'] == 'h1'){
						$html .= "selected";
					}
					$html .= ">Título 1</option>
							<option value='h2' ";
					if ($row['type'] == 'h2'){
						$html .= "selected";
					}
					$html .= ">Título 2</option>
							<option value='h3' ";
					if ($row['type'] == 'h3'){
						$html .= "selected";
					}
					$html .= ">Título 3</option>
							<option value='h4' ";
					if ($row['type'] == 'h4'){
						$html .= "selected";
					}
					$html .= ">Título 4</option>
							<option value='h5' ";
					if ($row['type'] == 'h5'){
						$html .= "selected";
					}
					$html .= ">Título 5</option>
							<option value='p' ";
					if ($row['type'] == 'p'){
						$html .= "selected";
					}
					$html .= ">Parágrafo</option>
					</select>
					<label for='description".$row['num']."Edicao'>".("Descrição")." ".$row['num']."</label>
					<textarea name='description".$row['num']."Edicao' id='description".$row['num']."Edicao' class='form-control'>".($row['text'])."</textarea>
					<img src='".URL."img/excluir.svg' width='20' style='cursor:pointer' onclick=excluirDescricaoProduto('".$row['id']."','".$row['product']."','".URL."')><br>";
				}
				$adiciona = $total + 1;
				$html .= "<div id='addDescricaoEdicao".$adiciona."'><a style='cursor:pointer' onclick=addDescricaoEdicao('".$adiciona."','".URL."')><img src='".URL_SITE."img/plus.png' width='20'> Adicionar ".("Descrição")."</a></div>";
                echo ("1|-|".$total."|-|".$html);
                break;
            case 'subitem':
                $sql = "SELECT * FROM subitems WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']."|-|".$row['description']."|-|".$row['subname']."|-|".$row['appearsImg']."|-|".$row['page']."|-|".$row['slug']);
                break;
            case 'tipoServico':
                $sql = "SELECT * FROM types_services WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']);
                break;
            case 'prioridade':
                $sql = "SELECT * FROM priorities WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']);
                break;
            case 'tipoVersao':
                $sql = "SELECT * FROM type_versions WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['typeService']."|-|".$row['name']."|-|".$row['status']);
                break;
            case 'categorias':
                $sql = "SELECT * FROM categories WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['idPai']."|-|".$row['name']."|-|".$row['status']."|-|".$row['slug']."|-|".$row['aparece_menu']);
                break;
            case 'relacionamentos':
                $sql = "SELECT * FROM relationships WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['idPai']."|-|".$row['name']."|-|".$row['status']."|-|".$row['slug']);
                break;
            case 'atributo':
                $sql = "SELECT * FROM attributes WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['idPai']."|-|".$row['name']."|-|".$row['status']);
                break;
            case 'parametroAdmin':
                $sql = "SELECT * FROM param_admins WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['value']."|-|".$row['status']);
                break;
            case 'parametroSite':
                $sql = "SELECT * FROM param_sites WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
		$html .= '<label for="valorEdicao">Valor: </label>';
		if ($row['type'] == 'select'){
		    $html .= '<select name="valorEdicao" name="valorEdicao" class="form-control">
			<option value="0"';
			if (!$row['value']){
			    $html .= "selected";
			}
			$html .= '>Não</option>
			<option value="1"';
			if ($row['value'] == 1){
			    $html .= " selected";
			}
			$html .= '>Sim</option>
		    </select>';
		}
		elseif($row['type'] == 'textarea'){
		    $html .= '<textarea name="valorEdicao" id="valorEdicao" required class="form-control">'.($row['value']).'</textarea>';
		}
		else{
		    $html .= '<input type="'.$row['type'].'" class="form-control" required value="'.($row['value']).'" name="valorEdicao" id="valorEdicao">';
		}
		$row['value'] = $html;
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".($row['value'])."|-|".$row['status']."|-|".$row['type']);
                break;
            case 'versao':
                $sql = "SELECT * FROM versions WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['description']."|-|".$row['date']);
                break;
            case 'tipoModulo':
                $sql = "SELECT * FROM type_modules WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']);
                break;
            case 'modulo':
                $sql = "SELECT * FROM modules WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['status']."|-|".$row['typeModule']."|-|".$row['slug']);
                break;
            case 'usuarios':
                $sql = "SELECT * FROM users WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['email']);
                break;
            case 'usuariosPre':
                $sql = "SELECT * FROM user_pres WHERE id = '".$_REQUEST['id']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['email']);
                break;
        }
        break;
	case "excluirDescricaoPagina":
		$sql = "DELETE FROM pages_descriptions WHERE id = '".$_REQUEST['id']."'";
		mysqli_query($con, $sql);
		$sql = "SELECT * FROM pages_descriptions WHERE page = '".$_REQUEST['page']."' ORDER BY num ASC";
		$query = mysqli_query($con, $sql);
		$i = 1;
		$total = mysqli_num_rows($query);
		if ($total){
			while($row = mysqli_fetch_array($query)){
				$sql = "UPDATE pages_descriptions SET num = '".$i."' WHERE id = '".$row['id']."'";
				mysqli_query($con, $sql);
				$i++;
			}
			$sql = "SELECT * FROM pages_descriptions WHERE page = '".$_REQUEST['page']."' ORDER BY num ASC";
			$query = mysqli_query($con, $sql);
			while ($row = mysqli_fetch_array($query)){
				$html .= "<label for='tipo".$row['num']."Edicao'>".("Tipo da Descrição")." ".$row['num']."</label>
					<select name='tipo".$row['num']."Edicao' id='tipo".$row['num']."Edicao' class='form-control'>
						<option value=''>Selecione o tipo abaixo corretamente...</option>
						<option value='h1' ";
				if ($row['type'] == 'h1'){
					$html .= "selected";
				}
				$html .= ">Título 1</option>
						<option value='h2' ";
				if ($row['type'] == 'h2'){
					$html .= "selected";
				}
				$html .= ">Título 2</option>
						<option value='h3' ";
				if ($row['type'] == 'h3'){
					$html .= "selected";
				}
				$html .= ">Título 3</option>
						<option value='h4' ";
				if ($row['type'] == 'h4'){
					$html .= "selected";
				}
				$html .= ">Título 4</option>
						<option value='h5' ";
				if ($row['type'] == 'h5'){
					$html .= "selected";
				}
				$html .= ">Título 5</option>
						<option value='p' ";
				if ($row['type'] == 'p'){
					$html .= "selected";
				}
				$html .= ">Parágrafo</option>
					</select>
					<label for='description".$row['num']."Edicao'>".("Descrição")." ".$row['num']."</label>
					<textarea name='description".$row['num']."Edicao' id='description".$row['num']."Edicao' class='form-control'>".($row['text'])."</textarea>
					<img src='".URL."img/excluir.svg' width='20' style='cursor:pointer' onclick=excluirDescricaoPagina('".$row['id']."','".$row['page']."','".URL."')><br>";
			}
		}
		$adiciona = $total + 1;
		$html .= "<div id='addDescricaoEdicao".$adiciona."'><a style='cursor:pointer' onclick=addDescricaoEdicao('".$adiciona."','".URL."')><img src='".URL_SITE."img/plus.png' width='20'> Adicionar ".("Descrição")."</a></div>";
		echo ("1|-|".$total."|-|".$html);
		break;
    case "excluir":
        if ($_REQUEST['table'] == 'pages'){
            $sql = "DELETE FROM pages_descriptions WHERE page = '".$_REQUEST['id']."'";
            mysqli_query($con, $sql) or die(mysqli_error($con));
        }
        if ($_REQUEST['table'] == 'clients'){
            $sql = "DELETE FROM pessoa_fisicas WHERE client = '".$_REQUEST['id']."'";
            mysqli_query($con, $sql) or die(mysqli_error($con));
            $sql = "DELETE FROM pessoa_juridicas WHERE client = '".$_REQUEST['id']."'";
            mysqli_query($con, $sql) or die(mysqli_error($con));
        }
        if ($_REQUEST['table'] == 'presents_lists'){
            $sql = "DELETE FROM presents_lists_products WHERE lista = '".$_REQUEST['id']."'";
            mysqli_query($con, $sql) or die(mysqli_error($con));
            $sql = "DELETE FROM presents_lists_guests WHERE lista = '".$_REQUEST['id']."'";
            mysqli_query($con, $sql) or die(mysqli_error($con));
        }
        $sql = "SELECT * FROM ".$_REQUEST['table']." WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        if ($row['img']){
            unlink(DIRETORIO."storage/".$row['img']);
        }
        $sql = "DELETE FROM ".$_REQUEST['table']." WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $acao = "Excluiu ".$_REQUEST['artigo']." ".$_REQUEST['tabela']." ".$_REQUEST['id'];
        $sql = "INSERT INTO logs (action, user, created_at, updated_at) VALUES ('".$acao."', '".$_REQUEST['idUser']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "cadastrarImagem":
        $sql = "INSERT INTO products_images (product, product_item, name, img, status, created_at, updated_at) VALUES ('".$_REQUEST['product']."', '".$_REQUEST['item']."', '".$_REQUEST['name']."', '', '".$_REQUEST['status']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        $query = mysqli_query($con, $sql) or die(mysqli_error($con));
        $_REQUEST['id'] = mysqli_insert_id($con);
        if ($_FILES['imagem']['error'] == 0 && $_FILES['imagem']['tmp_name']){
            if(preg_match("/.jpg/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".jpg";
            }
            elseif(preg_match("/.jpeg/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".jpeg";
            }
            elseif(preg_match("/.gif/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".gif";
            }
            elseif(preg_match("/.png/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".png";
            }
            elseif(preg_match("/.bmp/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".bmp";
            }
            elseif(preg_match("/.svg/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".svg";
            }
            elseif(preg_match("/.webp/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".webp";
            }
            if ($img) {
                copy($_FILES['imagem']['tmp_name'], DIRETORIO."storage/".$img);
                $sql = "UPDATE products_images SET img = '".$img."' WHERE id = '".$_REQUEST['id']."'";
                mysqli_query($con, $sql);
            }
        }
        echo "1";
        break;
    case "cadastrarVideo":
        $sql = "INSERT INTO products_videos (product, name, v, status, created_at, updated_at) VALUES ('".$_REQUEST['product']."', '".$_REQUEST['name']."', '".$_REQUEST['v']."', '".$_REQUEST['status']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        $query = mysqli_query($con, $sql);
        echo "1";
        break;
    case 'pegaSubs':
        $sql = "SELECT a.*, b.name AS nomeDepto FROM categories a INNER JOIN categories b ON (a.idPai = b.id) ";
        $query = mysqli_query($con, $sql);
        $entrou = 0;
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $vet = explode('|-|', $_REQUEST['depto']);
                if (count($vet)){
                    foreach ($vet as $key => $value){
                        $vet2 = explode('*|*', $value);
                        if ($vet2[1] == "true"){
                            if ($vet2[0] == $row['idPai']) {
                                $entrou++;
                                $sql = "SELECT * FROM products_categories WHERE product = '".$_REQUEST['product']."' AND categorie = '".$row['id']."'";
                                $query2 = mysqli_query($con, $sql);
                                $total = mysqli_num_rows($query2);
                                $html .= '<input type="checkbox" name="subdeptoEditar' . $row['id'] . '" id="subdeptoEditar' . $row['id'] . '" ';
                                if ($total == 1){
                                    $html .= "checked";
                                }
                                $html .= '> <label for="subdeptoEditar' . $row['id'] . '">' . ($row['nomeDepto'] . ' - ' . $row['name']) . '</label><br>';
                            }
                        }
                    }
                }
            }
        }
        if (!$entrou){
            $html = "Selecione alguma categoria acima corretamente...";
        }
        echo "1|-|".$html;
        break;
	case 'aprovar':
		switch ($_REQUEST['table']){
			case "products_reviews_solicitas":
				$sql = "SELECT a.*, c.email, d.name, e.nomeFantasia, f.slug
				FROM products_reviews_solicitas a
				INNER JOIN products_reviews b ON (a.id_product_review = b.id)
				LEFT JOIN clients c ON (b.email = c.email)
				LEFT JOIN pessoa_fisicas d ON (c.id = d.client)
				LEFT JOIN pessoa_juridicas e ON (c.id = e.client)
				LEFT JOIN products f ON (b.product = f.id)
				WHERE a.id = '".$_REQUEST['id']."'";
				$query = mysqli_query($con, $sql) or die(mysqli_error($con));
				$row = mysqli_fetch_array($query);
				$sql = "UPDATE products_reviews SET avaliacao = '".$row['avaliacao']."', mensagem = '".($row['mensagem'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id_product_review']."'";
				mysqli_query($con, $sql);
				$sql = "DELETE FROM products_reviews_solicitas WHERE id = '".$_REQUEST['id']."'";
				mysqli_query($con, $sql);
				if ($row['email']){
					$nomeCliente = ($row['name']) ? $row['name'] : $row['nomeFantasia'];
					$assunto = $parametrosSite['title']." - Alteração em Comentário de Produto!";
					$htmlEmail = '<html><head><title>'.$parametrosSite['title'].' - Alteração em Comentário de Produto!</title></head><body><table border="0" width="100%" cellpadding="0" cellspacing="0"><tr><td width="200" valign="top"><img src="'.URL.'img/logo.png" width="100%"></td><td valign="top">Olá <b>'.$nomeCliente.'</b>,<br><br>Esse email é para informar que foi a alteração no comentário de um produto, foi aprovada e já está aparecendo em nosso site.<br><br>Para ver essa comentário, <a href="'.URL.'produto/'.$row['slug'].'">clique aqui</a>.<br><br>Atenciosamente,<br><br>Equipe '.$parametrosSite['title'].'</td></tr></table><hr noshade><center>Email Desenvolvido Pela <a href="https://www.bhcommerce.com.br/">BH Commerce</a></center><hr noshade></body></html>';
                    $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
                    $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
                    //mail(utf8_decode($nomeCliente."<".$row['email'].">"), utf8_decode($assunto), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
                    enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $row['email'], utf8_decode($nomeCliente), utf8_decode($assunto), utf8_decode($htmlEmail));
				}
				echo "1";
				break;
		}
		break;
    case 'verificaNovamente':
        switch ($_REQUEST['tela']) {
            case 'principal':
            case 'index':
                $sql = "SELECT * FROM requests WHERE status = '3'";
                $query = mysqli_query($con, $sql);
                $pedidosAP = mysqli_num_rows($query);;
                $sql = "SELECT * FROM newsletters";
                $query = mysqli_query($con, $sql);
                $newsletter = mysqli_num_rows($query);
                $sql = "SELECT * FROM messages WHERE status = '1'";
                $query = mysqli_query($con, $sql);
                $messages = mysqli_num_rows($query);
                $sql = "SELECT * FROM clients";
                $query = mysqli_query($con, $sql);
                $clients = mysqli_num_rows($query);
                $sql = "SELECT * FROM products_reviews_solicitas";
                $query = mysqli_query($con, $sql);
                $products_reviews_solicita = mysqli_num_rows($query);
                $sql = "SELECT * FROM anuncie_aquis WHERE status = '1'";
                $query = mysqli_query($con, $sql);
                $anuncieAqui = mysqli_num_rows($query);
                $sql = "SELECT * FROM counters WHERE created_at LIKE '".date('Y-m')."%' ORDER BY data DESC";
                $query = mysqli_query($con, $sql);
                $html = '
                    <div class="col-lg-3 col-3">
                        <!-- small box -->
                        <div class="small-box bg-info" style="text-align:center; padding:10px; margin:5px; color:#FFFFFF">
                            <div class="inner">
                                <h1>'.$pedidosAP.'</h1>

                                <p>Pedidos Aguardando Pagamento</p>
                            </div>
                            <div class="icon">
                                <i class="ion ion-edit"></i>
                            </div>
                            <a href="'.URL.'admin/listarPedidos" class="btn btn-primary" style="color:#FFFFFF">Maiores Informações <i class="fas fa-arrow-circle-right"></i></a>
                        </div>
                    </div>
                    <!-- ./col -->
                    <div class="col-lg-3 col-3">
                        <!-- small box -->
                        <div class="small-box bg-success" style="text-align:center; padding:10px; margin:5px; color:#FFFFFF">
                            <div class="inner">
                                <h1>'.$newsletter.'</h1>

                                <p>Cadastros em Newsletter</p>
                            </div>
                            <div class="icon">
                                <i class="ion ion-stats-bars"></i>
                            </div>
                            <a href="'.URL.'admin/newsletter" class="btn btn-primary" style="color:#FFFFFF">Maiores Informações <i class="fas fa-arrow-circle-right"></i></a>
                        </div>
                    </div>
                    <!-- ./col -->
                    <div class="col-lg-3 col-3">
                        <!-- small box -->
                        <div class="small-box bg-warning" style="text-align:center; padding:10px; margin:5px; color:#FFFFFF">
                            <div class="inner">
                                <h1>'.$clients.'</h1>

                                <p>Clientes Cadastrados</p>
                            </div>
                            <div class="icon">
                                <i class="ion ion-person-add"></i>
                            </div>
                            <a href="'.URL.'admin/cliente" class="btn btn-primary" style="color:#FFFFFF">Maiores Informações <i class="fas fa-arrow-circle-right"></i></a>
                        </div>
                    </div>
                    <!-- ./col -->
                    <div class="col-lg-3 col-3">
                        <!-- small box -->
                        <div class="small-box bg-danger" style="text-align:center; padding:10px; margin:5px; color:#FFFFFF">
                            <div class="inner">
                                <h1>'.$messages.'</h1>

                                <p>Fale Conosco à Responder</p>
                            </div>
                            <div class="icon">
                                <i class="ion ion-pie-graph"></i>
                            </div>
                            <a href="'.URL.'admin/faleConosco" class="btn btn-primary" style="color:#FFFFFF">Maiores Informações <i class="fas fa-arrow-circle-right"></i></a>
                        </div>
                    </div>
                    <!-- ./col -->
                    <div class="col-lg-3 col-3">
                        <!-- small box -->
                        <div class="small-box bg-pink" style="text-align:center; padding:10px; margin:5px; color:#FFFFFF">
                            <div class="inner">
                                <h1>'.$anuncieAqui.'</h1>
                                <p>Anuncie Aqui à Responder</p>
                            </div>
                            <div class="icon">
                                <i class="ion ion-code"></i>
                            </div>
                            <a href="'.URL.'admin/anuncie-aqui" class="btn btn-success" style="color:#FFFFFF">Maiores Informações <i class="fas fa-arrow-circle-right"></i></a>
                        </div>
                    </div>
                    <!-- ./col -->
                    <div class="col-lg-3 col-3">
                        <!-- small box -->
                        <div class="small-box bg-primary" style="text-align:center; padding:10px; margin:5px; color:#FFFFFF">
                            <div class="inner">
                                <h1>'.$products_reviews_solicita.'</h1>
                                <p>Solicitações de Comentários de Produto à Aprovar</p>
                            </div>
                            <div class="icon">
                                <i class="ion ion-code"></i>
                            </div>
                            <a href="'.URL.'admin/solicitacaoComentario" class="btn btn-success" style="color:#FFFFFF">Maiores Informações <i class="fas fa-arrow-circle-right"></i></a>
                        </div>
                    </div>|-|';
                    if (mysqli_num_rows($query)){
                    $html .= '
                        <table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                while ($value = mysqli_fetch_object($query)) {
                    $vet = explode('-', $value->data);
                    $value->data = $vet[2]."/".$vet[1]."/".$vet[0];
                    $html .= '
                            <tr>
                            <td>'.$value->data.'</td>
                                <td>'.$value->acessos.'</td>
                            </tr>   ';
                }
                $html .= '
                            </tbody>
                        </table>';
            }
            else{
                $html .= "<button class='btn btn-danger'>Seem nenhum registro encontrado na loja até o momento!</button>";
            }
                break;
            case 'contadorSite':
                $sql = "SELECT * FROM counters ";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']) {
                    $sql .= "WHERE data >= '" . $_REQUEST['dataFiltro'] . "' AND data <= '".$_REQUEST['dataFimFiltro']."'";
                }
                $sql .= "ORDER BY data DESC ";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '
                        <table id="example2" class="table table-bordered table-hover" style="background-color:rgba(248, 249, 250, .8)">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td>' . date('d/m/Y', strtotime($counter->data)) . '</td>

                    <td>' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
            <//tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'contadorPedido':      
                foreach ($_REQUEST as $key => $value){
                    $$key = $value;
                } 
                if ($mesFimFiltro <= 9){
                    $mesFimFiltro2 = "0".$mesFimFiltro;
                }
                else{
                    $mesFimFiltro2 = $mesFimFiltro;
                }
                for ($i = $diaFimFiltro; $i >= $diaFiltro; $i--){
                $sql = "SELECT a.* FROM requests a ";
                if ($i <= 9 && strlen($i) == 1) {
                    $i2 = "0".$i;
                }
                else{
                    $i2 = $i;
                }
                $sql .= "WHERE a.created_at Like '" .$anoFimFiltro."-".$mesFimFiltro2."-".$i2. "%' ";
                $where = 1;
                $query = mysqli_query($con, $sql);
                $counters_orders[$i] = mysqli_num_rows($query);
                }
                if (count($counters_orders)) {
                    $html = '<table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data do Pedido</th>

                <th>Quantidade de Pedidos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    foreach ($counters_orders as $key => $counter) {
                        if ($counter){
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($anoFimFiltro."-".$mesFimFiltro2."-".$key)) . '</td>

                    <td style="padding:5px;';
                    if ($counter){
                        $html .= ' color:#000033; font-weight:bold';
                    }
                    else{
                        $html .= ' color:#FF0000; font-weight:bold';
                    }
                    $html .= '">' . ($counter) . '</td>

                </tr>';
                        }
                    }
                    $html .= '
            </tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'contadorPagina':
                $sql = "SELECT a.*, b.name AS nomePagina FROM counters_pages a INNER JOIN pages b ON (a.page = b.id) ";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']) {
                    $sql .= "WHERE a.data >= '" . $_REQUEST['dataFiltro'] . "' && a.data <= '".$_REQUEST['dataFimFiltro']."' ";
                    $where = 1;
                }
                if ($_REQUEST['paginaFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.page = '" . $_REQUEST['paginaFiltro'] . "' ";
                }
                $sql .= "ORDER BY a.data DESC, b.name ASC ";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '<table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>
                <th>Nome da Página</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($counter->data)) . '</td>

                    <td style="padding:5px">' . ($counter->nomePagina) . '</td>

                    <td style="padding:5px">' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
            </tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'contadorSubitem':
                $sql = "SELECT a.*, b.name AS nomeSubitem, c.name AS nomePagina FROM counters_subitems a INNER JOIN subitems b ON (a.subitem = b.id) INNER JOIN pages c ON (b.page = c.id) ";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']) {
                    $sql .= "WHERE a.data >= '" . $_REQUEST['dataFiltro'] . "' && a.data <= '".$_REQUEST['dataFimFiltro']."' ";
                    $where = 1;
                }
                if ($_REQUEST['subitemFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.subitem = '" . $_REQUEST['subitemFiltro'] . "' ";
                }
                $sql .= "ORDER BY a.data DESC, c.name ASC, b.name ASC ";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '<table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>

                <th>Nome da Página => Nome do Subítem</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($counter->data)) . '</td>

                    <td style="padding:5px">' . ($counter->nomePagina) . ' => ' . ($counter->nomeSubitem) . '</td>

                    <td style="padding:5px">' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
                </tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'contadorCategoria':
                $sql = "SELECT a.*, b.name AS nomeDepto, c.name AS nomePai FROM counters_categories a INNER JOIN categories b ON (a.categorie = b.id) LEFT JOIN categories c ON (c.id = b.idPai) ";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']) {
                    $sql .= "WHERE a.data >= '" . $_REQUEST['dataFiltro'] . "' && a.data <= '".$_REQUEST['dataFimFiltro']."' ";
                    $where = 1;
                }
                if ($_REQUEST['categoriaFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.categorie = '" . $_REQUEST['categoriaFiltro'] . "' ";
                }
                $sql .= "ORDER BY a.data DESC, b.idPai ASC, b.id ASC";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '<table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>

                <th>Nome da Categoria</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($counter->data)) . '</td>

                    <td style="padding:5px">';
                        if ($counter->nomePai){
                            $html .= ($counter->nomePai." - ");
                        }
                        $html .= ($counter->nomeDepto) . '</td>

                    <td style="padding:5px">' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
                </tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'contadorBanner':
                $sql = "SELECT a.*, b.name AS nomeBanner, b.id AS idBanner, c.name AS nomePosicao FROM counters_banners a INNER JOIN banners b ON (a.banner = b.id) INNER JOIN positions c ON (b.position = c.id)";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']){
                    $sql .= " WHERE a.data >= '".$_REQUEST['dataFiltro']."' AND a.data <= '".$_REQUEST['dataFimFiltro']."'";
                    $entrou = 1;
                }
                if ($_REQUEST['bannerFiltro']){
                    if ($entrou){
                        $sql .= " AND";
                    }
                    else{
                        $sql .= " WHERE";
                    }
                    $sql .= " a.banner = '".$_REQUEST['bannerFiltro']."'";
                }
                $sql .= " ORDER BY a.data DESC, b.position ASC, b.name ASC, b.id ASC";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '
                            <table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>
                                    <th>Data do Acesso</th>
                                    <th>ID Do Banner / Nome do Banner / Posição do Banner</th>
                                    <th>Quantidade de Acessos</th>
                                </tr>
                                </thead>
                                <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($counter->data)) . '</td>

                    <td style="padding:5px">' .($counter->banner." / ". $counter->nomeBanner . ' / '.$counter->nomePosicao).'</td>

                    <td style="padding:5px">' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
</tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'contadorMarca':
                $sql = "SELECT a.*, b.name AS nomeMarca FROM counters_brands a INNER JOIN brands b ON (a.brand = b.id) ";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']) {
                    $sql .= "WHERE a.data >= '" . $_REQUEST['dataFiltro'] . "' && a.data <= '".$_REQUEST['dataFimFiltro']."' ";
                    $where = 1;
                }
                if ($_REQUEST['marcaFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.brand = '" . $_REQUEST['marcaFiltro'] . "' ";
                }
                $sql .= "ORDER BY a.data DESC, b.name ASC";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '<table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>

                <th>Nome da Marca</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($counter->data)) . '</td>

                    <td style="padding:5px">';
                        $html .= ($counter->nomeMarca) . '</td>

                    <td style="padding:5px">' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
                </tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'contadorSugestao':
                $sql = "SELECT a.*, b.name AS nomeSugestao FROM counters_suggestions a INNER JOIN suggestions b ON (a.suggestion = b.id) ";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']) {
                    $sql .= "WHERE a.data >= '" . $_REQUEST['dataFiltro'] . "' && a.data <= '".$_REQUEST['dataFimFiltro']."' ";
                    $where = 1;
                }
                if ($_REQUEST['sugestaoFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.suggestion = '" . $_REQUEST['sugestaoFiltro'] . "' ";
                }
                $sql .= "ORDER BY a.data DESC, b.name ASC";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '<table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>

                <th>Nome da Sugestão</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($counter->data)) . '</td>

                    <td style="padding:5px">';
                        $html .= ($counter->nomeSugestao) . '</td>

                    <td style="padding:5px">' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
                </tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'contadorRelacionamento':
                $sql = "SELECT a.*, b.name AS nomeRelacionamento FROM counters_relationships a INNER JOIN relationships b ON (a.relationship = b.id) ";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']) {
                    $sql .= "WHERE a.data >= '" . $_REQUEST['dataFiltro'] . "' && a.data <= '".$_REQUEST['dataFimFiltro']."' ";
                    $where = 1;
                }
                if ($_REQUEST['relacionamentoFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.relationship = '" . $_REQUEST['relacionamentoFiltro'] . "' ";
                }
                $sql .= "ORDER BY a.data DESC, b.name ASC";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '<table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>

                <th>Nome do Relacionamento</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($counter->data)) . '</td>

                    <td style="padding:5px">';
                        $html .= ($counter->nomeRelacionamento) . '</td>

                    <td style="padding:5px">' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
                </tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'contadorRedeSocial':
                $sql = "SELECT a.*, b.name AS nomeRedeSocial FROM counters_social_networks a INNER JOIN social_networks b ON (a.social_network = b.id) ";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']) {
                    $sql .= "WHERE a.data >= '" . $_REQUEST['dataFiltro'] . "' && a.data <= '".$_REQUEST['dataFimFiltro']."' ";
                    $where = 1;
                }
                if ($_REQUEST['redeSocialFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.social_network = '" . $_REQUEST['redeSocialFiltro'] . "' ";
                }
                $sql .= "ORDER BY a.data DESC, b.id ASC";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '<table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>

                <th>Nome da Rede Social</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($counter->data)) . '</td>

                    <td style="padding:5px">';
                        $html .= ($counter->nomeRedeSocial) . '</td>

                    <td style="padding:5px">' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
                </tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break; 
            case 'contadorParceiro':
                $sql = "SELECT a.*, b.name AS nomeRedeSocial FROM counters_partners a INNER JOIN partners b ON (a.partner = b.id) ";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']) {
                    $sql .= "WHERE a.data >= '" . $_REQUEST['dataFiltro'] . "' && a.data <= '".$_REQUEST['dataFimFiltro']."' ";
                    $where = 1;
                }
                if ($_REQUEST['parceiroFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.partner = '" . $_REQUEST['parceiroFiltro'] . "' ";
                }
                $sql .= "ORDER BY a.data DESC, b.name ASC";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '<table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>

                <th>Nome do Parceiro</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($counter->data)) . '</td>

                    <td style="padding:5px">';
                        $html .= ($counter->nomeRedeSocial) . '</td>

                    <td style="padding:5px">' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
                </tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'contadorBusca':
                $sql = "SELECT a.*, b.name AS nomeCategoria FROM counters_searchs a LEFT JOIN categories b ON (a.categorie = b.id) ";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']) {
                    $sql .= "WHERE a.data >= '" . $_REQUEST['dataFiltro'] . "' && a.data <= '".$_REQUEST['dataFimFiltro']."' ";
                    $where = 1;
                }
                if ($_REQUEST['categoriaFiltro']) {
                    if ($_REQUEST['categoriaFiltro'] == "-"){
                        $_REQUEST['categoriaFiltro'] = "";
                    }
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.categorie = '" . $_REQUEST['categoriaFiltro'] . "' ";
                }
                if ($_REQUEST['buscaFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.busca LIKE '%" . $_REQUEST['buscaFiltro'] . "%' ";
                }
                $sql .= "ORDER BY a.data DESC, a.created_at DESC";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '<table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>

                <th>Busca</th>

                <th>Nome da Categoria</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $counter->busca = ($counter->busca) ? $counter->busca : "Nenhuma";
                        $counter->nomeCategoria = ($counter->nomeCategoria) ? $counter->nomeCategoria : "Nenhuma";
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($counter->data)) . '</td>
                    
                    <td style="padding:5px">' . ($counter->busca) . '</td>

                    <td style="padding:5px">';
                        $html .= ($counter->nomeCategoria) . '</td>

                    <td style="padding:5px">' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
                </tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'contadorSelo':
                $sql = "SELECT a.*, b.name AS nomeSelo FROM counters_stamps a INNER JOIN stamps b ON (a.stamp = b.id) ";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']) {
                    $sql .= "WHERE a.data >= '" . $_REQUEST['dataFiltro'] . "' && a.data <= '".$_REQUEST['dataFimFiltro']."' ";
                    $where = 1;
                }
                if ($_REQUEST['seloFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.stamp = '" . $_REQUEST['seloFiltro'] . "' ";
                }
                $sql .= "ORDER BY a.data DESC, b.name ASC";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '<table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>

                <th>Nome do Selo</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($counter->data)) . '</td>

                    <td style="padding:5px">';
                        $html .= ($counter->nomeSelo) . '</td>

                    <td style="padding:5px">' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
                </tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'contadorProduto':
                $sql = "SELECT a.*, b.name AS nomeProduto FROM counters_products a INNER JOIN products b ON (a.product = b.id) ";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']) {
                    $sql .= "WHERE a.data >= '" . $_REQUEST['dataFiltro'] . "' && a.data <= '".$_REQUEST['dataFimFiltro']."' ";
                    $where = 1;
                }
                if ($_REQUEST['produtoFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.product = '" . $_REQUEST['produtoFiltro'] . "' ";
                }
                $sql .= "ORDER BY a.data DESC, b.name ASC";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '<table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>

                <th>Nome do Produto</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($counter->data)) . '</td>

                    <td style="padding:5px">';
                        $html .= ($counter->nomeProduto) . '</td>

                    <td style="padding:5px">' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
                </tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'contadorListaPresentes':
                $sql = "SELECT a.*, b.nomeAniversariante, b.dataAniversario FROM counters_presents_lists a INNER JOIN presents_lists b ON (a.present_list = b.id) ";
                if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']) {
                    $sql .= "WHERE a.data >= '" . $_REQUEST['dataFiltro'] . "' && a.data <= '".$_REQUEST['dataFimFiltro']."' ";
                    $where = 1;
                }
                if ($_REQUEST['listaPresenteFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.present_list = '" . $_REQUEST['listaPresenteFiltro'] . "' ";
                }
                $sql .= "ORDER BY a.data DESC, b.dataAniversario DESC, b.id DESC ";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html = '<table id="example2" class="table table-bordered table-hover">
                            <thead>
                            <tr>

                <th>Data de Acesso</th>
                <th>Nome do Aniversariante / Data do Aniversário</th>

                <th>Quantidade de Acessos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($counter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y', strtotime($counter->data)) . '</td>

                    <td style="padding:5px">' . ($counter->nomeAniversariante." / ".date('d/m/Y', strtotime($counter->dataAniversario))) . '</td>

                    <td style="padding:5px">' . $counter->acessos . '</td>

                </tr>';
                        $key++;
                    }
                    $html .= '
            </tbody>
        </table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'newsletter':
                $sql = "SELECT a.* FROM newsletters a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['emailFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.email LIKE '%" . $_REQUEST['emailFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['dataFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.created_at LIKE '" . $_REQUEST['dataFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.created_at DESC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '
                            <table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>
                                    <th>Data / Hora</th>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Ações</th>
                                </tr>
                                </thead>
                                <tbody>';
                    $key = 0;
                    while ($newsletter = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y à\s H:i:s\h', strtotime($newsletter->updated_at)) . '</td>

                    <td style="padding:5px">' . ($newsletter->name) . '</td>

                    <td style="padding:5px">' . ($newsletter->email) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarNewsletter("' . $newsletter->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarNewsletter("' . $newsletter->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirNewsletter("' . $newsletter->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","newsletter")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</table>
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("newsletter","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("newsletter","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("newsletter","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("newsletter","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("newsletter","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("newsletter","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("newsletter","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("newsletter","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("newsletter","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'anuncie':
                $sql = "SELECT a.* FROM anuncie_aquis a WHERE a.deleted_at IS NULL ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "AND a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['emailFiltro']) {
                    $sql .= "AND ";
                    $sql .= "a.email LIKE '%" . $_REQUEST['emailFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.created_at DESC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">Data / Hora</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Email</th>

                <th style="padding:5px">Status</th>

                <th style="padding:5px">Ações</th>
            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($faleConosco = mysqli_fetch_object($query)) {
                        $status = ($faleConosco->status == 1) ? "<div style='background-color: #FFFF00; color: #000000; float:left; padding:5px'>Enviado</div>" : "<div style='background-color: #000033; color: #FFFFFF;  float:left; padding:5px'>Respondido</div>";
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y à\s H:i:s\h', strtotime($faleConosco->created_at)) . '</td>

                    <td style="padding:5px">' . ($faleConosco->name) . '</td>

                    <td style="padding:5px">' . ($faleConosco->email) . '</td>

                    <td style="padding:5px">' . ($status) . '</td>

                    <td style="padding:5px">';
                    if (!$faleConosco->aprovado){
                        $html .= '<a href="#" onclick=aprovarAnuncie("' . $faleConosco->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/sucesso.png" width="20"></a>';
                    }
                    $html .= '<a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarAnuncie("' . $faleConosco->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                        <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarAnuncie("' . $faleConosco->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirAnuncie("' . $faleConosco->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","anuncie_aqui")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card">
                <div class="card-header">
                <h3 class="card-title">
                    <i class="ion pagination mr-1"></i>
                    Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("anuncie","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("anuncie","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("anuncie","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("anuncie","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                    ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("anuncie","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("anuncie","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("anuncie","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                    ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("anuncie","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("anuncie","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                    </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'bugTracking':
                $sql = "SELECT a.* FROM bug_trackings a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['emailFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.email LIKE '%" . $_REQUEST['emailFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.created_at DESC";;
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '
                            <table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">Data</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Email</th>

                <th style="padding:5px">Status</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($bugTracking = mysqli_fetch_object($query)) {
                        $vet = explode(' ', $bugTracking->created_at);
                        $vet2 = explode('-', $vet[0]);
                        $bugTracking->created_at = $vet2[2] . "/" . $vet2[1] . "/" . $vet2[0];
                        $status = ($bugTracking->status == 1) ? "<div style='background-color: #FFFF00; color: #000000; float:left; padding:5px'>Enviado</div>" : "<div style='background-color: #000033; color: #FFFFFF;  float:left; padding:5px'>Respondido</div>";
                        $html .= '<tr>

                    <td style="padding:5px">' . $bugTracking->created_at . '</td>

                    <td style="padding:5px">' . ($bugTracking->name) . '</td>

                    <td style="padding:5px">' . ($bugTracking->email) . '</td>

                    <td style="padding:5px">' . ($status) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarBugTracking("' . $bugTracking->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarBugTracking("' . $bugTracking->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirBugTracking("' . $bugTracking->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","bugTacking")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card">
              <div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("bugTracking","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("bugTracking","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("bugTracking","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("bugTracking","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("bugTracking","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("bugTracking","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("bugTracking","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("bugTracking","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("bugTracking","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'faleConosco':
                $sql = "SELECT a.* FROM messages a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['emailFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.email LIKE '%" . $_REQUEST['emailFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.created_at DESC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '
                            <table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">Data / Hora</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Email</th>

                <th style="padding:5px">Status</th>

                <th style="padding:5px">Ações</th>
            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($faleConosco = mysqli_fetch_object($query)) {
                        $status = ($faleConosco->status == 1) ? "<div style='background-color: #FFFF00; color: #000000; float:left; padding:5px'>Enviado</div>" : "<div style='background-color: #000033; color: #FFFFFF;  float:left; padding:5px'>Respondido</div>";
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y à\s H:i:s\h', strtotime($faleConosco->created_at)) . '</td>

                    <td style="padding:5px">' . ($faleConosco->name) . '</td>

                    <td style="padding:5px">' . ($faleConosco->email) . '</td>

                    <td style="padding:5px">' . ($status) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarFaleConosco("' . $faleConosco->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarFaleConosco("' . $faleConosco->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirFaleConosco("' . $faleConosco->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","FaleConosco")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card">
              <div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("faleConosco","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("faleConosco","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("faleConosco","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("faleConosco","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("faleConosco","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("faleConosco","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("faleConosco","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("faleConosco","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("faleConosco","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'avaliacoes':
                $sql = "SELECT a.* FROM avaliations a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['emailFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.email LIKE '%" . $_REQUEST['emailFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.created_at DESC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '
                            <table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">Data / Hora</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Email</th>

                <th style="padding:5px">Status</th>

                <th style="padding:5px">Ações</th>
            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($faleConosco = mysqli_fetch_object($query)) {
                        if ($faleConosco->status == 0){
                            $status = "<div style='background-color: #FFFF00; color: #000000; float:left; padding:5px'>Enviado</div>";
                        }
                        elseif ($faleConosco->status == 1){
                            $status = "<div style='background-color: #003300; color: #FFFFFF; float:left; padding:5px'>Respondido</div>";
                        }
                        elseif ($faleConosco->status == 2){
                            $status = "<div style='background-color: #000033; color: #FFFFFF;  float:left; padding:5px'>Publicado</div>";
                        }
                        elseif ($faleConosco->status == 3){
                            $status = "<div style='background-color: #FF0000; color: #FFFFFF;  float:left; padding:5px'>Cancelado</div>";
                        }
                        $html .= '<tr>

                    <td style="padding:5px">' . date('d/m/Y à\s H:i:s\h', strtotime($faleConosco->created_at)) . '</td>

                    <td style="padding:5px">' . ($faleConosco->name) . '</td>

                    <td style="padding:5px">' . ($faleConosco->email) . '</td>

                    <td style="padding:5px">' . ($status) . '</td>

                    <td style="padding:5px">';
                    $sql = "SELECT * FROM avaliations_solicitas WHERE avaliation = '".$faleConosco->id."'";
                    $query2 = mysqli_query($con, $sql);
                    if (mysqli_num_rows($query2)){
                        $html .= '<a href="#" data-toggle="modal" data-target="#modalSolicitacao" onclick=visualizarSolicitacoes("' . $faleConosco->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="'.URL.'img/sucesso.png" width="18"></a>
                        ';
                    }
                    $html .= '
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarAvaliacoes("' . $faleConosco->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarAvaliacoes("' . $faleConosco->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirAvaliacoes("' . $faleConosco->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","Avaliacao")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card">
              <div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("avaliacoes","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("avaliacoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("avaliacoes","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("avaliacoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("avaliacoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("avaliacoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("avaliacoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("avaliacoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("avaliacoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'pedido':
                $sql = "SELECT DISTINCT a.id, a.*, b.name AS nomeStatus, b.sigla, b.color, b.background, e.name AS nomeCliente, f.nomeFantasia
                        FROM requests a
                        INNER JOIN requests_statuses b ON (a.status = b.id)
                        INNER JOIN clients c ON (a.client = c.id)
                        LEFT JOIN requests_items d ON (a.id = d.request)
                        LEFT JOIN pessoa_fisicas e ON (c.id = e.client)
                        LEFT JOIN pessoa_juridicas f ON (c.id = f.client) ";
                if ($_REQUEST['idFiltro']) {
                    $sql .= "WHERE a.id LIKE '%" . $_REQUEST['idFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['dataFiltro']) {
                    if ($where){
                        $sql .= "AND ";
                    }
                    else{
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.created_at LIKE '%" . $_REQUEST['dataFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['formaPagamentoFiltro']) {
                    if ($where){
                        $sql .= "AND ";
                    }
                    else{
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.paymentMethod = '" . $_REQUEST['formaPagamentoFiltro'] . "' ";
                    $where = 1;
                }
                if ($_REQUEST['statusFiltro']) {
                    if ($where){
                        $sql .= "AND ";
                    }
                    else{
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.status = '" . $_REQUEST['statusFiltro'] . "' ";
                    $where = 1;
                }
                if ($_REQUEST['nomeFiltro']) {
                    if ($where){
                        $sql .= "AND ";
                    }
                    else{
                        $sql .= "WHERE ";
                    }
                    $sql .= "c.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['emailFiltro']) {
                    if ($where){
                        $sql .= "AND ";
                    }
                    else{
                        $sql .= "WHERE ";
                    }
                    $sql .= "c.email LIKE '%" . $_REQUEST['emailFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['nomeProdutoFiltro']) {
                    if ($where){
                        $sql .= "AND ";
                    }
                    else{
                        $sql .= "WHERE ";
                    }
                    $sql .= "d.name LIKE '%" . $_REQUEST['nomeProdutoFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['idProdutoFiltro']) {
                    if ($where){
                        $sql .= "AND ";
                    }
                    else{
                        $sql .= "WHERE ";
                    }
                    $sql .= "d.id = '" . $_REQUEST['idProdutoFiltro'] . "' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.status ASC, a.id DESC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '
                            <table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Data / Hora</th>

                <th style="padding:5px">Status do Pedido</th>

                <th style="padding:5px">Nome do Cliente</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($pedido = mysqli_fetch_object($query)) {
                        $vet = explode(' ', $pedido->created_at);
                        $vet2 = explode('-', $vet[0]);
                        $pedido->created_at = $vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h";
                        $html .= '<tr>

                    <td style="padding:5px">' . sprintf("%012s\n", $pedido->id) . '</td>

                    <td style="padding:5px">' . $pedido->created_at . '</td>

                    <td style="padding:5px; text-align:center" title="'.$pedido->nomeStatus.'"><span style="background-color:'.$pedido->background;
                        $nomeCliente = ($pedido->nomeCliente) ? ($pedido->nomeCliente) : ($pedido->nomeFantasia);
                        $html .= '; color:'.$pedido->color.'; padding: 7px" title="'.($pedido->nomeStatus).'">' . $pedido->sigla . '</span></td>

                    <td style="padding:5px">' . utf8_decode($nomeCliente) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarPedido("' . $pedido->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarPedido("' . $pedido->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirPedido("' . $pedido->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","pedido")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card">
              <div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pedido","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("pedido","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("pedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("pedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'statusPedido':
                $sql = "SELECT a.* FROM requests_statuses a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '
                            <table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($statusPedido = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $statusPedido->id . '</td>

                    <td style="padding:5px">' . ($statusPedido->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarStatusPedido("' . $statusPedido->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarStatusPedido("' . $statusPedido->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirStatusPedido("' . $statusPedido->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","status_do_pedido")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("statusPedido","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("statusPedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("statusPedido","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("statusPedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("statusPedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("statusPedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("statusPedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("statusPedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("statusPedido","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'valorVendidoPorStatus':
                $sql = "SELECT a.* FROM requests_statuses a ";
                if ($_REQUEST['statusFiltro']){
                    $sql .= "WHERE a.id = '".$_REQUEST['statusFiltro']."'";
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '
                            <table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Valor Vendido</th>

                <th style="padding:5px">Número Total de Pedidos</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($statusPedido = mysqli_fetch_object($query)) {
                        $sql = "SELECT SUM(valueTotal) AS valor, count(id) AS totalPedidosStatus FROM requests WHERE status = '".$statusPedido->id."' ";
                        if ($_REQUEST['dataFiltro'] && $_REQUEST['dataFimFiltro']){
                            $sql .= "AND created_at >= '".$_REQUEST['dataFiltro']." 00:00:00' AND created_at <= '".$_REQUEST['dataFimFiltro']." 23:59:59' ";
                        }
                        $sql .= "GROUP BY status";
                        $query2 = mysqli_query($con, $sql);
                        $row2 = mysqli_fetch_array($query2);
                        $row2['totalPedidosStatus'] = ($row2['totalPedidosStatus']) ? $row2['totalPedidosStatus'] : "0";
                        $html .= '<tr>

                    <td style="padding:5px"><div style="background-color:'.$statusPedido->background.'; color: '.$statusPedido->color.'; padding:5px; text-align:center">' . ($statusPedido->name) . '</div></td>

                    <td style="padding:5px">R$'.number_format($row2['valor'],2,',','.').'
                    </td>
                    <td style="padding:5px">'.$row2['totalPedidosStatus'].'
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'tiposDocumento':
                $sql = "SELECT a.* FROM type_documents a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '
                            <table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($tiposDocumento = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $tiposDocumento->id . '</td>

                    <td style="padding:5px">' . ($tiposDocumento->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarTipoDocumento("' . $tiposDocumento->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarTipoDocumento("' . $tiposDocumento->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirTipoDocumento("' . $tiposDocumento->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","tipo_de_documento")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposDocumento","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposDocumento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tiposDocumento","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposDocumento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tiposDocumento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposDocumento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tiposDocumento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposDocumento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposDocumento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'clientes':
                $sql = "SELECT a.*, b.name, c.nomeFantasia, c.contato FROM clients a LEFT JOIN pessoa_fisicas b ON (a.id = b.client) LEFT JOIN pessoa_juridicas c ON (a.id = c.client) ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE (b.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' OR c.razaoSocial LIKE '%" . $_REQUEST['nomeFiltro'] . "%' OR c.nomeFantasia LIKE '%" . $_REQUEST['nomeFiltro'] . "%' OR c.contato LIKE '%" . $_REQUEST['nomeFiltro'] . "%') ";
                }
                if ($_REQUEST['emailFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.email LIKE '%" . $_REQUEST['emailFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '
                            <table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th>ID</th>

                <th>Nome / Nome Fantasia - Contato</th>

                <th>Email</th>

                <th>Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($clientes = mysqli_fetch_object($query)) {
                        $nome = ($clientes->name) ? ($clientes->name) : ($clientes->nomeFantasia." - ".$clientes->contato);
                        $html .= '<tr>

                    <td style="padding:5px">' . $clientes->id . '</td>

                    <td style="padding:5px">' . utf8_decode($nome) . '</td>

                    <td style="padding:5px">' . ($clientes->email) . '</td>

                    <td style="padding:5px">
                        <a href="#" onclick="visualizaEndereco(\'' . $clientes->id . '\', \'' . URL . '\', \'' . $_REQUEST['idUser'] . '\')" data-toggle="modal" data-target="#modalEndereco"><img src="' . URL . 'img/enderecos.png" style="cursor:pointer" title="Visualizar Endereços do Cliente ' . $clientes->id . '" width="20"></a>
                        <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarClientes("' . $clientes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                        <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarClientes("' . $clientes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirClientes("' . $clientes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","cliente")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>
';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("clientes","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("clientes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("clientes","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("clientes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("clientes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("clientes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("clientes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("clientes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("clientes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'tiposProduto':
                $sql = "SELECT a.* FROM types_products a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($tiposProduto = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $tiposProduto->id . '</td>

                    <td style="padding:5px">' . ($tiposProduto->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarTiposProduto("' . $tiposProduto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarTiposProduto("' . $tiposProduto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirTiposProduto("' . $tiposProduto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","tipo_de_produto")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposProduto","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tiposProduto","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tiposProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tiposProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'produto':
                $sql = "SELECT a.* FROM products a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.status DESC, a.id DESC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do Produto</th>

                <th style="padding:5px">Status</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($produto = mysqli_fetch_object($query)) {
                        if ($produto->status == 0){
                            $status = "<b style='color:#FF0000'>Inativo</b>";
                        }
                        elseif ($produto->status == 1){
                            $status = "<b style='color:#000033'>Ativo</b>";
                        }
                        elseif ($produto->status == 2){
                            $status = "<b style='color:#ffa100'>Aguardando Aprovação</b>";
                        }
                        elseif ($produto->status == 3){
                            $status = "<b style='color:#FF0000'>Reprovado</b>";
                        }
                        $html .= '<tr>

                    <td style="padding:5px">' . $produto->id . '</td>

                    <td style="padding:5px">' . ($produto->name) . '</td>

                    <td style="padding:5px">' . ($status) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarProdutos("' . $produto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarProdutos("' . $produto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '");vaiProduto("edicaoProduto")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirProdutos("' . $produto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","produto")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("produto","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("produto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("produto","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("produto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("produto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("produto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("produto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("produto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("produto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'comentariosProduto':
                $sql = "SELECT a.*, b.name AS nomeProduto FROM products_reviews a INNER JOIN products b ON (a.product = b.id) ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.nome LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST["produtoFiltro"]) {
                    if ($where){

                    }
                    else{
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.product = '".$_REQUEST['produtoFiltro']."' ";
                    $where = 1;
                }
                if ($_REQUEST["emailFiltro"]) {
                    if ($where){

                    }
                    else{
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.email LIKE '%".$_REQUEST['emailFiltro']."%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.status ASC, a.id DESC, a.id DESC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do Avaliador</th>

                <th style="padding:5px">Nome do Produto</th>

                <th style="padding:5px">Mensagem</th>

                <th style="padding:5px">Status</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($comentarioProduto = mysqli_fetch_object($query)) {
                        $status = ($comentarioProduto->status == 0) ? "<span style='color:#FF0000; font-weight:bold'>Não Aprovado</span>" : "<span style='color:#000033; font-weight:bold'>Aprovado</span>";
                        $html .= '<tr>

                    <td style="padding:5px">' . $comentarioProduto->id . '</td>

                    <td style="padding:5px">' . ($comentarioProduto->nome) . '</td>

                    <td style="padding:5px">' . ($comentarioProduto->nomeProduto) . '</td>

                    <td style="padding:5px">' . (nl2br($comentarioProduto->mensagem)) . '</td>

                    <td style="padding:5px">' . ($status) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarComentarioProduto("' . $comentarioProduto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarComentarioProduto("' . $comentarioProduto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '");vaiProduto("edicaoProduto")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirComentarioProduto("' . $comentarioProduto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","comentario_do_produto")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("comentariosProduto","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("comentariosProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("comentariosProduto","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("comentariosProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("comentariosProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("comentariosProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("comentariosProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("comentariosProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("comentariosProduto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'solicitacaoComentario':
                $sql = "SELECT a.*, b.nome AS nomeDoComentarista, b.email AS emailDoComentarista, c.name AS nomeProduto FROM products_reviews_solicitas a INNER JOIN products_reviews b ON (a.id_product_review = b.id) INNER JOIN products c ON (b.product = c.id) ";
                $sql .= " ORDER BY a.created_at DESC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do Comentarista</th>

                <th style="padding:5px">Email do Comentarista</th>

                <th style="padding:5px">Nome do Produto</th>

                <th style="padding:5px">Nota</th>

                <th style="padding:5px">Mensagem</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($comentarioProduto = mysqli_fetch_object($query)) {
                        $status = ($comentarioProduto->status == 0) ? "<span style='color:#FF0000; font-weight:bold'>Não Aprovado</span>" : "<span style='color:#000033; font-weight:bold'>Aprovado</span>";
                        $html .= '<tr>

                    <td style="padding:5px">' . $comentarioProduto->id . '</td>

                    <td style="padding:5px">' . ($comentarioProduto->nomeDoComentarista) . '</td>

                    <td style="padding:5px">' . ($comentarioProduto->emailDoComentarista) . '</td>

                    <td style="padding:5px">' . ($comentarioProduto->nomeProduto) . '</td>

                    <td style="padding:5px">' . ($comentarioProduto->avaliacao) . '</td>

                    <td style="padding:5px">' . nl2br(($comentarioProduto->mensagem)) . '</td>

                    <td style="padding:5px">
                         <a style="cursor:pointer" onclick=aprovarSolicitacaoComentario("' . $comentarioProduto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/sucesso.png" width="20" title="Aprovar"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarSolicitacaoComentario("' . $comentarioProduto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '");vaiProduto("edicaoProduto")><img src="' . URL . 'img/editar.png" width="20" title="Editar"></a>
                         <a style="cursor:pointer" onclick=excluirSolicitacaoComentario("' . $comentarioProduto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","solicitacao-de-comentario")><img src="' . URL . 'img/excluir.png" width="20" title="Excluir"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("solicitacaoComentario","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("solicitacaoComentario","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("solicitacaoComentario","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("solicitacaoComentario","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("solicitacaoComentario","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("solicitacaoComentario","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("solicitacaoComentario","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("solicitacaoComentario","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("solicitacaoComentario","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'formasFrete':
                $sql = "SELECT a.* FROM shipping_methods a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome da Forma de Frete</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($formasFrete = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $formasFrete->id . '</td>

                    <td style="padding:5px">' . ($formasFrete->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarFormaFrete("' . $formasFrete->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarFormaFrete("' . $formasFrete->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirFormaFrete("' . $formasFrete->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","forma_de_pagamento")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("formasFrete","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("formasFrete","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("formasFrete","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("formasFrete","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("formasFrete","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("formasFrete","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("formasFrete","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("formasFrete","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("formasFrete","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'formasPagamento':
                $sql = "SELECT a.* FROM payment_methods a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($formasPagamento = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $formasPagamento->id . '</td>

                    <td style="padding:5px">' . ($formasPagamento->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarFormaPagamento("' . $formasPagamento->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarFormaPagamento("' . $formasPagamento->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirFormaPagamento("' . $formasPagamento->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","forma_de_pagamento")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("formasPagamento","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("formasPagamento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("formasPagamento","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("formasPagamento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("formasPagamento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("formasPagamento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("formasPagamento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("formasPagamento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("formasPagamento","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'banners':
            case 'banner':
                $sql = "SELECT a.*, b.name AS nomePosicao FROM banners a INNER JOIN positions b ON (a.position = b.id) ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.position ASC, a.name ASC, a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Posição</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($banners = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $banners->id . '</td>

                    <td style="padding:5px">' . ($banners->nomePosicao) . '</td>

                    <td style="padding:5px">' . ($banners->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarBanner("' . $banners->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarBanner("' . $banners->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirBanner("' . $banners->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","banner")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("banners","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("banners","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("banners","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("banners","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("banners","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("banners","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("banners","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("banners","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("banners","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
                case 'pagina':
                case 'paginas':
                $sql = "SELECT a.* FROM pages a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.ordem ASC, a.name ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome da Página</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($pagina = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $pagina->id . '</td>

                    <td style="padding:5px">' . ($pagina->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarPagina("' . $pagina->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarPagina("' . $pagina->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirPagina("' . $pagina->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","pagina")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAntaerior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pagina","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pagina","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("pagina","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pagina","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("pagina","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pagina","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("pagina","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pagina","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pagina","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'listasPresentes':
                $sql = "SELECT a.* FROM presents_lists a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.nomeAniversariante LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.dataAniversario DESC, a.nomeAniversariante ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do Aniversariante</th>

                <th style="padding:5px">Data do Aniversário</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($listasPresentes = mysqli_fetch_object($query)) {
                        $vet = explode('-', $listasPresentes->dataAniversario);
                        $listasPresentes->dataAniversario = $vet[2]."/".$vet[1]."/".$vet[0];
                        $html .= '<tr>

                    <td style="padding:5px">' . $listasPresentes->id . '</td>

                    <td style="padding:5px">' . ($listasPresentes->nomeAniversariante) . '</td>

                    <td style="padding:5px">' . ($listasPresentes->dataAniversario) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalPresents" onclick=visualizarPresentes("' . $listasPresentes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/presentes.png" title="Lista de Presentes" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalGuests" onclick=visualizarConvidados("' . $listasPresentes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/convidados.png" title="Lista de Convidados" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarListasPresentes("' . $listasPresentes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarListasPresentes("' . $listasPresentes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirListasPresentes("' . $listasPresentes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","listaPresente")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAntaerior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("listasPresentes","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("listasPresentes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("listasPresentes","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("listasPresentes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("listasPresentes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("listasPresentes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("listasPresentes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("listasPresentes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("listasPresentes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'subitem':
            case 'subitems':
                $sql = "SELECT a.*, b.name AS nomePagina FROM subitems a INNER JOIN pages b ON (b.id = a.page) ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['paginaFiltro']) {
                    if ($where){
                        $sql .= "AND ";
                    }
                    else{
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.page = '" . $_REQUEST['paginaFiltro'] . "' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.page ASC, a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome da Página</th>

                <th style="padding:5px">Nome do Subítem</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($subitem = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $subitem->id . '</td>

                    <td style="padding:5px">' . ($subitem->nomePagina) . '</td>

                    <td style="padding:5px">' . ($subitem->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarSubitem("' . $subitem->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarSubitem("' . $subitem->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirSubitem("' . $subitem->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","subitem")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("subitem","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("subitem","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("subitem","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("subitem","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("subitem","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("subitem","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("subitem","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("subitem","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("subitem","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'tipoServico':
                $sql = "SELECT a.* FROM types_services a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>';
                    $key = 0;
                    while ($tipoServico = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $tipoServico->id . '</td>

                    <td style="padding:5px">' . ($tipoServico->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarTipoServico("' . $tipoServico->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarTipoServico("' . $tipoServico->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirTipoServico("' . $tipoServico->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","tipo_de_servico")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tipoServico","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tipoServico","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tipoServico","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tipoServico","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tipoServico","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tipoServico","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tipoServico","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tipoServico","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tipoServico","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'prioridade':
                $sql = "SELECT a.* FROM priorities a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>
                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($prioridade = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $prioridade->id . '</td>

                    <td style="padding:5px">' . ($prioridade->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarPrioridade("' . $prioridade->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarPrioridade("' . $prioridade->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirPrioridade("' . $prioridade->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","prioridade")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("prioridade","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("prioridade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("prioridade","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("prioridade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("prioridade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("prioridade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("prioridade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("prioridade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("prioridade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'tipoVersao':
                $sql = "SELECT a.*, b.name AS nomeTipoServico FROM type_versions a INNER JOIN types_services b ON (a.typeService = b.id) ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['tipoServicoFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.typeService = '" . $_REQUEST['tipoServicoFiltro'] . "' ";
                    $where = 1;
                }
                $sql .= "ORDER BY b.id ASC, a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>
                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do Tipo de Serviço</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($statusPedido = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $statusPedido->id . '</td>

                    <td style="padding:5px">' . ($statusPedido->nomeTipoServico) . '</td>

                    <td style="padding:5px">' . ($statusPedido->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarTipoVersao("' . $statusPedido->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarTipoVersao("' . $statusPedido->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirTipoVersao("' . $statusPedido->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","tipo_de_versao")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tipoVersao","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tipoVersao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tipoVersao","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tipoVersao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tipoVersao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tipoVersao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tipoVersao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tipoVersao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tipoVersao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'categorias':
                $sql = "SELECT a.* FROM categories a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['categoriaFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.idPai = '" . $_REQUEST['categoriaFiltro'] . "' ";
                    $where = 1;
                }
                else{
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.idPai = '0' ";
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            </tbody>';
                    $key = 0;
                    while ($categorias = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $categorias->id . '</td>

                    <td style="padding:5px">' . ($categorias->name) . '</td>

                    <td style="padding:5px">
                    ';
                        $sql = "SELECT * FROM categories WHERE idPai = '".$categorias->id."'";
                        $querySubs = mysqli_query($con, $sql);
                        if (mysqli_num_rows($querySubs)){
                            $html .= '<a style="cursor:pointer" onclick=abreFecha("subdeptosCategorias'.$categorias->id.'");><img src="'.URL.'img/sucesso.png" width="20"></a>
                                        <div style="position: absolute; background-color: #F7f7f7; width:90%; display:none; left:100px; text-align:center; z-indx:9" id="subdeptosCategorias'.$categorias->id.'"">
                                            <div style="position:absolute; float:left; left:95%"><a style="cursor:pointer" onclick=$("#subdeptosCategorias'.$categorias->id.'").hide("fast")>&times;</a></div>
                                            <h3>Sub-categorias de '.($categorias->name).'</h3>
                                            <table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            </tbody>';
                            while ($rowSubs = mysqli_fetch_object($querySubs)){
                                $html .= '<tr>

                    <td style="padding:5px">' . $rowSubs->id . '</td>

                    <td style="padding:5px">' . ($rowSubs->name) . '</td>

                    <td style="padding:5px"><a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarCategorias("' . $rowSubs->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarCategorias("' . $rowSubs->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirCategorias("' . $rowSubs->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","categoria")><img src="' . URL . 'img/excluir.png" width="20"></a></td>
                    </tr>
                    ';
                            }
                            $html .= '</table>
                                        </div>';
                        }
                        $html .= '
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarCategorias("' . $categorias->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarCategorias("' . $categorias->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirCategorias("' . $categorias->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","categoria")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("categorias","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("categorias","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("categorias","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("categorias","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("categorias","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("categorias","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("categorias","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("categorias","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("categorias","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'atributos':
                $sql = "SELECT a.* FROM attributes a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['atributoFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.idPai = '" . $_REQUEST['atributoFiltro'] . "' ";
                    $where = 1;
                }
                else{
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.idPai = '0' ";
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px" width="75%">Nome do Atributo</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            </tbody>';
                    $key = 0;
                    while ($atributos = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $atributos->id . '</td>

                    <td style="padding:5px">' . ($atributos->name) . '</td>

                    <td style="padding:5px">
                    ';
                        $sql = "SELECT * FROM attributes WHERE idPai = '".$atributos->id."'";
                        $querySubs = mysqli_query($con, $sql);
                        if (mysqli_num_rows($querySubs)){
                            $html .= '<a style="cursor:pointer" onclick=abreFecha("subdeptosAtributos'.$atributos->id.'");><img src="'.URL.'img/sucesso.png" width="20"></a>
                                        <div style="position: absolute; background-color: #F7f7f7; width:90%; display:none; left:100px; text-align:center; z-index:9999999999999999999" id="subdeptosAtributos'.$atributos->id.'"">
                                            <div style="position:absolute; float:left; left:95%"><a style="cursor:pointer" onclick=$("#subdeptosAtributos'.$atributos->id.'").hide("fast")>&times;</a></div>
                                            <h3>Sub-atributos de '.($atributos->name).'</h3>
                                            <table id="example2" class="table table-bordered table-hover" style="z-index:9999999999">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            </tbody>';
                            while ($rowSubs = mysqli_fetch_object($querySubs)){
                                $html .= '<tr>

                    <td style="padding:5px">' . $rowSubs->id . '</td>

                    <td style="padding:5px">' . ($rowSubs->name) . '</td>

                    <td style="padding:5px"><a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarAtributos("' . $rowSubs->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarAtributos("' . $rowSubs->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirAtributos("' . $rowSubs->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","atributo")><img src="' . URL . 'img/excluir.png" width="20"></a></td>
                    </tr>
                    ';
                            }
                            $html .= '</table>
                                        </div>';
                        }
                        $html .= '
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarAtributos("' . $atributos->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarAtributos("' . $atributos->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirAtributos("' . $atributos->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","atributo")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("atributos","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("atributos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("atributos","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("atributos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("atributos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("atributos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("atributos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("atributos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("atributos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
                case 'marcas':
                    $sql = "SELECT a.* FROM brands a  ";
                    if ($_REQUEST['nomeFiltro']) {
                        $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                        $where = 1;
                    }
                    $sql .= "ORDER BY a.name ASC";
                    $query = mysqli_query($con, $sql);
                    $total = mysqli_num_rows($query);
                    $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                    $totalPaginacao = ceil($total / 15);
                    if ($totalPaginacao == $_REQUEST['pagina']) {
                        $paginacaoProxima = $_REQUEST['pagina'];
                    } elseif ($totalPaginacao > 1) {
                        $paginacaoProxima = $_REQUEST['pagina'] + 1;
                    } else {
                        $paginacaoAnterior = 1;
                    }
                    if ($_REQUEST['pagina'] <= 10) {
                        $inicial = 1;
                    } else {
                        $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                    }
                    $final = $inicial + 10;
                    $sql .= " LIMIT " . $offSet . ", 15";
                    $query = mysqli_query($con, $sql);
                    if (mysqli_num_rows($query)) {
                        $html .= '<table id="example2" class="table table-bordered table-hover">
                                    <thead>
                                    <tr>
    
                    <th style="padding:5px">ID</th>
    
                    <th style="padding:5px">Nome da Marca</th>
    
                    <th style="padding:5px">Ações</th>
    
                </tr>
                </thead>
                <tbody>';
                        $key = 0;
                        while ($marcas = mysqli_fetch_object($query)) {
                            $html .= '<tr>
    
                        <td style="padding:5px">' . $marcas->id . '</td>
    
                        <td style="padding:5px">' . ($marcas->name) . '</td>
    
                        <td style="padding:5px">
                             <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarMarcas("' . $marcas->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                             <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarMarcas("' . $marcas->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                             <a style="cursor:pointer" onclick=excluirMarcas("' . $marcas->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","marca")><img src="' . URL . 'img/excluir.png" width="20"></a>
                        </td>
                    </tr>';
                            $key++;
                        }
                        $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                        $html .= '</tbody></table>|-|<div class="card-header">
                    <h3 class="card-title">
                      <i class="ion pagination mr-1"></i>
                      Paginação
                    </h3>
    
                    <div class="card-tools">
                        <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                            <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("marcas","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                            <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("marcas","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                            ';
                        $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("marcas","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                        if ($_REQUEST['pagina'] >= 11) {
                            $proxima2 = $inicial - 1;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("marcas","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                       ';
                        }
                        for ($j = $inicial; $j < $final; $j++) {
                            if ($j < $totalPaginacao && $j > 1) {
                                $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("marcas","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                            ';
                            }
                        }
                        if ($totalPaginacao > 11) {
                            $vaiAte = (floor($totalPaginacao / 10)) * 10;
                            if ($vaiAte >= $_REQUEST['pagina']) {
                                $proxima2 = $final;
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("marcas","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                            }
                        }
                        if ($totalPaginacao > 1) {
                            $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("marcas","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                       ';
                            $proxima = $_REQUEST['pagina'] + 1;
                            if ($proxima > $totalPaginacao) {
                                $proxima = $totalPaginacao;
                            }
                        } else {
                            $proxima = 2;
                            if ($proxima > $totalPaginacao) {
                                $proxima = $totalPaginacao;
                            }
                        }
                        $html .= '
                            <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("marcas","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                            <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("marcas","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                       </ul></div>
                        </div>
                        </div>';
                    } else {
                        $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                    }
                    break;
                    case 'itensCarrinho':
                        $sql = "SELECT a.* FROM carts a  ";
                        if ($_REQUEST['nomeFiltro']) {
                            $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                            $where = 1;
                        }
                        $sql .= "ORDER BY a.created_at DESC, a.id DESC";
                        $query = mysqli_query($con, $sql);
                        $total = mysqli_num_rows($query);
                        $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                        $totalPaginacao = ceil($total / 15);
                        if ($totalPaginacao == $_REQUEST['pagina']) {
                            $paginacaoProxima = $_REQUEST['pagina'];
                        } elseif ($totalPaginacao > 1) {
                            $paginacaoProxima = $_REQUEST['pagina'] + 1;
                        } else {
                            $paginacaoAnterior = 1;
                        }
                        if ($_REQUEST['pagina'] <= 10) {
                            $inicial = 1;
                        } else {
                            $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                        }
                        $final = $inicial + 10;
                        $sql .= " LIMIT " . $offSet . ", 15";
                        $query = mysqli_query($con, $sql);
                        if (mysqli_num_rows($query)) {
                            $html .= '<table id="example2" class="table table-bordered table-hover">
                                        <thead>
                                        <tr>
        
                                        <th style="padding:5px">ID</th>
        
                                        <th style="padding:5px">UID</th>
        
                                        <th style="padding:5px">Nome do Produto</th>
        
                                        <th style="padding:5px">Valor do Produto</th>
        
                        <th style="padding:5px">Quantidade</th>
        
                        <th style="padding:5px">Data e Hora de Inserção no Carrinho</th>
        
                        <th style="padding:5px">Ações</th>
        
                    </tr>
                    </thead>
                    <tbody>';
                            $key = 0;
                            while ($marcas = mysqli_fetch_object($query)) {
                                $html .= '<tr>
        
                                <td style="padding:5px">' . $marcas->id . '</td>
        
                                <td style="padding:5px">' . $marcas->session_id . '</td>
        
                                <td style="padding:5px">' . ($marcas->name) . '</td>
        
                                <td style="padding:5px">R$' . number_format($marcas->value, 2, ',', '.') . '</td>
        
                                <td style="padding:5px">' . ($marcas->quantity) . '</td>
        
                                <td style="padding:5px">' . date('d/m/Y à\s H:i:s', strtotime($marcas->created_at)) . '</td>
        
                            <td style="padding:5px">
                                 <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarCarrinho("' . $marcas->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                                 <a style="cursor:pointer" onclick=excluirCarrinho("' . $marcas->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","carrinho")><img src="' . URL . 'img/excluir.png" width="20"></a>
                            </td>
                        </tr>';
                                $key++;
                            }
                            $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                            $html .= '</tbody></table>|-|<div class="card-header">
                        <h3 class="card-title">
                          <i class="ion pagination mr-1"></i>
                          Paginação
                        </h3>
        
                        <div class="card-tools">
                            <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("itensCarrinho","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("itensCarrinho","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                                ';
                            $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("itensCarrinho","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                            if ($_REQUEST['pagina'] >= 11) {
                                $proxima2 = $inicial - 1;
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("itensCarrinho","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                           ';
                            }
                            for ($j = $inicial; $j < $final; $j++) {
                                if ($j < $totalPaginacao && $j > 1) {
                                    $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("itensCarrinho","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                                ';
                                }
                            }
                            if ($totalPaginacao > 11) {
                                $vaiAte = (floor($totalPaginacao / 10)) * 10;
                                if ($vaiAte >= $_REQUEST['pagina']) {
                                    $proxima2 = $final;
                                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("itensCarrinho","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                                }
                            }
                            if ($totalPaginacao > 1) {
                                $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("itensCarrinho","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                           ';
                                $proxima = $_REQUEST['pagina'] + 1;
                                if ($proxima > $totalPaginacao) {
                                    $proxima = $totalPaginacao;
                                }
                            } else {
                                $proxima = 2;
                                if ($proxima > $totalPaginacao) {
                                    $proxima = $totalPaginacao;
                                }
                            }
                            $html .= '
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("itensCarrinho","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("itensCarrinho","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                           </ul></div>
                            </div>
                            </div>';
                        } else {
                            $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                        }
                        break;
            case 'feriados':
                $sql = "SELECT a.* FROM holidays a WHERE a.date LIKE '".$_REQUEST['anoFiltro']."%' ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "AND a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.date ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do Feriado</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($feriados = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $feriados->id . '</td>

                    <td style="padding:5px">' . ($feriados->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarFeriados("' . $feriados->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarFeriados("' . $feriados->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirFeriados("' . $feriados->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","feriado")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("feriados","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("feriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("feriados","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("feriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("feriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("feriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("feriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("feriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("feriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'comentariosFeriados':
                $sql = "SELECT a.*, b.name AS nomeFeriado, c.name AS nomeCliente, d.nomeFantasia, d.contato
                FROM holidays_coments a 
                INNER JOIN holidays b ON (a.holiday = b.id) 
                LEFT JOIN pessoa_fisicas c ON (a.client = c.client) 
                LEFT JOIN pessoa_juridicas d ON (a.client = d.client) ";
                if ($_REQUEST['feriadoFiltro']) {
                    $sql .= "WHERE a.holiday = '" . $_REQUEST['feriadoFiltro'] . "' ";
                    $where = 1;
                }
                if ($_REQUEST['clienteFiltro']) {
                    if ($where){
                        $sql .= "AND ";
                    }
                    else{
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.client = '" . $_REQUEST['clienteFiltro'] . "' ";
                    $where = 1;
                }
                if ($_REQUEST['anoFiltro']) {
                    if ($where){
                        $sql .= "AND ";
                    }
                    else{
                        $sql .= "WHERE ";
                    }
                    $sql .= "b.date LIKE '" . $_REQUEST['anoFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id DESC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome / ID do Feriado</th>

                <th style="padding:5px">Nome / ID do Cliente</th>

                <th style="padding:5px">Avaliação</th>

                <th style="padding:5px">Início do Comentário</th>

                <th style="padding:5px">Status</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($feriados = mysqli_fetch_object($query)) {

                        $sql = "SELECT * FROM holidays_coments_aprovas WHERE holiday_coment = '".$feriados->id."' ORDER BY id DESC";
                        $queryAprovacoes = mysqli_query($con, $sql);
                        
                        $status = ($feriados->status == 1) ? "<span style='color:#CCCC00; font-weight:bold'>Pendente</span>" : "<span style='color:#000033; font-weight:bold'>Aprovado</span>";
   
                        $html .= '<tr>

                    <td style="padding:5px">' . $feriados->id . '</td>

                    <td style="padding:5px">' . ($feriados->nomeFeriado) . ' / '.$feriados->holiday.'</td>

                    <td style="padding:5px">';
                    if  ($feriados->nomeCliente){
                        $html .= ($feriados->nomeCliente);
                    }
                    else{
                        $html .= ($feriados->nomeFantasia." - ".$feriados->contato);
                    }
                    $html .= ' / '.$feriados->client.'</td>

                    <td style="padding:5px">' . ($feriados->avaliacao) . '</td>

                    <td style="padding:5px">' . (substr($feriados->coment, 0, 25)) . '...</td>

                    <td style="padding:5px">' . ($status) . '</td>

                    <td style="padding:5px">';
                    
                    if (mysqli_num_rows($queryAprovacoes)){
                        $html .= '<a href="#" data-toggle="modal" data-target="#modalVisualizacaoComentarios" onclick=visualizarAprovacoesComentariosFeriados("' . $feriados->id . '","' . URL . '","' . $_SESSION['user']['id'] . '")><img src="' . URL . 'img/sucesso.png" width="20"></a>';
                    }
                    $html .= '        
                            <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarComentariosFeriados("' . $feriados->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                            <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarComentariosFeriados("' . $feriados->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                            <a style="cursor:pointer" onclick=excluirComentariosFeriados("' . $feriados->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","comentário_do_feriado")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                    <i class="ion pagination mr-1"></i>
                    Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("comentariosFeriados","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("comentariosFeriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("comentariosFeriados","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("comentariosFeriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                    ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("comentariosFeriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("comentariosFeriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("comentariosFeriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                    ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("comentariosFeriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("comentariosFeriados","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                    </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'parceiros':
                $sql = "SELECT a.* FROM partners a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Cliques</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($parceiros = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $parceiros->id . '</td>

                    <td style="padding:5px">' . ($parceiros->name) . '</td>

                    <td style="padding:5px">' . ($parceiros->cliques) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarParceiros("' . $parceiros->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarParceiros("' . $parceiros->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirParceiros("' . $parceiros->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","parceiro")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("parceiros","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("parceiros","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("parceiros","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("parceiros","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("parceiros","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("parceiros","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("parceiros","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("parceiros","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("parceiros","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'nacionalidade':
                $sql = "SELECT a.* FROM nationalities a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.padrao DESC, a.name ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome da Nacionalidade</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($nacionalidade = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $nacionalidade->id . '</td>

                    <td style="padding:5px">' . ($nacionalidade->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarNacionalidade("' . $nacionalidade->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarNacionalidade("' . $nacionalidade->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirNacionalidade("' . $nacionalidade->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","nacionalidade")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("nacionalidade","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("nacionalidade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("nacionalidade","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("nacionalidade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("nacionalidade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("nacionalidade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("nacionalidade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("nacionalidade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("nacionalidade","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'pais':
                $sql = "SELECT a.* FROM countries a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.padrao DESC, a.name ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do País</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($pais = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $pais->id . '</td>

                    <td style="padding:5px">' . ($pais->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarPais("' . $pais->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarPais("' . $pais->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirPais("' . $pais->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","pais")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pais","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("pais","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("pais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("pais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("pais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'redesSociais':
                $sql = "SELECT a.* FROM social_networks a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Cliques</th>

                <th style="padding:5px">Recebidos</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($redesSociais = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $redesSociais->id . '</td>

                    <td style="padding:5px">' . ($redesSociais->name) . '</td>

                    <td style="padding:5px">' . ($redesSociais->cliques) . '</td>

                    <td style="padding:5px">' . ($redesSociais->recebidos) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarRedesSociais("' . $redesSociais->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarRedesSociais("' . $redesSociais->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirRedesSociais("' . $redesSociais->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","redeSocial")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("redesSociais","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("redesSociais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("redesSociais","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("redesSociais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("redesSociais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("redesSociais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("redesSociais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("redesSociais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("redesSociais","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'cupomDesconto':
                $sql = "SELECT a.* FROM coupon_discounts a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.codigo LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id DESC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Código</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($cupomDesconto = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $cupomDesconto->id . '</td>

                    <td style="padding:5px">' . ($cupomDesconto->codigo) . '</td>

                    <td style="padding:5px">
                        <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarCupomDesconto("' . $cupomDesconto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                        <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarCupomDesconto("' . $cupomDesconto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirCupomDesconto("' . $cupomDesconto->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","cupomDesconto")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>
                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("cupomDesconto","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("cupomDesconto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("cupomDesconto","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("cupomDesconto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("cupomDesconto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("cupomDesconto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("cupomDesconto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("cupomDesconto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("cupomDesconto","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'valePresente':
                $sql = "SELECT a.* FROM vales a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.code LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id DESC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Código</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($valePresente = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $valePresente->id . '</td>

                    <td style="padding:5px">' . ($valePresente->code) . '</td>

                    <td style="padding:5px">
                        <a style="cursor:pointer" onclick=enviarValePresente("' . $valePresente->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/enviarEmail.png" width="20"></a>
                        <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarValePresente("' . $valePresente->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                        <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarValePresente("' . $valePresente->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("valePresente","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("valePresente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("valePresente","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("valePresente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("valePresente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("valePresente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("valePresente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("valePresente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("valePresente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'selos':
                $sql = "SELECT a.* FROM stamps a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.name ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do Selo</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($selos = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $selos->id . '</td>

                    <td style="padding:5px">' . ($selos->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarSelos("' . $selos->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarSelos("' . $selos->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirSelos("' . $selos->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","selo")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("selos","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("selos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("selos","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("selos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("selos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("selos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("selos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("selos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("selos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'sugestoes':
                $sql = "SELECT a.* FROM suggestions a  ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.name ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome da Sugestão</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($sugestoes = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $sugestoes->id . '</td>

                    <td style="padding:5px">' . ($sugestoes->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarSugestoes("' . $sugestoes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarSugestoes("' . $sugestoes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                         <a style="cursor:pointer" onclick=excluirSugestoes("' . $sugestoes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","selo")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("sugestoes","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("sugestoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("sugestoes","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("sugestoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("sugestoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("sugestoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("sugestoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("sugestoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("sugestoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'relacionamentos':
                $sql = "SELECT a.* FROM relationships a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.name ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do Relacionamento</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            </tbody>';
                    $key = 0;
                    while ($relacionamentos = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $relacionamentos->id . '</td>

                    <td style="padding:5px">' . ($relacionamentos->name) . '</td>

                    <td style="padding:5px">
                    ';
                        $html .= '
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarRelacionamento("' . $relacionamentos->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarRelacionamento("' . $relacionamentos->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirRelacionamento("' . $relacionamentos->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","relacionamento")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("relacionamentos","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("relacionamentos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("relacionamentos","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("relacionamentos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("relacionamentos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("relacionamentos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("relacionamentos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("relacionamentos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("relacionamentos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'paramSite':
                $sql = "SELECT a.* FROM param_sites a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id DESC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>
                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Valor</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($parametroSite = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $parametroSite->name . '</td>

                    <td style="padding:5px">' . ($parametroSite->value) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarParametroSite("' . $parametroSite->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarParametroSite("' . $parametroSite->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirParametroSite("' . $parametroSite->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","parametro_do_site")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("paramSite","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("paramSite","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("paramSite","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("paramSite","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("paramSite","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("paramSite","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("paramSite","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("paramSite","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("paramSite","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'paramAdmin':
                $sql = "SELECT a.* FROM param_admins a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id DESC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">Nome</th>

                <th style="padding:5px">Valor</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>';
                    $key = 0;
                    while ($parametroAdmin = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $parametroAdmin->name . '</td>

                    <td style="padding:5px">' . ($parametroAdmin->value) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarParametroAdmin("' . $parametroAdmin->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarParametroAdmin("' . $parametroAdmin->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirParametroAdmin("' . $parametroAdmin->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","parametro_do_admin")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("paramAdmin","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("paramAdmin","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("paramAdmin","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("paramAdmin","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("paramAdmin","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("paramAdmin","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("paramAdmin","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("paramAdmin","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("paramAdmin","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
                case 'versao':
                    $sql = "SELECT a.* FROM versions a ";
                    if ($_REQUEST['nomeFiltro']) {
                        $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                        $where = 1;
                    }
                    $sql .= "ORDER BY a.id DESC";
                    $query = mysqli_query($con, $sql);
                    $total = mysqli_num_rows($query);
                    $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                    $totalPaginacao = ceil($total / 15);
                    if ($totalPaginacao == $_REQUEST['pagina']) {
                        $paginacaoProxima = $_REQUEST['pagina'];
                    } elseif ($totalPaginacao > 1) {
                        $paginacaoProxima = $_REQUEST['pagina'] + 1;
                    } else {
                        $paginacaoAnterior = 1;
                    }
                    if ($_REQUEST['pagina'] <= 10) {
                        $inicial = 1;
                    } else {
                        $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                    }
                    $final = $inicial + 10;
                    $sql .= " LIMIT " . $offSet . ", 15";
                    $query = mysqli_query($con, $sql);
                    if (mysqli_num_rows($query)) {
                        $html .= '<table id="example2" class="table table-bordered table-hover">
                                    <thead>
                                    <tr>
    
                    <th style="padding:5px">ID</th>
    
                    <th style="padding:5px">Nome da Versão</th>
    
                    <th style="padding:5px">Ações</th>
    
                </tr>
                </thead>';
                        $key = 0;
                        while ($parametroAdmin = mysqli_fetch_object($query)) {
                            $html .= '<tr>
    
                        <td style="padding:5px">' . $parametroAdmin->id . '</td>
    
                        <td style="padding:5px">' . ($parametroAdmin->name) . '</td>
    
                        <td style="padding:5px">
                             <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarVersao("' . $parametroAdmin->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                             <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarVersao("' . $parametroAdmin->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                            <a style="cursor:pointer" onclick=excluirVersao("' . $parametroAdmin->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","versao")><img src="' . URL . 'img/excluir.png" width="20"></a>
                        </td>
                    </tr>';
                            $key++;
                        }
                        $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                        $html .= '</tbody></table>|-|<div class="card-header">
                    <h3 class="card-title">
                      <i class="ion pagination mr-1"></i>
                      Paginação
                    </h3>
    
                    <div class="card-tools">
                        <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                            <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("versao","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                            <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("versao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                            ';
                        $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("versao","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                        if ($_REQUEST['pagina'] >= 11) {
                            $proxima2 = $inicial - 1;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("versao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                       ';
                        }
                        for ($j = $inicial; $j < $final; $j++) {
                            if ($j < $totalPaginacao && $j > 1) {
                                $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("versao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                            ';
                            }
                        }
                        if ($totalPaginacao > 11) {
                            $vaiAte = (floor($totalPaginacao / 10)) * 10;
                            if ($vaiAte >= $_REQUEST['pagina']) {
                                $proxima2 = $final;
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("versao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                            }
                        }
                        if ($totalPaginacao > 1) {
                            $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("versao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                       ';
                            $proxima = $_REQUEST['pagina'] + 1;
                            if ($proxima > $totalPaginacao) {
                                $proxima = $totalPaginacao;
                            }
                        } else {
                            $proxima = 2;
                            if ($proxima > $totalPaginacao) {
                                $proxima = $totalPaginacao;
                            }
                        }
                        $html .= '
                            <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("versao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                            <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("versao","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                       </ul></div>
                        </div>
                        </div>';
                    } else {
                        $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                    }
                    break;
                    case 'posicoes':
                        $sql = "SELECT a.* FROM positions a ";
                        if ($_REQUEST['nomeFiltro']) {
                            $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                            $where = 1;
                        }
                        $sql .= "ORDER BY a.status DESC, a.name ASC";
                        $query = mysqli_query($con, $sql);
                        $total = mysqli_num_rows($query);
                        $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                        $totalPaginacao = ceil($total / 15);
                        if ($totalPaginacao == $_REQUEST['pagina']) {
                            $paginacaoProxima = $_REQUEST['pagina'];
                        } elseif ($totalPaginacao > 1) {
                            $paginacaoProxima = $_REQUEST['pagina'] + 1;
                        } else {
                            $paginacaoAnterior = 1;
                        }
                        if ($_REQUEST['pagina'] <= 10) {
                            $inicial = 1;
                        } else {
                            $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                        }
                        $final = $inicial + 10;
                        $sql .= " LIMIT " . $offSet . ", 15";
                        $query = mysqli_query($con, $sql);
                        if (mysqli_num_rows($query)) {
                            $html .= '<table id="example2" class="table table-bordered table-hover">
                                        <thead>
                                        <tr>
        
                        <th style="padding:5px">ID</th>
        
                        <th style="padding:5px">Nome</th>
        
                        <th style="padding:5px">Status</th>
        
                        <th style="padding:5px">Ações</th>
        
                    </tr>
                    </thead>';
                            $key = 0;
                            while ($posicoes = mysqli_fetch_object($query)) {
                                if ($posicoes->status == 0){
                                    $status = "<b style='color:#FF0000'>Inativo</b>";
                                }
                                elseif ($posicoes->status == 1){
                                    $status = "<b style='color:#000033'>Ativo</b>";
                                }
                                $html .= '<tr>
        
                            <td style="padding:5px">' . $posicoes->id . '</td>
        
                            <td style="padding:5px">' . ($posicoes->name) . '</td>
        
                            <td style="padding:5px">' . ($status) . '</td>
        
                            <td style="padding:5px">
                                 <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarPosicao("' . $posicoes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                                 <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarPosicao("' . $posicoes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                                <a style="cursor:pointer" onclick=excluirPosicao("' . $posicoes->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","a","posicao")><img src="' . URL . 'img/excluir.png" width="20"></a>
                            </td>
                        </tr>';
                                $key++;
                            }
                            $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                            $html .= '</tbody></table>|-|<div class="card-header">
                        <h3 class="card-title">
                          <i class="ion pagination mr-1"></i>
                          Paginação
                        </h3>
        
                        <div class="card-tools">
                            <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("posicoes","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("posicoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                                ';
                            $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("posicoes","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                            if ($_REQUEST['pagina'] >= 11) {
                                $proxima2 = $inicial - 1;
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("posicoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                           ';
                            }
                            for ($j = $inicial; $j < $final; $j++) {
                                if ($j < $totalPaginacao && $j > 1) {
                                    $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("posicoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                                ';
                                }
                            }
                            if ($totalPaginacao > 11) {
                                $vaiAte = (floor($totalPaginacao / 10)) * 10;
                                if ($vaiAte >= $_REQUEST['pagina']) {
                                    $proxima2 = $final;
                                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("posicoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                                }
                            }
                            if ($totalPaginacao > 1) {
                                $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("posicoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                           ';
                                $proxima = $_REQUEST['pagina'] + 1;
                                if ($proxima > $totalPaginacao) {
                                    $proxima = $totalPaginacao;
                                }
                            } else {
                                $proxima = 2;
                                if ($proxima > $totalPaginacao) {
                                    $proxima = $totalPaginacao;
                                }
                            }
                            $html .= '
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("posicoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("posicoes","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                           </ul></div>
                            </div>
                            </div>';
                        } else {
                            $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                        }
                        break;
                    case 'tempoBanner':
                        $sql = "SELECT a.* FROM time_banners a ";
                        if ($_REQUEST['nomeFiltro']) {
                            $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                            $where = 1;
                        }
                        $sql .= "ORDER BY a.status DESC, a.id ASC";
                        $query = mysqli_query($con, $sql);
                        $total = mysqli_num_rows($query);
                        $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                        $totalPaginacao = ceil($total / 15);
                        if ($totalPaginacao == $_REQUEST['pagina']) {
                            $paginacaoProxima = $_REQUEST['pagina'];
                        } elseif ($totalPaginacao > 1) {
                            $paginacaoProxima = $_REQUEST['pagina'] + 1;
                        } else {
                            $paginacaoAnterior = 1;
                        }
                        if ($_REQUEST['pagina'] <= 10) {
                            $inicial = 1;
                        } else {
                            $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                        }
                        $final = $inicial + 10;
                        $sql .= " LIMIT " . $offSet . ", 15";
                        $query = mysqli_query($con, $sql);
                        if (mysqli_num_rows($query)) {
                            $html .= '<table id="example2" class="table table-bordered table-hover">
                                        <thead>
                                        <tr>
        
                        <th style="padding:5px">ID</th>
        
                        <th style="padding:5px">Nome</th>
        
                        <th style="padding:5px">Número de Dias</th>
        
                        <th style="padding:5px">Status</th>
        
                        <th style="padding:5px">Ações</th>
        
                    </tr>
                    </thead>';
                            $key = 0;
                            while ($tempoBanner = mysqli_fetch_object($query)) {
                                if ($tempoBanner->status == 0){
                                    $status = "<b style='color:#FF0000'>Inativo</b>";
                                }
                                elseif ($tempoBanner->status == 1){
                                    $status = "<b style='color:#000033'>Ativo</b>";
                                }
                                $html .= '<tr>
        
                            <td style="padding:5px">' . $tempoBanner->id . '</td>
        
                            <td style="padding:5px">' . ($tempoBanner->name) . '</td>
        
                            <td style="padding:5px">' . ($tempoBanner->days) . '</td>
        
                            <td style="padding:5px">' . ($status) . '</td>
        
                            <td style="padding:5px">
                                    <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarTempoBanner("' . $tempoBanner->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                                    <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarTempoBanner("' . $tempoBanner->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                                <a style="cursor:pointer" onclick=excluirTempoBanner("' . $tempoBanner->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","tempo_do_banner")><img src="' . URL . 'img/excluir.png" width="20"></a>                        </td>
                        </tr>';
                                $key++;
                            }
                            $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                            $html .= '</tbody></table>|-|<div class="card-header">
                        <h3 class="card-title">
                            <i class="ion pagination mr-1"></i>
                            Paginação
                        </h3>
        
                        <div class="card-tools">
                            <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tempoBanner","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tempoBanner","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                                ';
                            $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tempoBanner","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                            if ($_REQUEST['pagina'] >= 11) {
                                $proxima2 = $inicial - 1;
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tempoBanner","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                            ';
                            }
                            for ($j = $inicial; $j < $final; $j++) {
                                if ($j < $totalPaginacao && $j > 1) {
                                    $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tempoBanner","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                                ';
                                }
                            }
                            if ($totalPaginacao > 11) {
                                $vaiAte = (floor($totalPaginacao / 10)) * 10;
                                if ($vaiAte >= $_REQUEST['pagina']) {
                                    $proxima2 = $final;
                                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tempoBanner","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                                }
                            }
                            if ($totalPaginacao > 1) {
                                $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tempoBanner","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                            ';
                                $proxima = $_REQUEST['pagina'] + 1;
                                if ($proxima > $totalPaginacao) {
                                    $proxima = $totalPaginacao;
                                }
                            } else {
                                $proxima = 2;
                                if ($proxima > $totalPaginacao) {
                                    $proxima = $totalPaginacao;
                                }
                            }
                            $html .= '
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tempoBanner","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tempoBanner","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                            </ul></div>
                            </div>
                            </div>';
                        } else {
                            $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                        }
                        break;
                    case 'target':
                        $sql = "SELECT a.* FROM targets a ";
                        if ($_REQUEST['nomeFiltro']) {
                            $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                            $where = 1;
                        }
                        $sql .= "ORDER BY a.status DESC, a.id ASC";
                        $query = mysqli_query($con, $sql);
                        $total = mysqli_num_rows($query);
                        $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                        $totalPaginacao = ceil($total / 15);
                        if ($totalPaginacao == $_REQUEST['pagina']) {
                            $paginacaoProxima = $_REQUEST['pagina'];
                        } elseif ($totalPaginacao > 1) {
                            $paginacaoProxima = $_REQUEST['pagina'] + 1;
                        } else {
                            $paginacaoAnterior = 1;
                        }
                        if ($_REQUEST['pagina'] <= 10) {
                            $inicial = 1;
                        } else {
                            $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                        }
                        $final = $inicial + 10;
                        $sql .= " LIMIT " . $offSet . ", 15";
                        $query = mysqli_query($con, $sql);
                        if (mysqli_num_rows($query)) {
                            $html .= '<table id="example2" class="table table-bordered table-hover">
                                        <thead>
                                        <tr>
        
                        <th style="padding:5px">ID</th>
        
                        <th style="padding:5px">Nome</th>
        
                        <th style="padding:5px">Status</th>
        
                        <th style="padding:5px">Ações</th>
        
                    </tr>
                    </thead>
                    </tbody>';
                            $key = 0;
                            while ($target = mysqli_fetch_object($query)) {
                                if ($target->status == 0){
                                    $status = "<b style='color:#FF0000'>Inativo</b>";
                                }
                                elseif ($target->status == 1){
                                    $status = "<b style='color:#000033'>Ativo</b>";
                                }
                                $html .= '<tr>
        
                            <td style="padding:5px">' . $target->id . '</td>
        
                            <td style="padding:5px">' . ($target->name) . '</td>
        
                            <td style="padding:5px">' . ($status) . '</td>
        
                            <td style="padding:5px">
                                    <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarTarget("' . $target->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                                    <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarTarget("' . $target->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                                <a style="cursor:pointer" onclick=excluirTarget("' . $target->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","tempo_do_banner")><img src="' . URL . 'img/excluir.png" width="20"></a>                        </td>
                        </tr>';
                                $key++;
                            }
                            $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                            $html .= '</tbody></table>|-|<div class="card-header">
                        <h3 class="card-title">
                            <i class="ion pagination mr-1"></i>
                            Paginação
                        </h3>
        
                        <div class="card-tools">
                            <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("target","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("target","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                                ';
                            $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("target","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                            if ($_REQUEST['pagina'] >= 11) {
                                $proxima2 = $inicial - 1;
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("target","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                            ';
                            }
                            for ($j = $inicial; $j < $final; $j++) {
                                if ($j < $totalPaginacao && $j > 1) {
                                    $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("target","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                                ';
                                }
                            }
                            if ($totalPaginacao > 11) {
                                $vaiAte = (floor($totalPaginacao / 10)) * 10;
                                if ($vaiAte >= $_REQUEST['pagina']) {
                                    $proxima2 = $final;
                                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("target","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                                }
                            }
                            if ($totalPaginacao > 1) {
                                $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("target","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                            ';
                                $proxima = $_REQUEST['pagina'] + 1;
                                if ($proxima > $totalPaginacao) {
                                    $proxima = $totalPaginacao;
                                }
                            } else {
                                $proxima = 2;
                                if ($proxima > $totalPaginacao) {
                                    $proxima = $totalPaginacao;
                                }
                            }
                            $html .= '
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("target","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("target","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                            </ul></div>
                            </div>
                            </div>';
                        } else {
                            $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                        }
                        break;
            case 'backgrounds':
                $sql = "SELECT a.* FROM backgrounds a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do Background</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>';
                    $key = 0;
                    while ($background = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $background->id . '</td>

                    <td style="padding:5px">' . ($background->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarBackgrounds("' . $background->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarBackgrounds("' . $background->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirBackgrounds("' . $background->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","background")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("backgrounds","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("backgrounds","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("backgrounds","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("backgrounds","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("backgrounds","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("backgrounds","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("backgrounds","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("backgrounds","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("backgrounds","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'usuarios':
                $sql = "SELECT a.* FROM users a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['emailFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.email = '" . $_REQUEST['emailFiltro'] . "' ";
                    $where = 1;
                }
                if ($_REQUEST['idUser'] != 1) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.id = '" . $_REQUEST['idUser'] . "' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do Usuário</th>

                <th style="padding:5px">Email do Usuário</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($usuarios = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $usuarios->id . '</td>

                    <td style="padding:5px">' . ($usuarios->name) . '</td>

                    <td style="padding:5px">' . ($usuarios->email) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarUsuarios("' . $usuarios->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarUsuarios("' . $usuarios->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirUsuarios("' . $usuarios->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","usuário")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("usuarios","\'' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("usuarios","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("usuarios","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("usuarios","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("usuarios","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("usuarios","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("usuarios","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("usuarios","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("usuarios","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'usuarios-pre':
                $sql = "SELECT a.* FROM user_pres a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['emailFiltro']) {
                    if ($where) {
                        $sql .= "AND ";
                    } else {
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.email = '" . $_REQUEST['emailFiltro'] . "' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do Usuário</th>

                <th style="padding:5px">Email do Usuário</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($usuarios = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $usuarios->id . '</td>

                    <td style="padding:5px">' . ($usuarios->name) . '</td>

                    <td style="padding:5px">' . ($usuarios->email) . '</td>

                    <td style="padding:5px">
                         <a href="#" onclick=aprovaUsuario("'.$usuarios->id.'","'.URL.'","'.$_SESSION['user']['id'].'")><img src="' . URL . 'img/sucesso.png" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarUsuariosPre("' . $usuarios->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarUsuariosPre("' . $usuarios->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirUsuariosPre("' . $usuarios->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","usuário_pre")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>

                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("usuarios-pre","\'' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("usuarios-pre","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("usuarios-pre","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("usuarios-pre","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("usuarios-pre","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("usuarios-pre","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("usuarios-pre","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("usuarios-pre","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("usuarios-pre","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'tiposModulo':
                $sql = "SELECT a.* FROM type_modules a ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                    $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>
                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do Tipo de Módulo</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    $key = 0;
                    while ($tipoModulo = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $tipoModulo->id . '</td>

                    <td style="padding:5px">' . ($tipoModulo->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarTipoModulo("' . $tipoModulo->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarTipoModulo("' . $tipoModulo->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirTipoModulo("' . $tipoModulo->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","tipoModulo")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                    $html .= '</tbbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposModulo","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposModulo","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                    $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tiposModulo","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                    if ($_REQUEST['pagina'] >= 11) {
                        $proxima2 = $inicial - 1;
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposModulo","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                    }
                    for ($j = $inicial; $j < $final; $j++) {
                        if ($j < $totalPaginacao && $j > 1) {
                            $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tiposModulo","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                        }
                    }
                    if ($totalPaginacao > 11) {
                        $vaiAte = (floor($totalPaginacao / 10)) * 10;
                        if ($vaiAte >= $_REQUEST['pagina']) {
                            $proxima2 = $final;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposModulo","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                        }
                    }
                    if ($totalPaginacao > 1) {
                        $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("tiposModulo","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                        $proxima = $_REQUEST['pagina'] + 1;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    } else {
                        $proxima = 2;
                        if ($proxima > $totalPaginacao) {
                            $proxima = $totalPaginacao;
                        }
                    }
                    $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposModulo","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("tiposModulo","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
            case 'modulos':
                $sql = "SELECT a.*, b.name AS nomeTipoModulo FROM modules a INNER JOIN type_modules b ON (a.typeModule = b.id) ";
                if ($_REQUEST['nomeFiltro']) {
                    $sql .= "WHERE a.name LIKE '%" . $_REQUEST['nomeFiltro'] . "%' ";
                    $where = 1;
                }
                if ($_REQUEST['tipoModuloFiltro']) {
                    if ($where){
                        $sql .= "AND ";
                    }
                    else{
                        $sql .= "WHERE ";
                    }
                    $sql .= "a.typeModule = '" . $_REQUEST['tipoModuloFiltro'] . "' ";
                    $where = 1;
                }
                $sql .= "ORDER BY a.typeModule ASC, a.id ASC";
                $query = mysqli_query($con, $sql);
                $total = mysqli_num_rows($query);
                $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                $totalPaginacao = ceil($total / 15);
                if ($totalPaginacao == $_REQUEST['pagina']) {
                    $paginacaoProxima = $_REQUEST['pagina'];
                } elseif ($totalPaginacao > 1) {
                    $paginacaoProxima = $_REQUEST['pagina'] + 1;
                } else {
                    $paginacaoAnterior = 1;
                }
                if ($_REQUEST['pagina'] <= 10) {
                    $inicial = 1;
                } else {
                    $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                }
                $final = $inicial + 10;
                $sql .= " LIMIT " . $offSet . ", 15";
                $query = mysqli_query($con, $sql);
                if (mysqli_num_rows($query)) {
                        $html .= '<table id="example2" class="table table-bordered table-hover">
                                <thead>
                                <tr>

                <th style="padding:5px">ID</th>

                <th style="padding:5px">Nome do Tipo de Módulo</th>
                <th style="padding:5px">Nome do Módulo</th>

                <th style="padding:5px">Ações</th>

            </tr>
            </thead>
            <tbody>';
                    ;$key = 0;
                    while ($modulo = mysqli_fetch_object($query)) {
                        $html .= '<tr>

                    <td style="padding:5px">' . $modulo->id . '</td>

                    <td style="padding:5px">' . ($modulo->nomeTipoModulo) . '</td>

                    <td style="padding:5px">' . ($modulo->name) . '</td>

                    <td style="padding:5px">
                         <a href="#" data-toggle="modal" data-target="#modalVisualizacao" onclick=visualizarModulo("' . $modulo->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/visualizar.svg" width="20"></a>
                         <a href="#" data-toggle="modal" data-target="#modalEdicao" onclick=editarModulo("' . $modulo->id . '","' . URL . '","' . $_REQUEST['idUser'] . '")><img src="' . URL . 'img/editar.png" width="20"></a>
                        <a style="cursor:pointer" onclick=excluirModulo("' . $modulo->id . '","' . URL . '","' . $_REQUEST['idUser'] . '","o","modulo")><img src="' . URL . 'img/excluir.png" width="20"></a>
                    </td>
                </tr>';
                        $key++;
                    }
                    $html .= '</tbbody></table>|-|<div class="card-header">
                <h3 class="card-title">
                  <i class="ion pagination mr-1"></i>
                  Paginação
                </h3>

                <div class="card-tools">
                    <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("modulos","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("modulos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                        ';
                        $background = ($_REQUEST['pagina'] == 1) ? "#cccccc" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("modulos","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                        if ($_REQUEST['pagina'] >= 11) {
                            $proxima2 = $inicial - 1;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("modulos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                   ';
                        }
                        for ($j = $inicial; $j < $final; $j++) {
                            if ($j < $totalPaginacao && $j > 1) {
                                $background = ($_REQUEST['pagina'] == $j) ? "#cccccc" : "";
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("modulos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                        ';
                            }
                        }
                        if ($totalPaginacao > 11) {
                            $vaiAte = (floor($totalPaginacao / 10)) * 10;
                            if ($vaiAte >= $_REQUEST['pagina']) {
                                $proxima2 = $final;
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("modulos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                            }
                        }
                        if ($totalPaginacao > 1) {
                            $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#cccccc" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("modulos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                   ';
                            $proxima = $_REQUEST['pagina'] + 1;
                            if ($proxima > $totalPaginacao) {
                                $proxima = $totalPaginacao;
                            }
                        } else {
                            $proxima = 2;
                            if ($proxima > $totalPaginacao) {
                                $proxima = $totalPaginacao;
                            }
                        }
                        $html .= '
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("modulos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                        <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("modulos","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                   </ul></div>
                    </div>
                    </div>';
                } else {
                    $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                }
                break;
                case 'logs':
                case 'logsAcesso':
                    $sql = "SELECT a.*, b.name AS nomeUsuario FROM logs a INNER JOIN users b ON (a.user = b.id) ";
                    if ($_REQUEST['usuarioFiltro']) {
                        $sql .= "WHERE a.user = '" . $_REQUEST['usuarioFiltro'] . "' ";
                        $where = 1;
                    }
                    if ($_REQUEST['acaoFiltro']) {
                        if ($where) {
                            $sql .= "AND ";
                        } else {
                            $sql .= "WHERE ";
                        }
                        $sql .= "a.action LIKE '%" . $_REQUEST['acaoFiltro'] . "%' ";
                        $where = 1;
                    }
                    if ($_REQUEST['idUser'] != 1) {
                        if ($where) {
                            $sql .= "AND ";
                        } else {
                            $sql .= "WHERE ";
                        }
                        $sql .= "a.user = '" . $_REQUEST['idUser'] . "' ";
                        $where = 1;
                    }
                    $sql .= "ORDER BY a.id DESC";
                    $query = mysqli_query($con, $sql);
                    $total = mysqli_num_rows($query);
                    $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                    $totalPaginacao = ceil($total / 15);
                    if ($totalPaginacao == $_REQUEST['pagina']) {
                        $paginacaoProxima = $_REQUEST['pagina'];
                    } elseif ($totalPaginacao > 1) {
                        $paginacaoProxima = $_REQUEST['pagina'] + 1;
                    } else {
                        $paginacaoAnterior = 1;
                    }
                    if ($_REQUEST['pagina'] <= 10) {
                        $inicial = 1;
                    } else {
                        $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                    }
                    $final = $inicial + 10;
                    $sql .= " LIMIT " . $offSet . ", 15";
                    $query = mysqli_query($con, $sql);
                    if (mysqli_num_rows($query)) {
                        $html .= '<table id="example2" class="table table-bordered table-hover">
                                    <thead>
                                    <tr>
                                        <th>Nome do Usuário</th>
                                        <th>Ação</th>
                                        <th>Data / Hora</th>
                                    </tr>
                                    </thead>
                                    <tbody>';
                        $key = 0;
                        while ($usuarios = mysqli_fetch_object($query)) {
                            $vet = explode(' ', $usuarios->created_at);
                            $vet2 = explode('-', $vet[0]);
                            $usuarios->created_at = $vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h";
                            $html .= '<tr>

                        <td style="padding:5px">' . ($usuarios->nomeUsuario) . '</td>

                        <td style="padding:5px">' . ($usuarios->action) . '</td>

                        <td style="padding:5px">' . ($usuarios->created_at) . '</td>

                    </tr>';
                            $key++;
                        }
                        $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                        $html .= '</table>
                <div class="card">
                  <div class="card-header">
                    <h3 class="card-title">
                      <i class="ion pagination mr-1"></i>
                      Paginação
                    </h3>

                    <div class="card-tools">
                        <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                            <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("logs","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                            <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("logs","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                            ';
                        $background = ($_REQUEST['pagina'] == 1) ? "#CCCCCC" : "";
                        $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("logs","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                        if ($_REQUEST['pagina'] >= 11) {
                            $proxima2 = $inicial - 1;
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("logs","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                       ';
                        }
                        for ($j = $inicial; $j < $final; $j++) {
                            if ($j < $totalPaginacao && $j > 1) {
                                $background = ($_REQUEST['pagina'] == $j) ? "#CCCCCC" : "";
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("logs","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                            ';
                            }
                        }
                        if ($totalPaginacao > 11) {
                            $vaiAte = (floor($totalPaginacao / 10)) * 10;
                            if ($vaiAte >= $_REQUEST['pagina']) {
                                $proxima2 = $final;
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("logs","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                            }
                        }
                        if ($totalPaginacao > 1) {
                            $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#CCCCCC" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("logs","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                       ';
                            $proxima = $_REQUEST['pagina'] + 1;
                            if ($proxima > $totalPaginacao) {
                                $proxima = $totalPaginacao;
                            }
                        } else {
                            $proxima = 2;
                            if ($proxima > $totalPaginacao) {
                                $proxima = $totalPaginacao;
                            }
                        }
                        $html .= '
                            <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("logs","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                            <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("logs","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                       </ul></div>
                        </div>
                        </div>';
                    } else {
                        $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                    }
                    break;
                    case 'logsCliente':
                        $sql = "SELECT a.*, c.name AS nomeCliente, d.nomeFantasia, d.contato FROM logs_clients a INNER JOIN clients b ON (a.client = b.id) LEFT JOIN pessoa_fisicas c ON (b.id = c.client) LEFT JOIN pessoa_juridicas d ON (b.id = d.client) ";
                        if ($_REQUEST['clienteFiltro']) {
                            $sql .= "WHERE (c.name LIKE '%" . $_REQUEST['clienteFiltro'] . "%' OR d.razaoSocial LIKE '%".$_REQUEST['clienteFiltro']."%' OR d.nomeFantasia LIKE '%".$_REQUEST['clienteFiltro']."%' OR d.contato LIKE '%".$_REQUEST['clienteFiltro']."%') ";
                            $where = 1;
                        }
                        if ($_REQUEST['acaoFiltro']) {
                            if ($where) {
                                $sql .= "AND ";
                            } else {
                                $sql .= "WHERE ";
                            }
                            $sql .= "a.action LIKE '%" . $_REQUEST['acaoFiltro'] . "%' ";
                            $where = 1;
                        }
                        if ($_REQUEST['dataFiltro']) {
                            if ($where) {
                                $sql .= "AND ";
                            } else {
                                $sql .= "WHERE ";
                            }
                            $sql .= "a.created_at LIKE '%" . $_REQUEST['dataFiltro'] . "%' ";
                            $where = 1;
                        }
                        $sql .= "ORDER BY a.created_at DESC";
                        $query = mysqli_query($con, $sql);
                        $total = mysqli_num_rows($query);
                        $offSet = $_REQUEST['pagina'] < 1 ? 0 : ((15 * ($_REQUEST['pagina'] - 1) > $total) ? $total - ($total % 15) : 15 * ($_REQUEST['pagina'] - 1));
                        $totalPaginacao = ceil($total / 15);
                        if ($totalPaginacao == $_REQUEST['pagina']) {
                            $paginacaoProxima = $_REQUEST['pagina'];
                        } elseif ($totalPaginacao > 1) {
                            $paginacaoProxima = $_REQUEST['pagina'] + 1;
                        } else {
                            $paginacaoAnterior = 1;
                        }
                        if ($_REQUEST['pagina'] <= 10) {
                            $inicial = 1;
                        } else {
                            $inicial = ((ceil($_REQUEST['pagina'] / 10) - 1) * 10) + 1;
                        }
                        $final = $inicial + 10;
                        $sql .= " LIMIT " . $offSet . ", 15";
                        $query = mysqli_query($con, $sql);
                        if (mysqli_num_rows($query)) {
                            $html .= '<table id="example2" class="table table-bordered table-hover">
                                        <thead>
                                        <tr>
                                            <th>ID do Cliente / Nome do Cliente</th>
                                            <th>Ação</th>
                                            <th>Data / Hora</th>
                                        </tr>
                                        </thead>
                                        <tbody>';
                            $key = 0;
                            while ($usuarios = mysqli_fetch_object($query)) {
                                $vet = explode(' ', $usuarios->created_at);
                                $vet2 = explode('-', $vet[0]);
                                $usuarios->created_at = $vet2[2]."/".$vet2[1]."/".$vet2[0]." às ".$vet[1]."h";
                                $nomeCliente = ($usuarios->nomeCliente) ? ($usuarios->nomeCliente) : ($usuarios->nomeFantasia." - ".$usuarios->contato);
                                $html .= '
                        <tr>

                            <td style="padding:5px">' . ($usuarios->client.' / '.$nomeCliente). '</td>

                            <td style="padding:5px">' . ($usuarios->action) . '</td>

                            <td style="padding:5px">' . ($usuarios->created_at) . '</td>

                        </tr>';
                                $key++;
                            }
                            $paginacaoAnterior = ($_REQUEST['pagina'] == 1) ? 1 : $_REQUEST['pagina'] - 1;
                            $html .= '</table>
                    <div class="card">
                      <div class="card-header">
                        <h3 class="card-title">
                          <i class="ion pagination mr-1"></i>
                          Paginação
                        </h3>

                        <div class="card-tools">
                            <ul class="pagination pagination-sm" style="width:100%; text-align:center">
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("logsCliente","' . URL . '","' . $_REQUEST['idUser'] . '","1")>&laquo;</a></li>
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("logsCliente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $paginacaoAnterior . '")>&leftarrow;</a></li>
                                ';
                            $background = ($_REQUEST['pagina'] == 1) ? "#CCCCCC" : "";
                            $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("logsCliente","' . URL . '","' . $_REQUEST['idUser'] . '","1")>1</a></li>';
                            if ($_REQUEST['pagina'] >= 11) {
                                $proxima2 = $inicial - 1;
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("logsCliente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>
                           ';
                            }
                            for ($j = $inicial; $j < $final; $j++) {
                                if ($j < $totalPaginacao && $j > 1) {
                                    $background = ($_REQUEST['pagina'] == $j) ? "#CCCCCC" : "";
                                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("logsCliente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $j . '")>' . $j . '</a></li>
                                ';
                                }
                            }
                            if ($totalPaginacao > 11) {
                                $vaiAte = (floor($totalPaginacao / 10)) * 10;
                                if ($vaiAte >= $_REQUEST['pagina']) {
                                    $proxima2 = $final;
                                    $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("logsCliente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima2 . '")>...</a></li>';
                                }
                            }
                            if ($totalPaginacao > 1) {
                                $background = ($_REQUEST['pagina'] == $totalPaginacao) ? "#CCCCCC" : "";
                                $html .= '<li class="page-item"><a class="page-link" style="cursor:pointer; background-color: '.$background.'" onClick=verificaNovamente("logsCliente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>' . $totalPaginacao . '</a></li>
                           ';
                                $proxima = $_REQUEST['pagina'] + 1;
                                if ($proxima > $totalPaginacao) {
                                    $proxima = $totalPaginacao;
                                }
                            } else {
                                $proxima = 2;
                                if ($proxima > $totalPaginacao) {
                                    $proxima = $totalPaginacao;
                                }
                            }
                            $html .= '
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("logsCliente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $proxima . '")>&rightarrow;</a></li>
                                <li class="page-item"><a class="page-link" style="cursor:pointer" onClick=verificaNovamente("logsCliente","' . URL . '","' . $_REQUEST['idUser'] . '","' . $totalPaginacao . '")>&raquo;</a></li>
                           </ul></div>
                            </div>
                            </div>';
                        } else {
                            $html = '<div style="text-align:center; background-color:#FF0000; color:#FFFFFF; padding:5px; width:100%">Sem nenhum registro encontrado!</div>';
                        }
                        break;
        }
        echo "1|-|".$html;
        break;
    case "editaProdutoPedido":
        $sql = "SELECT * FROM requests_items WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        echo "1|-|".$row['product']."|-|".$row['product_item']."|-|".$row['id'];
        break;
    case "excluirItemPedido":
        $sql = "DELETE FROM requests_items WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "incluirItemPedido":
        $sql = "SELECT * FROM products_items WHERE id = '".$_REQUEST['product_item']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $valor = ($row['promotion'] && $row['validity_promotion'] > date('Y-m-d')) ? $row['promotion'] : $row['value'];
        $sql = "INSERT INTO requests_items (request, product, ";
        for ($i = 1; $i <= 10; $i++){
            $sql .= "attribute".$i.", ";
        }
        $sql .= "name, domine, quantity, value, created_at, updated_at) VALUES ('".$_REQUEST['request']."', '".$_REQUEST['product']."', ";
        for ($i = 1; $i <= 10; $i++){
            $sql .= "'".$_REQUEST["attribute".$i]."'', ";
        }
        $sql .= " '".$row['name']."', '".$_REQUEST['domine']."', '1', '".$valor."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $idRequestItem = mysqli_insert_id($con);
        if ($_REQUEST['product'] == 3){
            $sql = "INSERT INTO cashier_system (razao_social, nome_fantasia, email, cnpj, cep, logradouro, numero, complemento, bairro, cidade, estado, tipoEstabelecimento, quantidade, numeroPessoasPorMesa, percentual) VALUES ('".$_REQUEST['razaoSocial']."', '".$_REQUEST['nomeFantasia']."', '".$_REQUEST['email']."', '".$_REQUEST['cnpj']."', '".$_REQUEST['cep']."', '".$_REQUEST['logradouro']."', '".$_REQUEST['numero']."', '".$_REQUEST['complemento']."', '".$_REQUEST['bairro']."', '".$_REQUEST['cidade']."', '".$_REQUEST['estado']."', '".$_REQUEST['tipoEstabelecimento']."', '".$_REQUEST['quantidade']."', '".$_REQUEST['numPessoas']."', '".$_REQUEST['perGarcom']."')";
            mysqli_query($con, $sql);
            $idSistemaCaixa = mysqli_insert_id($con);
            $sql = "UPDATE requests_items SET cashier_system = '".$idSistemaCaixa."' WHERE id = '".$idRequestItem."'";
            mysqli_query($con, $sql);
        }
        if ($_REQUEST['product'] == 4){
            $sql = "INSERT INTO school_system (nome, email, cep, logradouro, numero, complemento, bairro, cidade, estado, tipoNota, turno, letra) VALUES ('".$_REQUEST['nome']."', '".$_REQUEST['email']."', '".$_REQUEST['cep']."', '".$_REQUEST['logradouro']."', '".$_REQUEST['numero']."', '".$_REQUEST['complemento']."', '".$_REQUEST['bairro']."', '".$_REQUEST['cidade']."', '".$_REQUEST['estado']."', '".$_REQUEST['tipoNota']."', '".$_REQUEST['turno']."', '".$_REQUEST['letra']."')";
            mysqli_query($con, $sql);
            $idSistemaEscola = mysqli_insert_id($con);
            $sql = "UPDATE requests_items SET school_system = '".$idSistemaEscola."' WHERE id = '".$idRequestItem."'";
            mysqli_query($con, $sql);
        }
        echo "1";
        break;
    case "editarItemPedido":
        $sql = "SELECT * FROM products_items WHERE id = '".$_REQUEST['product_item']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $valor = ($row['promotion'] && $row['validity_promotion'] > date('Y-m-d')) ? $row['promotion'] : $row['value'];
        $sql = "UPDATE requests_items SET product = '".$_REQUEST['product']."', product_item = '".$_REQUEST['product_item']."', name = '".$row['name']."', domine = '".$_REQUEST['domine']."', quantity = '1', value = '".$valor."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "productItemCadastro":
        $sql = "SELECT * FROM products_items WHERE id = '".$_REQUEST['id']."' ";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        if ($row['product'] != 3 && $row['product'] != 4) {
            $html .= "<label for='domineCadastro'>Domínio:</label><input type='text' name='domineCadastro' id='domineCadastro' required class='form-control'>";
        }
        elseif ($row['product'] == 3){
            $html .= "
            <label for='razaoSocialCaixa'>Razão Social:</label>
            <input type='text' name='razaoSocialCaixa' id='razaoSocialCaixa' required class='form-control'>
            <label for='nomeFantasiaCaixa'>Nome Fantasia:</label>
            <input type='text' name='nomeFantasiaCaixa' id='nomeFantasiaCaixa' required class='form-control'>
            <label for='emailCaixa'>Email:</label>
            <input type='email' name='emailCaixa' id='emailCaixa' required class='form-control'>
            <label for='cnpjCaixa'>CNPJ:</label>
            <input type='text' name='cnpjCaixa' id='cnpjCaixa' required class='form-control' onkeypress=\"return mascara(this, '00.000.000/0000-00', event)\">
            <label for='cepCaixa'>CEP:</label>
            <input type='text' name='cepCaixa' id='cepCaixa' required class='form-control' onkeypress=\"return mascara(this, '00000-000', event)\" onkeyup=\"verificacepcaixa(this.value)\">
            <label for='logradouroCaixa'>Logradouro:</label>
            <input type='text' name='logradouroCaixa' id='logradouroCaixa' required class='form-control'>
            <label for='numeroCaixa'>Numero:</label>
            <input type='text' name='numeroCaixa' id='numeroCaixa' required class='form-control'>
            <label for='complementoCaixa'>Complemento:</label>
            <input type='text' name='complementoCaixa' id='complementoCaixa' class='form-control'>
            <label for='bairroCaixa'>Bairro:</label>
            <input type='text' name='bairroCaixa' id='bairroCaixa' required class='form-control'>
            <label for='cidadeCaixa'>Cidade:</label>
            <input type='text' name='cidadeCaixa' id='cidadeCaixa' required class='form-control'>
            <label for='estadoCaixa'>Estado:</label>
            <select name='estadoCaixa' id='estadoCaixa' required class='form-control'>
                <option value=''>Selecione o estado corretamente...</option>";
            $sql = "SELECT * FROM states ORDER BY sigla ASC";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                while ($row = mysqli_fetch_array($query)){
                    $html .= "<option value='".$row['sigla']."'>".$row['sigla']."</option>";
                }
            }
            $html .="
            </select>
            <label for='tipoEstabelecimentoCaixa'>Tipo do Estabelecimento:</label>
            <select name='tipoEstabelecimentoCaixa' id='tipoEstabelecimentoCaixa' required class='form-control' onchange='selecionaTipoEstabelecimento(this.value)'>
                <option value=''>Selecione o tipo do estabelecimento corretamente...</option>
                <option value='1'>Mesas</option>
                <option value='2'>Caixas</option>
            </select>
            <div id='tiposEstabelecimentoRealizarPedido'></div>";
        }
        elseif ($row['product'] == 4){
            $html .= "
            <label for='nomeEscola'>Nome da Escola:</label>
            <input type='text' name='nomeEscola' id='nomeEscola' required class='form-control'>
            <label for='emailEscola'>Email da Escola:</label>
            <input type='text' name='emailEscola' id='emailEscola' required class='form-control'>
            <label for='cepEscola'>CEP:</label>
            <input type='text' name='cepEscola' id='cepEscola' required class='form-control' onkeypress=\"return mascara(this, '00000-000', event)\" onkeyup=\"verificacepescolar(this.value)\">
            <label for='logradouroEscola'>Logradouro:</label>
            <input type='text' name='logradouroEscola' id='logradouroEscola' required class='form-control'>
            <label for='numeroEscola'>Numero:</label>
            <input type='text' name='numeroEscola' id='numeroEscola' required class='form-control'>
            <label for='complementoEscola'>Complemento:</label>
            <input type='text' name='complementoEscola' id='complementoEscola' class='form-control'>
            <label for='bairroEscola'>Bairro:</label>
            <input type='text' name='bairroEscola' id='bairroEscola' required class='form-control'>
            <label for='cidadeEscola'>Cidade:</label>
            <input type='text' name='cidadeEscola' id='cidadeEscola' required class='form-control'>
            <label for='estadoEscola'>Estado:</label>
            <select name='estadoEscola' id='estadoEscola' required class='form-control'>
                <option value=''>Selecione o estado corretamente...</option>";
            $sql = "SELECT * FROM states ORDER BY sigla ASC";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                while ($row = mysqli_fetch_array($query)){
                    $html .= "<option value='".$row['sigla']."'>".$row['sigla']."</option>";
                }
            }
            $html .="
            </select>
            <label for='tipoNotaEscola'>Tipo de Nota:</label>
            <select name='tipoNotaEscola' id='tipoNotaEscola' required class='form-control'>
                <option value=''>Selecione o tipo de nota corretamente...</option>
                <option value='1'>Bimestral</option>
                <option value='2'>Trimestral</option>
                <option value='3'>Semestral</option>
                <option value='4'>Anual</option>
            </select>
            <label for='turnoEscola'>Turno da Escola:</label>
            <select name='turnoEscola' id='turnoEscola' required class='form-control'>
                <option value=''>Selecione o turno da escola corretamente...</option>
                <option value='1'>Manhã</option>
                <option value='2'>Tarde</option>
                <option value='3'>Noite</option>
                <option value='4'>Único</option>
                <option value='5'>Todos</option>
            </select>
                <label for='letraEscola'>Letra da Escola:</label>
                     <select name='letraEscola' id='letraEscola' required class='form-control'>
                     <option value=''>Selecione até que letra a escola vai abaixo...</option>";
                     for($i = 0; $i <= 26; $i++) {
                         switch ($i){
                             case 0:
                                 $letra = "Única";
                                 $l = "Un";
                                 break;
                             case 1:
                                 $letra = "A";
                                 break;
                             case 2:
                                 $letra = "B";
                                 break;
                             case 3:
                                 $letra = "C";
                                 break;
                             case 4:
                                 $letra = "D";
                                 break;
                             case 5:
                                 $letra = "E";
                                 break;
                             case 6:
                                 $letra = "F";
                                 break;
                             case 7:
                                 $letra = "G";
                                 break;
                             case 8:
                                 $letra = "H";
                                 break;
                             case 9:
                                 $letra = "I";
                                 break;
                             case 10:
                                 $letra = "J";
                                 break;
                             case 11:
                                 $letra = "K";
                                 break;
                             case 12:
                                 $letra = "L";
                                 break;
                             case 13:
                                 $letra = "M";
                                 break;
                             case 14:
                                 $letra = "N";
                                 break;
                             case 15:
                                 $letra = "O";
                                 break;
                             case 16:
                                 $letra = "P";
                                 break;
                             case 17:
                                 $letra = "Q";
                                 break;
                             case 18:
                                 $letra = "R";
                                 break;
                             case 19:
                                 $letra = "S";
                                 break;
                             case 20:
                                 $letra = "T";
                                 break;
                             case 21:
                                 $letra = "U";
                                 break;
                             case 22:
                                 $letra = "V";
                                 break;
                             case 23:
                                 $letra = "W";
                                 break;
                             case 24:
                                 $letra = "X";
                                 break;
                             case 25:
                                 $letra = "Y";
                                 break;
                             case 26:
                                 $letra = "Z";
                                 break;
                         }
                         if ($i > 0){
                             $l = $letra;
                         }
                         $html .= "<option value='".$l."'>".$letra."</option>";
                     }
                     $html .= "
                     </select>";
        }
        $html .= "<br>
                            <button type=\"button\" onclick=\"incluirItem('".URL."')\"class=\"btn btn-primary\">Gravar</button>";
        echo "1|-|".$html;
        break;
    case "productItemEdita":
        $sql = "SELECT * FROM requests_items WHERE product_item = '".$_REQUEST['id']."' AND request = '".$_REQUEST['request']."' AND product = '".$_REQUEST['product']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        if ($row['product'] != 3 && $row['product'] != 4) {
            $html .= "<label for='domineEdita'>Domínio:</label><input type='text' name='domineEdita' id='domineEdita' required class='form-control' value='".$row['domine']."'>";
        }
        $html .= "<br>
                            <button type=\"button\" onclick=\"atualizarItem('".URL."')\"class=\"btn btn-primary\">Gravar</button>";
        echo "1|-|".$html;
        break;
    case "selecionaProdutoCadastro":
        $html = "<label for='productItemCadastro'>Item do Produto</label>
                 <select name='productItemCadastro' id='productItemCadastro' required class='form-control' onchange=selectProductItemCadastro(this.value,'".URL."')>
                    <option value=''>Selecione o item do produto abaixo...</option>";
        $sql = "SELECT * FROM products_items WHERE product = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $valor = ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')) ? $row['promotion'] : $row['value'];
                $html .= "<option value='".$row['id']."'>".($row['name'])." - R$ ".number_format($valor, 2, ',', '.')."</option>";
            }
        }
        $html .= "</select><div id='productsItemCadastro'></div>";
        echo "1|-|".$html;
        break;
    case "selecionaEnderecoPedido":
        $sql = "SELECT * FROM addresses WHERE id = '" . $_REQUEST['id'] . "'";
        $query = mysqli_query($con, $sql);
        $endereco = mysqli_fetch_object($query);
        $html = "<b>Nome do Endereço:</b> " . ($endereco->name) . "<br>
                                          <b>CEP do Endereço:</b> " . ($endereco->cep) . "<br>
                                          <b>Logradouro do Endereço:</b> " . ($endereco->address) . "<br>
                                          <b>Número do Endereço:</b> " . ($endereco->number);
        if ($endereco->complement) {
            $html .= "<br>
                                          <b>Complemento do Endereço:</b> " . ($endereco->complement);
        }
        $html .= "<br>
                                          <b>Bairro do Endereço:</b> " . ($endereco->neighborhood);
        $html .= "<br>
                                          <b>Cidade do Endereço:</b> " . ($endereco->city);
        $html .= "<br>
                                          <b>Estado do Endereço:</b> " . ($endereco->state);
        echo "1|-|" . $html;
        break;
    case "pegaEnderecosCliente":
        $sql = "SELECT * FROM addresses WHERE idClient = '" . $_REQUEST['idCliente'] . "'";
        $query = mysqli_query($con, $sql);
        $html = "<label for='enderecoPedido'>Endereço do Cliente:</label><select name='enderecoPedido' id='enderecoPedido' class='form-control' required onchange=selecionaEnderecoPedido(this.value,'" . URL . "')><option value=''>Selecione o endereço abaixo corretamente...</option>";
        while ($value = mysqli_fetch_object($query)) {
            $html .= "<option value='$value->id'";
            if ($_REQUEST['idEndereco'] == $value->id) {
                $endereco = $value;
                $html .= " selected";
            }
            $html .= ">" . ($value->name . " - " . $value->address . " ... " . $value->city . " - " . $value->state) . "</option>";
        }
        $html .= "</select>";
        if (count($endereco)) {
            $html2 = "<b>Nome do Endereço:</b> " . ($endereco->name) . "<br>
                                          <b>CEP do Endereço:</b> " . ($endereco->cep) . "<br>
                                          <b>Logradouro do Endereço:</b> " . ($endereco->address) . "<br>
                                          <b>Número do Endereço:</b> " . ($endereco->number);
            if ($endereco->complement) {
                $html2 .= "<br>
                                          <b>Complemento do Endereço:</b> " . ($endereco->complement);
            }
            $html2 .= "<br>
                                          <b>Bairro do Endereço:</b> " . ($endereco->neighborhood);
            $html2 .= "<br>
                                          <b>Cidade do Endereço:</b> " . ($endereco->city);
            $html2 .= "<br>
                                          <b>Estado do Endereço:</b> " . ($endereco->state);
        }
    echo "1|-|$html|-|".$html2;
    break;
    case "selecionaClientePedido":
        $sql = "SELECT a.*, b.name AS nameTypeDocument FROM clients a INNER JOIN type_documents b ON (a.typeDocument = b.id)  WHERE a.id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $cliente = mysqli_fetch_object($query);
        $html = "
                            <div class=\"media text-muted pt-3\">
                                <p><b>Nome do Cliente: </b>".($cliente->name)."</p>
                            </div>
                            <div class=\"media text-muted pt-3\">
                                <p><b>Email do Cliente: </b>".$cliente->email."</p>
                            </div>
                            <div class=\"media text-muted pt-3\">
                                <p><b>Celular do Cliente: </b>$cliente->cel</p>
                            </div>
                            <div class=\"media text-muted pt-3\">
                                <p><b>Tipo de Documento do Cliente: </b>$cliente->nameTypeDocument</p>
                            </div>
                            <div class=\"media text-muted pt-3\">
                                <p><b>Documento do Cliente: </b>$cliente->document</p>
                            </div>";
        echo "1|-|".$html;
        break;
    case "pegaItensPedido":
        $sql = "SELECT * FROM products WHERE status = '1'";
        $query = mysqli_query($con, $sql);
        while ($row = mysqli_fetch_array($query)){
            $products[] = $row;
        }
        $sql = "SELECT * FROM requests_items WHERE request = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html .= '<table border="0" width="100%" cellpadding="0" cellspacing="0">';
            if ($_REQUEST['cadastrar']){
                $html .= "<tr><td colspan='6'><button class='btn btn-primary' onClick='abre(\"cadastrarItem\")'>Cadastrar Item</button><div id='cadastrarItem' style='position: absolute; display:none; float: left; width:70%; padding:10px; background-color:#FFFFFF; border:1px solid #e7e7e7'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick=fecha('cadastrarItem')>&times;</div><input type='hidden' value='".$_REQUEST['id']."' name='requestCadastro' id='requestCadastro'><h3>Cadastro de Item</h3><label for='productCadastro'>Produto: </label><select class='form-control' name='productCadastro' id='productCadastro' onchange=selectProductCadastro(this.value,'".URL."')><option value=''>Selecione o produto...</option>";
                foreach($products as $key => $value){
                    $html .= "<option value='".$value['id']."'>".($value['name'])."</option>";
                }
                $html .= "</select><div id='selecionadoProdutoCadastro'></div></td></tr>";
            }
            $html .= "<div id='atualizarItem' style='position: absolute; display:none; float: left; width:70%; padding:10px; background-color:#FFFFFF; border:1px solid #e7e7e7'><div style='position:absolute; float:left; left:95%; cursor:pointer' onclick=fecha('atualizarItem')>&times;</div><input type='hidden' value='' name='idEdita' id='idEdita'><input type='hidden' value='".$_REQUEST['id']."' name='requestEdita' id='requestEdita'><h3>Edição de Item</h3><label for='productEdita'>Produto: </label><select class='form-control' name='productEdita' id='productEdita' onchange=selecionaProdutoEdita(this.value,'".$_REQUEST['id']."','".$_REQUEST['product']."','','".URL."')><option value=''>Selecione o produto...</option>";
                foreach($products as $key => $value){
                    $html .= "<option value='".$value['id']."'>".($value['name'])."</option>";
                }
                $html .= "</select><div id='selecionadoProdutoEdita'></div>
                        <tr>
                            <th style='text-align: center'>ID do Produto</th>
                            <th style='text-align: center'>Nome do Produto</th>
                            <th style='text-align: center'>Valor Unitário do Produto</th>
                            <th style='text-align: center'>Quantidade</th>
                            <th style='text-align: center'>Valor Total</th>";
            if ($_REQUEST['editar'] == 1 || $_REQUEST['excluir'] == 1){
                $html .= '<th style="text-align: center">Ações</th>';
            }
            $HTML .= '
                        </tr>';
            while ($row = mysqli_fetch_array($query)){
                $background = ($i % 2 == 0) ? "#e7e7e7" : "#ffffff";
                $html .= '<tr>
                            <td style="text-align:center; padding:5px; background-color: '.$background.'">'.$row['product'].'</td>
                            <td style="text-align:center; padding:5px; background-color: '.$background.'">'.($row['name']);
                if ($row['cashier_system']){
                    $sql = "SELECT * FROM cashier_system WHERE id = '".$row['cashier_system']."'";
                    $query2 = mysqli_query($con, $sql);
                    $row2 = mysqli_fetch_array($query2);
                    $html .= ' - <a onclick=verInformacoesCaixa("'.$row['cashier_system'].'") style="cursor:pointer">Ver informações do sistema</a>
                             <div id="informacoesCaixa" style="display:none; position:absolute; width:50%; background-color: #FFFFFF; border:1px solid #e7e7e7">
                                <div style="position:absolute; float::left; left: 95%; cursor: pointer" onclick=fecha("informacoesCaixa")>&times;</div>
                                <h3>Informações do Sistema de Caixa</h3>
                                Razão Social: <b>'.$row2['razao_social'].'</b><br>
                                Nome Fantasia: <b>'.$row2['nome_fantasia'].'</b><br>
                                E-mail: <b>'.$row2['email'].'</b><br>
                                CNPJ: <b>'.$row2['cnpj'].'</b><br>
                                CEP: <b>'.$row2['cep'].'</b><br>
                                Logradouro: <b>'.$row2['logradouro'].'</b><br>
                                Número: <b>'.$row2['numero'].'</b><br>';
                    if ($row2['complemento']){
                        $html .= "Complemento: <b>".$row2['complemento']."</b><br>";
                    }
                    $html .= '  Bairro: <b>'.$row2['bairro'].'</b><br>
                                Cidade: <b>'.$row2['cidade'].'</b><br>
                                Estado: <b>'.$row2['estado'].'</b><br>
                                Tipo do Estabelecimento: <b>';
                    if ($row2['tipoEstabelecimento'] == 1){
                        $tipoEstabelecimento = "Mesas";
                    }
                    else{
                        $tipoEstabelecimento = "Caixas";
                    }
                    $html .= $tipoEstabelecimento;
                    $html .= '</b><br>
                                Quantidade de '.$tipoEstabelecimento.': <b>'.$row2['quantidade'].'</b>';
                    if ($row2['tipoEstabelecimento'] == 1){
                        $html .= '<br>Número de Pessoas Por Mesa: <b>'.$row2['numeroPessoasPorMesa'].'</b>
                                    <br>Gorjeta do Garçom: <b>'.$row2['percentual'].'%</b>';
                    }
                   $html .= '</div>';
                }
                if ($row['school_system']){
                    $sql = "SELECT * FROM school_system WHERE id = '".$row['school_system']."'";
                    $query2 = mysqli_query($con, $sql);
                    $row2 = mysqli_fetch_array($query2);
                    $html .= ' - <a onclick=verInformacoesEscolar("'.$row['school_system'].'") style="cursor:pointer">Ver informações do sistema</a>
                             <div id="informacoesEscolar" style="display:none; position:absolute; width:50%; background-color: #FFFFFF; border:1px solid #e7e7e7">
                                <div style="position:absolute; float::left; left: 95%; cursor: pointer" onclick=fecha("informacoesEscolar")>&times;</div>
                                <h3>Informações do Sistema Escolar</h3>
                                Nome: <b>'.$row2['nome'].'</b><br>
                                E-mail: <b>'.$row2['email'].'</b><br>
                                CEP: <b>'.$row2['cep'].'</b><br>
                                Logradouro: <b>'.$row2['logradouro'].'</b><br>
                                Número: <b>'.$row2['numero'].'</b><br>';
                    if ($row2['complemento']){
                        $html .= "Complemento: <b>".$row2['complemento']."</b><br>";
                    }
                    $html .= '  Bairro: <b>'.$row2['bairro'].'</b><br>
                                Cidade: <b>'.$row2['cidade'].'</b><br>
                                Estado: <b>'.$row2['estado'].'</b><br>
                                Tipo de Nota: <b>';
                    if ($row2['tipoNota'] == 1){
                        $html .= 'Bimestral';
                    }
                    elseif ($row2['tipoNota'] == 2){
                        $html .= 'Trimestral';
                    }
                    elseif ($row2['tipoNota'] == 3){
                        $html .= 'Semestral';
                    }
                    elseif ($row2['tipoNota'] == 4){
                        $html .= 'Anual';
                    }
                    $html .= '</b><br>Turno: <b>';
                    if ($row2['turno'] == 1){
                        $html .= 'Manhã';
                    }
                    elseif ($row2['turno'] == 2){
                        $html .= 'Tarde';
                    }
                    elseif ($row2['turno'] == 3){
                        $html .= 'Noite';
                    }
                    elseif ($row2['turno'] == 4){
                        $html .= 'Único';
                    }
                    elseif ($row2['turno'] == 5){
                        $html .= 'Todos';
                    }
                    $html .= '</b><br>Letra: <b>';
                    if ($row2['letra'] == 'Un'){
                        $html .= "Única";
                    }
                    else{
                        $html .= $row2['letra'];
                    }
                    $html .= '</b></div>';
                }
                if ($row['domine']){
                    $html .= ' - <a href="'.$row['domine'].'" target="_blank" title="'.$row['domine'].'">'.substr($row['domine'], 0, 15)."...</a>";
                }
                $html .= '</td>
                            <td style="text-align:center; padding:5px; background-color: '.$background.'">R$'.number_format($row['value'], 2, ',', '.').'</td>
                            <td style="text-align:center; padding:5px; background-color: '.$background.'">'.$row['quantity'].'</td>
                            <td style="text-align:center; padding:5px; background-color: '.$background.'">R$'.number_format($row['value'] * $row['quantity'], 2, ',', '.').'</td>';
                if ($_REQUEST['editar'] == 1 || $_REQUEST['excluir'] == 1){
                    $html .= '<td style="text-align: center; padding:5px; background-color: '.$background.'">';
                    /*if ($_REQUEST['editar'] == 1){
                        $html .= '<img src="'.URL.'img/editar.png" style="cursor:pointer" onclick=editaProdutoPedido("'.$row['id'].'","'.$_REQUEST['id'].'","'.URL.'") width="15">';
                    }*/
                    if ($_REQUEST['excluir'] == 1){
                        $html .= '<img src="'.URL.'img/excluir.png" style="cursor:pointer" onclick=excluirItemPedido("'.$row['id'].'","'.$_REQUEST['id'].'","'.URL.'") width="15">';
                    }
                    $html .= '</td>';
                }

                $html .= '
                        </tr>';
                $i++;
                $valorTotal += $row['value'] * $row['quantity'];
            }
            $html .= '<tr>
                            <td style="padding:5px; text-align:center; width: 100%; background-color:#0069D9; color:#FFFFFF" colspan="6">Valor Total do Pedido: R$ '.number_format($valorTotal, 2, ',','.').'</td>
                        </tr></table>';
        }
        else{
            $html = "<div style='padding:5px; text-align:center; width: 100%; color:#FFFFFF; background-color: #FF0000'>Sem nenhum item encontrado!</div>";
        }
        echo "1|-|".$html;
        break;
    case "addPermissao":
        if ($_REQUEST['field'] == 'view'){
            $permissao = "visualizar";
        }
        elseif ($_REQUEST['field'] == 'register'){
            $permissao = "cadastrar";
        }
        elseif ($_REQUEST['field'] == 'delete'){
            $permissao = "excluir";
        }
        $sql = "INSERT INTO logs (user, action, created_at, updated_at) VALUES ('".$_REQUEST['userLog']."', '".("Adicionou a permissão de ".$permissao." o módulo ".$_REQUEST['module']."  do usuário  ").$_REQUEST['user']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $sql = "SELECT * FROM permissions WHERE module = '".$_REQUEST['module']."' AND user = '".$_REQUEST['user']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $sql = "UPDATE permissions SET `".$_REQUEST['field']."` = '1' WHERE id = '".$row['id']."'";
        }
        else{
            $sql = "INSERT INTO permissions (module, user, `".$_REQUEST['field']."`, created_at, updated_at) VALUES ('".$_REQUEST['module']."', '".$_REQUEST['user']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        }
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1";
        break;
    case "removePermissao":
        if ($_REQUEST['field'] == 'view'){
            $permissao = "visualizar";
        }
        elseif ($_REQUEST['field'] == 'register'){
            $permissao = "cadastrar";
        }
        elseif ($_REQUEST['field'] == 'delete'){
            $permissao = "excluir";
        }
        $sql = "INSERT INTO logs (user, action, created_at, updated_at) VALUES ('".$_REQUEST['userLog']."', '".("Removeu a permissão de ".$permissao." o módulo ".$_REQUEST['module']."  do usuário  ").$_REQUEST['user']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $sql = "SELECT * FROM permissions WHERE module = '".$_REQUEST['module']."' AND user = '".$_REQUEST['user']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $sql = "UPDATE permissions SET `".$_REQUEST['field']."` = '0' WHERE id = '".$row['id']."'";
        }
        else{
            $sql = "INSERT INTO permissions (module, user, `".$_REQUEST['field']."`, created_at, updated_at) VALUES ('".$_REQUEST['module']."', '".$_REQUEST['user']."', '0', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        }
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1";
        break;
    case "pegaPermissaoUsuario":
        echo "1|-|";
        $sql = "INSERT INTO logs (user, action, created_at, updated_at) VALUES ('".$_REQUEST['user']."', '".("Visualizou as permissões do usuário  ").$_REQUEST['id']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $sql = "SELECT a.*, b.name AS nameTypeModule FROM modules a INNER JOIN type_modules b ON (a.typeModule = b.id) ORDER BY a.typeModule ASC, a.id ASC";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            echo '
          <div style="float:left; width:25%">Módulo</div>
          <div style="float:left; width:25%">Visualiar</div>
          <div style="float:left; width:25%">Cadastrar</div>
          <div style="float:left; width:25%">Excluir</div> <br>
    ';
            while($row = mysqli_fetch_array($query)){
                $sql = "SELECT * FROM permissions WHERE user = '".$_REQUEST['id']."' AND module = '".$row['id']."'";
                $query2 = mysqli_query($con, $sql);
                $row2 = mysqli_fetch_array($query2);
                echo '<div style="float: left; width:25%; height:50px;';
                if ($i % 2 == 0){
                    echo 'background-color: #e7e7e7';
                }
                echo '">'.($row['nameTypeModule'].' => '.$row['name']).'</div>
    <div style="float: left; width:25%; height:50px; ';
                if ($i % 2 == 0){
                    echo 'background-color: #e7e7e7';
                }
                echo '" id="view'.$row['id'].$_REQUEST['id'].'">';
                if ($row2['view']){
                    echo '<img src="'.URL.'img/sucesso.png" width="20" style="cursor:pointer" onclick=removePermissao("'.$_REQUEST['id'].'","'.$row['id'].'","view","'.URL.'","'.$_REQUEST['user'].'")>';
                }
                else{
                    echo '<img src="'.URL.'img/erro.ico" width="20" style="cursor:pointer" onclick=adicionaPermissao("'.$_REQUEST['id'].'","'.$row['id'].'","view","'.URL.'","'.$_REQUEST['user'].'")>';
                }
                echo '</div>
    <div style="float: left; width:25%; height:50px; ';
                if ($i % 2 == 0){
                    echo 'background-color: #e7e7e7';
                }
                echo '" id="register'.$row['id'].$_REQUEST['id'].'">';
                if ($row2['register']){
                    echo '<img src="'.URL.'img/sucesso.png" width="20" style="cursor:pointer" onclick=removePermissao("'.$_REQUEST['id'].'","'.$row['id'].'","register","'.URL.'","'.$_REQUEST['user'].'")>';
                }
                else{
                    echo '<img src="'.URL.'img/erro.ico" width="20" style="cursor:pointer" onclick=adicionaPermissao("'.$_REQUEST['id'].'","'.$row['id'].'","register","'.URL.'","'.$_REQUEST['user'].'")>';
                }
                echo '</div>
    <div style="float: left; width:25%; height:50px; ';
                if ($i % 2 == 0){
                echo 'background-color: #e7e7e7';
                }
                echo '" id="delete'.$row['id'].$_REQUEST['id'].'">';
                if ($row2['delete']){
                    echo '<img src="'.URL.'img/sucesso.png" width="20" style="cursor:pointer" onclick=removePermissao("'.$_REQUEST['id'].'","'.$row['id'].'","delete","'.URL.'","'.$_REQUEST['user'].'")>';
                }
                else{
                    echo '<img src="'.URL.'img/erro.ico" width="20" style="cursor:pointer" onclick=adicionaPermissao("'.$_REQUEST['id'].'","'.$row['id'].'","delete","'.URL.'","'.$_REQUEST['user'].'")>';
                }
                echo '</div><br>
';
                $i++;
            }
        }
        else{
            echo '<div style="text-align:center; padding:10px; color:#FFFFFF; background-color: #FF0000">Sem nenhum módulo encontrado!</div>';
        }
        break;
    case "contaAcessoBanner":
        $sql = "SELECT * FROM counters_banners WHERE data = '".date('Y-m-d')."' AND banner = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $acessos = $row['acessos'] + 1;
            $sql = "UPDATE counters_banners SET acessos = '".$acessos."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
            mysqli_query($con, $sql);
        }
        else{
            $sql = "INSERT INTO counters_banners (banner, data, acessos, created_at, updated_at) VALUES ('".$_REQUEST['id']."', '".date('Y-m-d')."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
        }
        $sql = "SELECT * FROM banners WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
        }
        echo "1|-|".str_replace('##URL_SITE##', URL, $row['link']);
        break;
    case "contaAcessoSubitem":
        $sql = "SELECT * FROM counters_subitems WHERE data = '".date('Y-m-d')."' AND subitem = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $acessos = $row['acessos'] + 1;
            $sql = "UPDATE counters_subitems SET acessos = '".$acessos."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
            mysqli_query($con, $sql);
        }
        else{
            $sql = "INSERT INTO counters_subitems (subitem, data, acessos, created_at, updated_at) VALUES ('".$_REQUEST['id']."', '".date('Y-m-d')."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
        }
        echo "1";
        break;
    case "contaAcessoPagina":
        $sql = "SELECT * FROM counters_pages WHERE data = '".date('Y-m-d')."' AND page = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $acessos = $row['acessos'] + 1;
            $sql = "UPDATE counters_pages SET acessos = '".$acessos."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
            mysqli_query($con, $sql);
        }
        else{
            $sql = "INSERT INTO counters_pages (page, data, acessos, created_at, updated_at) VALUES ('".$_REQUEST['id']."', '".date('Y-m-d')."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
        }
        echo "1";
        break;
    case "contaAcessoBusca":
        $sql = "SELECT * FROM counters_searchs WHERE data = '".date('Y-m-d')."' AND busca = '".$_REQUEST['busca']."' AND categorie = '".base64_decode($_REQUEST['categoria'])."'";
        $query = mysqli_query($con, $sql);
        $_REQUEST['categoria'] = (!$_REQUEST['categoria']) ? base64_encode('0') : $_REQUEST['categoria'];
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $acessos = $row['acessos'] + 1;
            $sql = "UPDATE counters_searchs SET acessos = '".$acessos."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
            mysqli_query($con, $sql) or die(mysqli_error($con)."\r\n".$sql);
        }
        else{
            $sql = "INSERT INTO counters_searchs (busca, categorie, data, acessos, created_at, updated_at) VALUES ('".$_REQUEST['busca']."', '".base64_decode($_REQUEST['categoria'])."', '".date('Y-m-d')."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql) or die(mysqli_error($con)."\r\n".$sql);
        }
        echo "1";
        break;
    case "abreImagemProduto":
        $sql = "SELECT a.*, b.name AS nomeProduto FROM products_images a INNER JOIN products b ON (a.product = b.id) WHERE a.id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
		$i = 1;
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            echo "1|-|Foto do Produto ".($row['nomeProduto']."|-|<img src='".URL."storage/".$row['img']."' width='100%' style='cursor:pointer' data-dismiss='modal' aria-label='Fechar' title='".($row['name'])."'>".($row['name']))."|-|";
			$sql = "SELECT * FROM products_images WHERE product = '".$row['product']."' AND product_item = '".$row['product_item']."'";
			$query2 = mysqli_query($con, $sql);
			$tot = mysqli_num_rows($query2);
			if ($tot > 0){
				while ($row2 = mysqli_fetch_array($query2)){
					$fotos[$i] = $row2;
					if ($row2['id'] == $row['id']){
						$estaNa = $i;
					}
					$i++;
				}
			}
			$sql = "SELECT * FROM products_images WHERE product = '".$row['product']."' AND product_item = '".$row['product_item']."'";
			$query2 = mysqli_query($con, $sql);
			$tot = mysqli_num_rows($query2);
			if ($tot > 1){
				if ($estaNa == 1){
					$anterior = $tot;
					$proximo = $estaNa + 1;
				}
				elseif($estaNa == $tot){
					$anterior = $estaNa - 1;
					$proximo = 1;
				}
				else{
					$anterior = $estaNa - 1;
					$proximo = $estaNa + 1;
				}
				echo "<img src='".URL."img/esquerda.png' width='35' style='cursor:pointer' onclick=abreImagemProduto('".$fotos[$anterior]['id']."','".URL."')> <img src='".URL."img/direita.png' width='35' style='cursor:pointer' onclick=abreImagemProduto('".$fotos[$proximo]['id']."','".URL."')>";
			}
        }
        break;
    case "abreVideosProduto":
        $sql = "SELECT a.*, b.name AS nomeProduto FROM products_videos a INNER JOIN products b ON (a.product = b.id) WHERE a.product = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
		$i = 1;
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            echo '1|-|'.($row['name'].'|-|<iframe width="100%" height="400" src="https://www.youtube.com/embed/'.$row['v'].'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'.($row['name']))."|-|";
			$sql = "SELECT * FROM products_videos WHERE product = '".$row['product']."'";
			$query2 = mysqli_query($con, $sql);
			$tot = mysqli_num_rows($query2);
			if ($tot > 0){
				while ($row2 = mysqli_fetch_array($query2)){
					$fotos[$i] = $row2;
					if ($row2['id'] == $row['id']){
						$estaNa = $i;
					}
					$i++;
				}
			}
			$sql = "SELECT * FROM products_videos WHERE product = '".$row['product']."'";
			$query2 = mysqli_query($con, $sql);
			$tot = mysqli_num_rows($query2);
			if ($tot > 1){
				if ($estaNa == 1){
					$anterior = $tot;
					$proximo = $estaNa + 1;
				}
				elseif($estaNa == $tot){
					$anterior = $estaNa - 1;
					$proximo = 1;
				}
				else{
					$anterior = $estaNa - 1;
					$proximo = $estaNa + 1;
				}
				echo "<img src='".URL."img/esquerda.png' width='35' style='cursor:pointer' onclick=abreVideoProduto('".$fotos[$anterior]['id']."','".URL."')> <img src='".URL."img/direita.png' width='35' style='cursor:pointer' onclick=abreVideoProduto('".$fotos[$proximo]['id']."','".URL."')>";
			}
        }
        break;
    case "abreVideoProduto":
        $sql = "SELECT a.*, b.name AS nomeProduto FROM products_videos a INNER JOIN products b ON (a.product = b.id) WHERE a.id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
		$i = 1;
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            echo '1|-|'.($row['name'].'|-|<iframe width="100%" height="400" src="https://www.youtube.com/embed/'.$row['v'].'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'.($row['name']))."|-|";
			$sql = "SELECT * FROM products_videos WHERE product = '".$row['product']."'";
			$query2 = mysqli_query($con, $sql);
			$tot = mysqli_num_rows($query2);
			if ($tot > 0){
				while ($row2 = mysqli_fetch_array($query2)){
					$fotos[$i] = $row2;
					if ($row2['id'] == $row['id']){
						$estaNa = $i;
					}
					$i++;
				}
			}
			$sql = "SELECT * FROM products_videos WHERE product = '".$row['product']."'";
			$query2 = mysqli_query($con, $sql);
			$tot = mysqli_num_rows($query2);
			if ($tot > 1){
				if ($estaNa == 1){
					$anterior = $tot;
					$proximo = $estaNa + 1;
				}
				elseif($estaNa == $tot){
					$anterior = $estaNa - 1;
					$proximo = 1;
				}
				else{
					$anterior = $estaNa - 1;
					$proximo = $estaNa + 1;
				}
				echo "<img src='".URL."img/esquerda.png' width='35' style='cursor:pointer' onclick=abreVideoProduto('".$fotos[$anterior]['id']."','".URL."')> <img src='".URL."img/direita.png' width='35' style='cursor:pointer' onclick=abreVideoProduto('".$fotos[$proximo]['id']."','".URL."')>";
			}
        }
        break;
    case "contaAcesso":
        if (!$_SESSION['contador']){
            $sql = "SELECT * FROM counters WHERE data = '".date('Y-m-d')."'";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                $row = mysqli_fetch_array($query);
                $acessos = $row['acessos'] + 1;
                $sql = "UPDATE counters SET acessos = '".$acessos."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
                mysqli_query($con, $sql);
            }
            else{
                $sql = "INSERT INTO counters (data, acessos, created_at, updated_at) VALUES ('".date('Y-m-d')."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql);
            }
            $_SESSION['contador'] = 1;
        }
        if (!$_REQUEST['url']){
            $url = "pagina";
            $url2 = 'home';
        }
        else{
            $url = $_REQUEST['url'];
            $url2 = $_REQUEST['url2'];
        }
        if ($url == "pagina"){
            $table = "pages";
            $field = "page";
        }
        elseif ($url == "categoria"){
            $table = "categories";
            $field = "categorie";
        }
        elseif ($url == "marca"){
            $table = "brands";
            $field = "brand";
        }
        elseif ($url == "sugestao"){
            $table = "suggestions";
            $field = "suggestion";
        }
        elseif ($url == "relacionamento"){
            $table = "relationships";
            $field = "relationship";
        }
        elseif ($url == "selo"){
            $table = "stamps";
            $field = "stamp";
        }
        elseif ($url == "produto"){
            $table = "products";
            $field = "product";
        }
        elseif ($url == "lista-de-presentes"){
            $table = "presents_lists";
            $field = "present_list";
        }
        $sql = "SELECT * FROM ".$table." WHERE slug = '".$url2."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $qual = $row['id'];
        $sql = "SELECT * FROM counters_".$table." WHERE data = '".date('Y-m-d')."' AND ".$field." = '".$qual."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            $acessos = $row['acessos'] + 1;
            $sql = "UPDATE counters_".$table." SET acessos = '".$acessos."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
            mysqli_query($con, $sql);
        }
        else{
            $sql = "INSERT INTO counters_".$table." (".$field.", data, acessos, created_at, updated_at) VALUES ('".$qual."', '".date('Y-m-d')."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
        }
        echo "1";
        break;
    case "editaEstoque":
        $sql = "SELECT * FROM products_items WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        echo ("1|-|".$row['id']."|-|".$row['code']."|-|".$row['name']."|-|".number_format($row['value'], 2, ',', '.')."|-|".number_format($row['promotion'], 2, ',', '.')."|-|".$row['validity_promotion']."|-|".$row['status']."|-|".$row['estoque']);
        for ($i = 1; $i <= 10; $i++){
            echo "|-|".$row['attribute'.$i];
        }
        echo "|-|".$row['peso']."|-|".$row['largura']."|-|".$row['altura']."|-|".$row['comprimento']."|-|".$row['diametro'];
        break;
    case "editaImagem":
        $sql = "SELECT * FROM products_images WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        echo ("1|-|".$row['id']."|-|".$row['product_item']."|-|".$row['name']."|-|".$row['status']);
        break;
    case "editaVideos":
        $sql = "SELECT * FROM products_videos WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        echo ("1|-|".$row['id']."|-|".$row['v']."|-|".$row['name']."|-|".$row['status']);
        break;
    case "listarEstoque":
        $sql = "SELECT * FROM products_items WHERE product = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        echo "1|-|";
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                ?><div style="width:100%; padding:10px"id="estoque<?php echo $row['id']?>" onmouseover="this.style.backgroundColor='#F7F7F7'" onmouseout="this.style.backgroundColor='#FFFFFF'"><?php echo ($row['name'])?> <img src="<?php echo URL?>img/editar.png" width="20" style="cursor:pointer" onclick="editaEstoque('<?php echo $row['id']?>', '<?php echo URL?>', '<?php echo $_REQUEST['id']?>')"> <img src="<?php echo URL?>img/excluir.png" width="20" style="cursor:pointer" onclick="excluirEstoque('<?php echo $row['id']?>', '<?php echo URL?>', '<?php echo $_REQUEST['id']?>')"></div><?php
            }
        }
        break;
    case "listarImagens":
        $sql = "SELECT a.*, b.name AS nomeItem FROM products_images a INNER JOIN products_items b ON (a.product_item = b.id) WHERE a.product = '".$_REQUEST['id']."' ORDER BY a.product ASC, a.product_item ASC";
        $query = mysqli_query($con, $sql);
        echo "1|-|";
        if (mysqli_num_rows($query)){
            $produtos = 0;
            while ($row = mysqli_fetch_array($query)) {
                if (!$produto || $product_item != $row['product_item']){
                    $produto = $row['product'];
                    $product_item = $row['product_item'];
                    $produtos++;
                }
            }
            if ($produtos == 1){
                ?><button type="button" class="btn btn-primary" onclick="replicarTodas('<?php echo $produto?>', '<?php echo $product_item?>', '<?php echo URL?>')">Replicar Todas</button><?php
            }
            $query = mysqli_query($con, $sql);
            while ($row = mysqli_fetch_array($query)){
                ?><div style="width:100%; padding:10px"id="estoque<?php echo $row['id']?>" onmouseover="this.style.backgroundColor='#F7F7F7'" onmouseout="this.style.backgroundColor='#FFFFFF'"><img src="<?php echo URL?>storage/<?php echo $row['img']?>" width="200"> <?php echo ($row['nomeItem'])." - ".$row['name']?> <img src="<?php echo URL?>img/editar.png" width="20" style="cursor:pointer" onclick="editaImagem('<?php echo $row['id']?>', '<?php echo URL?>', '<?php echo $_REQUEST['id']?>')"> <img src="<?php echo URL?>img/excluir.png" width="20" style="cursor:pointer" onclick="excluirImagem('<?php echo $row['id']?>', '<?php echo URL?>', '<?php echo $_REQUEST['id']?>')"></div><?php
            }
        }
        break;
    case "listarVideos":
        $sql = "SELECT a.* FROM products_videos a WHERE a.product = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        echo "1|-|";
        if (mysqli_num_rows($query)){
            $query = mysqli_query($con, $sql);
            while ($row = mysqli_fetch_array($query)){
                ?><div style="width:100%; padding:10px"id="videos<?php echo $row['id']?>" onmouseover="this.style.backgroundColor='#F7F7F7'" onmouseout="this.style.backgroundColor='#FFFFFF'"><iframe width="100%" height="200" src="https://www.youtube.com/embed/<?php echo $row['v']?>" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><br><?php echo ($row['name'])?> <img src="<?php echo URL?>img/editar.png" width="20" style="cursor:pointer" onclick="editaVideos('<?php echo $row['id']?>', '<?php echo URL?>', '<?php echo $_REQUEST['id']?>')"> <img src="<?php echo URL?>img/excluir.png" width="20" style="cursor:pointer" onclick="excluirVideos('<?php echo $row['id']?>', '<?php echo URL?>', '<?php echo $_REQUEST['id']?>')"></div><?php
            }
        }
        break;
    case "cadastrarEstoque":
        $_REQUEST['value'] = str_replace('.', '', $_REQUEST['value']);
        $_REQUEST['value'] = str_replace(',', '.', $_REQUEST['value']);
        $_REQUEST['promotion'] = str_replace('.', '', $_REQUEST['promotion']);
        $_REQUEST['promotion'] = str_replace(',', '.', $_REQUEST['promotion']);
        $_REQUEST['promotion'] = ($_REQUEST['promotion']) ? $_REQUEST['promotion'] : '0';
        $_REQUEST['diametro'] = ($_REQUEST['diametro']) ? $_REQUEST['diametro'] : '0';
        $_REQUEST['peso'] = ($_REQUEST['peso']) ? $_REQUEST['peso'] : '0';
        $_REQUEST['altura'] = ($_REQUEST['altura']) ? $_REQUEST['altura'] : '0';
        $_REQUEST['largura'] = ($_REQUEST['largura']) ? $_REQUEST['largura'] : '0';
        $_REQUEST['comprimento'] = ($_REQUEST['comprimento']) ? $_REQUEST['comprimento'] : '0';
        $_REQUEST['validity_promotion'] = ($_REQUEST['validity_promotion']) ? $_REQUEST['validity_promotion'] : '1999-01-01';
        $sql = "INSERT INTO products_items (product, ";
        for ($i = 1; $i <= 10; $i++){
            $sql .= "attribute".$i.", ";
        }
        $sql .= "code, name, value, promotion, validity_promotion, status, peso, altura, largura, comprimento, diametro, estoque, created_at, updated_at) VALUES ('".$_REQUEST['product']."', ";
        for ($i = 1; $i <= 10; $i++){
            $_REQUEST['attribute'.$i] = ($_REQUEST['attribute'.$i]) ? $_REQUEST['attribute'.$i] : 0;
            $sql .= "'".$_REQUEST["attribute".$i]."', ";
        }
        $sql .= ("'".$_REQUEST['code']."', '".$_REQUEST['name']."', '".$_REQUEST['value']."', '".$_REQUEST['promotion']."', '".$_REQUEST['validity_promotion']."', '".$_REQUEST['status']."', '".$_REQUEST['peso']."', '".$_REQUEST['altura']."', '".$_REQUEST['largura']."', '".$_REQUEST['comprimento']."', '".$_REQUEST['diametro']."', '".$_REQUEST['estoque']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1|-|";
        break;
    case "editarEstoque":
        $_REQUEST['value'] = str_replace('.', '', $_REQUEST['value']);
        $_REQUEST['value'] = str_replace(',', '.', $_REQUEST['value']);
        $_REQUEST['promotion'] = str_replace('.', '', $_REQUEST['promotion']);
        $_REQUEST['promotion'] = str_replace(',', '.', $_REQUEST['promotion']);
        $_REQUEST['validity_promotion'] = ($_REQUEST['validity_promotion']) ? $_REQUEST['validity_promotion'] : "1999-01-01";
        $sql = ("UPDATE products_items SET code = '".$_REQUEST['code']."', name = '".addslashes($_REQUEST['name'])."', value = '".$_REQUEST['value']."', promotion = '".$_REQUEST['promotion']."', validity_promotion = '".$_REQUEST['validity_promotion']."', status = '".$_REQUEST['status']."', estoque = '".$_REQUEST['estoque']."', peso = '".$_REQUEST['peso']."', altura = '".$_REQUEST['altura']."', largura = '".$_REQUEST['largura']."', comprimento = '".$_REQUEST['comprimento']."', diametro = '".$_REQUEST['diametro']."', ");
        for ($i = 1; $i <= 10; $i++){
            $_REQUEST['attribute'.$i] = ($_REQUEST['attribute'.$i]) ? $_REQUEST['attribute'.$i] : 0;
            $sql .= " attribute".$i." = '".$_REQUEST['attribute'.$i]."',";
        }
        $sql .= " updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1|-|";
        break;
    case "editarImagem":
        $sql = ("UPDATE products_images SET product_item = '".$_REQUEST['item']."', name = '".$_REQUEST['name']."', status = '".$_REQUEST['status']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['id']."'");
        $query = mysqli_query($con, $sql);
        if ($_FILES['imagem']['error'] == 0 && $_FILES['imagem']['tmp_name']){
            if(preg_match("/.jpg/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".jpg";
            }
            elseif(preg_match("/.jpeg/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".jpeg";
            }
            elseif(preg_match("/.gif/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".gif";
            }
            elseif(preg_match("/.png/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".png";
            }
            elseif(preg_match("/.bmp/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".bmp";
            }
            elseif(preg_match("/.svg/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".svg";
            }
            elseif(preg_match("/.webp/", $_FILES['imagem']['name'])){
                $img = "produto".$_REQUEST['product']."_".$_REQUEST['id'].".webp";
            }
            if ($img) {
                unlink(DIRETORIO."storage/produto".$_REQUEST['product']."_".$_REQUEST['id'].".jpg");
                unlink(DIRETORIO."storage/produto".$_REQUEST['product']."_".$_REQUEST['id'].".jpeg");
                unlink(DIRETORIO."storage/produto".$_REQUEST['product']."_".$_REQUEST['id'].".gif");
                unlink(DIRETORIO."storage/produto".$_REQUEST['product']."_".$_REQUEST['id'].".png");
                unlink(DIRETORIO."storage/produto".$_REQUEST['product']."_".$_REQUEST['id'].".bmp");
                unlink(DIRETORIO."storage/produto".$_REQUEST['product']."_".$_REQUEST['id'].".svg");
                unlink(DIRETORIO."storage/produto".$_REQUEST['product']."_".$_REQUEST['id'].".webp");
                copy($_FILES['imagem']['tmp_name'], DIRETORIO."storage/".$img);
                $sql = "UPDATE products_images SET img = '".$img."' WHERE id = '".$_REQUEST['id']."'";
                mysqli_query($con, $sql);
            }
        }
        echo "1";
        break;
    case "editarVideos":
        $sql = "UPDATE products_videos SET v = '".$_REQUEST['v']."', name = '".$_REQUEST['name']."', status = '".$_REQUEST['status']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        echo "1";
        break;
    case "excluirEstoque":
        $sql = "DELETE FROM products_items WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo "1|-|";
        break;
    case "excluirImagem":
        $sql = "SELECT * FROM products_images WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        @unlink(DIRETORIO."storage/".$row['img']);
        $sql = "DELETE FROM products_images WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo "1|-|";
        break;
    case "excluirVideos":
        $sql = "DELETE FROM products_videos WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo "1|-|";
        break;
    case "replicarTodas":
        $sql = "SELECT * FROM products_images WHERE product = '".$_REQUEST['product']."' AND product_item = '".$_REQUEST['product_item']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $imagens[] = $row;
            }
        }
        $sql = "SELECT * FROM products_items WHERE product = '".$_REQUEST['product']."' AND id != '".$_REQUEST['product_item']."'";
        $query2 = mysqli_query($con, $sql);
        if (mysqli_num_rows($query2)){
            while ($row2 = mysqli_fetch_array($query2)){
                foreach ($imagens as $key => $value){
                    $sql = "INSERT INTO products_images (product, product_item, name, status, created_at, updated_at) VALUES ('".$_REQUEST['product']."', '".$row2['id']."', '".$value['name']."', '".$value['status']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                    mysqli_query($con, $sql);
                    $id = mysqli_insert_id($con);
                    $vet = explode('.', $value['img']);
                    $imagem = "produto".$_REQUEST['product']."_".$id.".".$vet[count($vet) - 1];
                    copy(DIRETORIO."storage/".$value['img'], DIRETORIO."storage/".$imagem);
                    $sql = "UPDATE products_images SET img = '".$imagem."' WHERE id = '".$id."'";
                    mysqli_query($con, $sql);
                }
            }
        }
        echo "1";
        break;
    case "mostra_comprovante":
        echo "1|-|";
        $_REQUEST['id'] = $_REQUEST['request_id'];
        $_REQUEST['semRodape'] = 1;
        require('comprovante.php');
        break;
    case "comprar":
        $sql = "SELECT * FROM cart WHERE session_id = '".session_id()."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)) {
            while ($row = mysqli_fetch_array($query)) {
                $subtotal += $row['value'] * $row['quantity'];
            }
        }
        $sql = "INSERT INTO requests (client, paymentMethod, address, valuePayment, status, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', '".$_REQUEST['payment_method']."', '".$_REQUEST['address']."', '".$subtotal."', '3', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        $query = mysqli_query($con, $sql);
        $idPedido = mysqli_insert_id($con);
        $sql = "SELECT * FROM cart WHERE session_id = '".session_id()."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $sql = "INSERT INTO requests_items (request, product, product_item, school_system, cashier_system, name, domine, quantity, value, created_at, updated_at) VALUES ('".$idPedido."', '".$row['product']."', '".$row['product_item']."', '".$row['school_system']."', '".$row['cashier_system']."', '".$row['name']."', '".$row['domine']."', '".$row['quantity']."', '".$row['value']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                $query2 = mysqli_query($con, $sql);
            }
        }
        $sql = "DELETE FROM cart WHERE session_id = '".session_id()."'";
        $query = mysqli_query($con, $sql);
        echo '1|-|<img src="'.URL.'img/loader.gif" width="20"> Aguarde... Carregando Comprovante...|-|'.$idPedido;
        break;
    case "enderecosCompra":
        $sql = "SELECT * FROM payment_methods WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        echo "1|-|Forma de Pagamento escolhida: <b>".($row['name'])."</b><input type='hidden' name='formaPagamentoCompra' id='formaPagamentoCompra' value='".$row['id']."'><br>
                  <label for='enderecoCompra'>Endereço:</label> ";
        $sql = "SELECT * FROM addresses WHERE idClient = '".$_SESSION['cliente']['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            echo "<select name='enderecoCompra' id='enderecoCompra' class='form-control' required>
            <option value=''>Seleione o endereço corretamente...</option>";
            while ($row = mysqli_fetch_array($query)){
                echo "<option value='".$row['id']."'>".($row['name']." - ".$row['address'].", ".$row['number']);
                if ($row['complement']){
                    echo (", ".$row['complement']);
                }
                echo (" - B. ".$row['neighborhood']." - ".$row['city']." - ".$row['state']."</option>");
            }
            echo '</select>
            <br>
            <button type="button" class="btn btn-secondary" onClick="fecha(\'finalizarPedido\')">Fechar</button>
            <button type="button" class="btn btn-primary" onclick="comprar(\''.URL.'\')">Realizar Compra</button>';
            mysqli_num_rows($query);
        }
        else{
            echo "Sem endereço encontrado para o cliente! Cadastre um novo agora!";
        }
        break;
    case "finalizarPedido":
        echo '1|-|<button type="button" class="close" onClick=fecha("finalizarPedido")><span aria-hidden="true">&times;</span></button>Escolha a forma de pagamento abaixo:
            <table width="100%" cellpadding="0" cellspacing="0" border="0"><tr>';
            $sql = "SELECT * FROM payment_methods";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                while ($row = mysqli_fetch_array($query)){
                    echo '<td style="width: 50%; text-align: center; cursor:pointer" onclick="selecionaFormaPagamento(\''.$row['id'].'\', \''.URL.'\', this)" id="formaPagamento'.$row['id'].'">
                    <img src="'.URL.'storage/'.$row['img'].'" width="200">
                    '.($row['name']).'
                    </td>';
                }
            }
        echo '</tr></table><div id="enderecosCompra"></div>';
        break;
    case "limparCarrinho":
        $sql = "DELETE FROM carts WHERE session_id = '".session_id()."'";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "excluirCarrinho":
        $sql .= "DELETE FROM carts WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "mostraCarrinhoDeCompras":
        echo '1|-|';
        $sql = "SELECT a.* FROM carts a WHERE a.session_id = '".session_id()."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            echo "<h5>Produtos no Carrinho</h5>";
            echo '<table width="100%" border="0" cellpadding="0" cellspacing="0">
                      <tr>
                           <th>Nome do Produto</th>
                           <th>Valor do Produto</th>
                           <th>Quantidade</th>
                           <th>Valor Total</th>
                           <th>Excluir</th>
                      </tr>';
            $i = 0;
            while ($row = mysqli_fetch_array($query)){
                $backgroundColor = ($i % 2 == 1) ? "#E7E7E7" : "";
                echo ('<tr style="background-color:'.$backgroundColor.'">
                    <td style="text-align: center">'.$row['name']);
                if($row['domine']) {
                    echo (' - <a href="' . $row['domine'] . '" target="_blank">' . substr($row['domine'], 0, 15) . '...</a>');
                }
                if ($row['school_system']){
                    $sql = "SELECT * FROM school_system WHERE id = '".$row['school_system']."'";
                    $query2 = mysqli_query($con, $sql);
                    $rowSistemaEscolar = mysqli_fetch_array($query2);
                    if ($rowSistemaEscolar['tipoNota'] == 1){
                        $rowSistemaEscolar['tipoNota'] = "Bimestral";
                    }
                    elseif ($rowSistemaEscolar['tipoNota'] == 2){
                        $rowSistemaEscolar['tipoNota'] = "Trimestral";
                    }
                    elseif ($rowSistemaEscolar['tipoNota'] == 3){
                        $rowSistemaEscolar['tipoNota'] = "Semestral";
                    }
                    elseif ($rowSistemaEscolar['tipoNota'] == 4){
                        $rowSistemaEscolar['tipoNota'] = "Anual";
                    }
                    if ($rowSistemaEscolar['turno'] == 1){
                        $rowSistemaEscolar['turno'] = "Manhã";
                    }
                    elseif ($rowSistemaEscolar['turno'] == 2){
                        $rowSistemaEscolar['turno'] = "Tarde";
                    }
                    elseif ($rowSistemaEscolar['turno'] == 3){
                        $rowSistemaEscolar['turno'] = "Noite";
                    }
                    elseif ($rowSistemaEscolar['turno'] == 4){
                        $rowSistemaEscolar['turno'] = "Único";
                    }
                    elseif ($rowSistemaEscolar['turno'] == 5){
                        $rowSistemaEscolar['turno'] = "Todos";
                    }
                    if ($rowSistemaEscolar['letra'] == "Un"){
                        $rowSistemaEscolar['letra'] = "Única";
                    }
                    echo ' - <a onclick="verInformacoesSistemaEscolar(\''.$row['school_system'].'\')" style="color: #0077A4; cursor: pointer" title="Ver informações do sistema">Ver Informações do Sistema</a>
                            <div id="informacoesSistemaEscolar'.$row['school_system'].'" style="display: none; position:absolute; width:92%; background-color:#FFFFFF">
                                <button type"button" class="close" onClick=fecha("informacoesSistemaEscolar'.$row['school_system'].'")><span aria-hidden="true">&times;</span></button>
                                <h3>Informações do Sistema Escolar</h3>
                                <b>Nome da Escola:</b> '.$rowSistemaEscolar['nome'].'<br>
                                <b>Email da Escola:</b> '.$rowSistemaEscolar['email'].'<br>
                                <b>CEP da Escola:</b> '.$rowSistemaEscolar['cep'].'<br>
                                <b>Logradouro da Escola:</b> '.$rowSistemaEscolar['logradouro'].'<br>
                                <b>Número da Escola:</b> '.$rowSistemaEscolar['numero'].'<br>';
                    if ($rowSistemaEscolar['complemento']){
                        echo '<b>Complemento:</b> '.$rowSistemaEscolar['complemento'].'<br>';
                    }
                    echo '<b>Bairro da Escola:</b> '.$rowSistemaEscolar['bairro'].'<br>
                                <b>Cidade da Escola:</b> '.$rowSistemaEscolar['cidade'].'<br>
                                <b>Estado da Escola:</b> '.$rowSistemaEscolar['estado'].'<br>
                                <b>Tipo de Nota da Escola:</b> '.$rowSistemaEscolar['tipoNota'].'<br>
                                <b>Turno da Escola:</b> '.$rowSistemaEscolar['turno'].'<br>
                                <b>Letra da Escola:</b> '.$rowSistemaEscolar['letra'].'
                            </div>';
                }
                if ($row['cashier_system']) {
                    $sql = "SELECT * FROM cashier_system WHERE id = '" . $row['cashier_system'] . "'";
                    $query2 = mysqli_query($con, $sql);
                    $rowSistemaCaixa = mysqli_fetch_array($query2);
                    echo ' - <a onclick="verInformacoesSistemaCaixa(' . $row['cashier_system'] . ')" style="color: #0077A4; cursor: pointer" title="Ver informações do sistema">Ver Informações do Sistema</a>
                    <div id="informacoesSistemaCaixa' . $row['cashier_system'] . '" style="display: none; position:absolute; width:92%; background-color:#FFFFFF">
                                <button type"button" class="close" onClick=fecha("informacoesSistemaCaixa' . $row['cashier_system'] . '")><span aria-hidden="true">&times;</span></button>
                                <h3>Informações do Sistema de Caixa</h3>
                                <b>Razão Social:</b> ' . $rowSistemaCaixa['razao_social'] . '<br>
                                <b>Nome Fantasia:</b> ' . $rowSistemaCaixa['nome_fantasia'] . '<br>
                                <b>Email:</b> ' . $rowSistemaCaixa['email'] . '<br>
                                <b>CNPJ:</b> ' . $rowSistemaCaixa['cnpj'] . '<br>
                                <b>CEP:</b> ' . $rowSistemaCaixa['cep'] . '<br>
                                <b>Logradouro:</b> ' . $rowSistemaCaixa['logradouro'] . '<br>
                                <b>Número:</b> ' . $rowSistemaCaixa['numero'] . '<br>';
                    if ($rowSistemaCaixa['complemento']) {
                        echo '<b>Complemento:</b> ' . $rowSistemaCaixa['complemento'] . '<br>';
                    }
                    echo '<b>Bairro:</b> ' . $rowSistemaCaixa['bairro'] . '<br>
                                <b>Cidade:</b> ' . $rowSistemaCaixa['cidade'] . '<br>
                                <b>Estado:</b> ' . $rowSistemaCaixa['estado'] . '<br>
                                <b>Tipo de Estabelecimento:</b> ';
                    if ($rowSistemaCaixa['tipoEstabelecimento'] == 1) {
                        echo 'Mesa';
                    } else {
                        echo 'Caixa';
                    }
                    echo '<br>
                                <b>Quantidade de ';
                    if ($rowSistemaCaixa['tipoEstabelecimento'] == 1) {
                        echo 'Mesas';
                    } else {
                        echo 'Caixas';
                    }
                    echo ':</b> ' . $rowSistemaCaixa['quantidade'];
                    if ($rowSistemaCaixa['tipoEstabelecimento'] == 1) {
                        echo '<br>
                                <b>Número Pessoas Por Mesa:</b> ' . $rowSistemaCaixa['numeroPessoasPorMesa'] . '<br>
                                <b>Gorjeta do Garçom:</b> ' . $rowSistemaCaixa['percentual'] . '%
                            </div>';
                    }
                }
                    echo ('</td>
                    <td style="text-align: center">R$'.number_format($row['value'], 2, ',', '.').'</td>
                    <td style="text-align: center">'.$row['quantity'].'</td>
                    <td style="text-align: center">R$'.number_format($row['value'] * $row['quantity'], 2, ',', '.').'</td>
                    <td style="text-align: center"><img src="'.URL.'img/excluir.png" width="20" style="cursor:pointer;" onclick=excluirCarrinho("'.$row['id'].'","'.URL.'")></td>
                </tr>');
                $i++;
            }
            echo '</table>';
        }
        else {
            echo '<div style="padding:10px; text-align: center; background-color:#FF0000; color:#FFFFFF"><h5>Sem nenhum produto no carrinho no momento!</h5></div>';
        }
        echo  '<input type="hidden" id="numProdutosCarrinho" name="numProdutosCarrinho" value="0">|-|'.mysqli_num_rows($query);
        break;
        case "salvarCarrinho":
            $sql = 'SELECT * FROM products_items WHERE id = "'.$_REQUEST['produtoItemRealizarPedido'].'"';
            $query = mysqli_query($con, $sql);
            $row = mysqli_fetch_array($query);
            $valor = ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')) ? $row['promotion'] : $row['value'];
            $sql = "INSERT INTO cart (product, product_item, session_id, domine, name, quantity, value, created_at, updated_at) VALUES ('".$_REQUEST['produtoRealizarPedido']."', '".$_REQUEST['produtoItemRealizarPedido']."', '".session_id()."', '".$_REQUEST['domineRealizarPedido']."', '".$row['name']."', '1', '".$valor."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
            $idCarrinho = mysqli_insert_id($con);
            if ($_REQUEST['hostingRealizarPedido']){
                $sql = 'SELECT * FROM products_items WHERE id = "'.$_REQUEST['hostingRealizarPedido'].'"';
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $valor = ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')) ? $row['promotion'] : $row['value'];
                $sql = "INSERT INTO cart (product, product_item, session_id, domine, name, quantity, value, created_at, updated_at) VALUES ('".$row['product']."', '".$_REQUEST['hostingRealizarPedido']."', '".session_id()."', '".$_REQUEST['domineRealizarPedido']."', '".$row['name']."', '1', '".$valor."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql);
            }
            if ($_REQUEST['registroRealizarPedido']){
                $sql = 'SELECT * FROM products_items WHERE id = "'.$_REQUEST['registroRealizarPedido'].'"';
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $valor = ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')) ? $row['promotion'] : $row['value'];
                $sql = "INSERT INTO cart (product, product_item, session_id, domine, name, quantity, value, created_at, updated_at) VALUES ('".$row['product']."', '".$_REQUEST['registroRealizarPedido']."', '".session_id()."', '".$_REQUEST['domineRealizarPedido']."', '".$row['name']."', '1', '".$valor."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql);
            }
            if ($_REQUEST['modelSiteRealizarPedido']){
                $sql = 'SELECT * FROM subitems WHERE id = "'.$_REQUEST['modelSiteRealizarPedido'].'"';
                $query = mysqli_query($con, $sql);
                $row2 = mysqli_fetch_array($query);
                $sql = 'SELECT * FROM products_items WHERE product = "8"';
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $valor = ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')) ? $row['promotion'] : $row['value'];
                $sql = "INSERT INTO cart (product, product_item, session_id, domine, name, quantity, value, created_at, updated_at) VALUES ('8', '".$_REQUEST['modelSiteRealizarPedido']."', '".session_id()."', '".$_REQUEST['domineRealizarPedido']."', '".$row['name']." - ".$row2['name']."', '1', '".$valor."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql);
            }
            if ($_REQUEST['produtoRealizarPedido'] == 3) {
                $sql = "INSERT INTO cashier_system (razao_social, nome_fantasia, email, cnpj, cep, logradouro, numero, complemento, bairro, cidade, estado, tipoEstabelecimento, quantidade, numeroPessoasPorMesa, percentual, created_at, updated_at) VALUES ('" . $_REQUEST['nomeFantasiaRealizarPedido'] . "', '" . $_REQUEST['nomeFantasiaRealizarPedido'] . "', '".$_REQUEST['emailEmpresaRealizarPedido']."', '" . $_REQUEST['cnpjEmpresaRealizarPedido'] . "', '" . $_REQUEST['cepRealizarPedido'] . "', '" . $_REQUEST['logadouroRealizarPedido'] . "', '" . $_REQUEST['numeroRealizarPedido'] . "', '" . $_REQUEST['complementoRealizarPedido'] . "', '" . $_REQUEST['bairroRealizarPedido'] . "', '" . $_REQUEST['cidadeRealizarPedido'] . "', '" . $_REQUEST['estadoRealizarPedido'] . "', '" . $_REQUEST['tipoEstabelecimentoRealizarPedido'] . "', '" . $_REQUEST['quantidadeRealizarPedido'] . "', '" . $_REQUEST['numPessoasRealizarPedido'] . "', '" . $_REQUEST['perGarcomRealizarPedido'] . "', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql) or die(mysqli_error($con));
                $cashier_system = mysqli_insert_id($con);
                $sql = "UPDATE cart SET cashier_system = '".$cashier_system."' WHERE id = '".$idCarrinho."'";
                mysqli_query($con, $sql) or die(mysqli_error($con));
            }
            if ($_REQUEST['produtoRealizarPedido'] == 4) {
                $sql = "INSERT INTO school_system (nome, email, cep, logradouro, numero, complemento, bairro, cidade, estado, tipoNota, turno, letra, created_at, updated_at) VALUES ('" . $_REQUEST['nomeEscolaRealizarPedido'] . "', '" . $_REQUEST['emailEscolaRealizarPedido'] . "', '" . $_REQUEST['cepEscolaRealizarPedido'] . "', '" . $_REQUEST['logadouroEscolaRealizarPedido'] . "', '" . $_REQUEST['numeroEscolaRealizarPedido'] . "', '" . $_REQUEST['complementoEscolaRealizarPedido'] . "', '" . $_REQUEST['bairroEscolaRealizarPedido'] . "', '" . $_REQUEST['cidadeEscolaRealizarPedido'] . "', '" . $_REQUEST['estadoEscolaRealizarPedido'] . "', '" . $_REQUEST['tipoNotaRealizarPedido'] . "', '" . $_REQUEST['turnoEscolaRealizarPedido'] . "', '" . $_REQUEST['letraEscolaRealizarPedido'] . "', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql) or die(mysqli_error($con));
                $school_system = mysqli_insert_id($con);
                $sql = "UPDATE cart SET school_system = '".$school_system."' WHERE id = '".$idCarrinho."'";
                mysqli_query($con, $sql) or die(mysqli_error($con));
            }
        echo "1";
        break;
    case "selecionaPasso03":
        if ($_REQUEST['product'] != 3 && $_REQUEST['product'] != 4) {
            $html = '<label for="domineRealizarPedido">Domínio:</label>
                     <input type="text" name="domineRealizarPedido" id="domineRealizarPedido" required class="form-control" placeholder="Informe aqui o domínio que você comprou ou ainda vai comprar...">';
            if ($_REQUEST['product'] <= 5) {
                $html .= '
                     <label for="hostingRealizarPedido">Hospedagem:</label>
                     <select name="hostingRealizarPedido" id="hostingRealizarPedido" class="form-control">
                        <option value="">Selecione uma hospedagem para o seu site, ou deixe assim se já possuir a hospedagem...</option>
                        ';
                $sql = "SELECT * FROM products_items WHERE product = '6' AND status = '1'";
                $query = mysqli_query($con, $sql);
                while ($row = mysqli_fetch_array($query)) {
                    $valor = ($row['promotion'] && $row['validity_promotion'] && $row['validity_promotion'] >= date('Y-m-d')) ? $row['promotion'] : $row['value'];
                    $html .= '<option value="' . $row['id'] . '">' . ($row['name']) . ' - R$' . number_format($valor, 2, ',', '.') . '</option>';
                }
                $html .= '</select>
                     ';
            }
            if ($_REQUEST['product'] <= 6) {
                $html .= '<label for="registroRealizarPedido">Registro do Domínio:</label>
                     <select name="registroRealizarPedido" id="registroRealizarPedido" class="form-control">
                        <option value="">Selecione um registro para o seu site, ou deixe assim se já possuir o domínio...</option>
                        ';
                $sql = "SELECT * FROM products_items WHERE product = '7' AND status = '1'";
                $query = mysqli_query($con, $sql);
                while ($row = mysqli_fetch_array($query)) {
                    $valor = ($row['promotion'] && $row['validity_promotion'] && $row['validity_promotion'] >= date('Y-m-d')) ? $row['promotion'] : $row['value'];
                    $html .= '<option value="' . $row['id'] . '">' . ($row['name']) . ' - R$' . number_format($valor, 2, ',', '.') . '</option>';
                }
                $html .= '</select>';
            }
            if ($_REQUEST['product'] <= 5) {
                $html .= '<label for="modelSiteRealizarPedido">Modelo de Site:</label>
                     <select name="modelSiteRealizarPedido" id="modelSiteRealizarPedido" class="form-control">
                        <option value="">Selecione um modelo de site, ou deixe assim se já possuir um modelo...</option>
                        ';
                $sql = "SELECT * FROM subitems WHERE page = '5' AND status = '1'";
                $query = mysqli_query($con, $sql);
                while ($row = mysqli_fetch_array($query)) {
                    $sql = "SELECT * FROM products_items WHERE product = '8' AND status = '1'";
                    $query2 = mysqli_query($con, $sql);
                    $rowProductItem = mysqli_fetch_array($query2);
                    $valor = ($rowProductItem['promotion'] && $rowProductItem['validity_promotion'] && $rowProductItem['validity_promotion'] >= date('Y-m-d')) ? $rowProductItem['promotion'] : $rowProductItem['value'];
                    $html .= '<option value="' . $row['id'] . '">' . ($row['name']) . ' - R$' . number_format($valor, 2, ',', '.') . '</option>';
                }
                $html .= '</select>';
            }
        }
        if ($_REQUEST['product'] == 3){
            $html = '<label for="razaoSocialRealizarPedido">Razão Social:</label>
                     <input type="text" name="razaoSocialRealizarPedido" id="razaoSocialRealizarPedido" required class="form-control" placeholder="Informe aqui a razão social da empresa...">
                     <label for="nomeFantasiaRealizarPedido">Nome Fantasia:</label>
                     <input type="text" name="nomeFantasiaRealizarPedido" id="nomeFantasiaRealizarPedido" required class="form-control" placeholder="Informe aqui o nome fantasia da empresa...">
                     <label for="emailEmpresaRealizarPedido">Email:</label>
                     <input type="email" name="emailEmpresaRealizarPedido" id="emailEmpresaRealizarPedido" required class="form-control" placeholder="Informe aqui o email da empresa...">
                     <label for="cnpjEmpresaRealizarPedido">CNPJ:</label>
                     <input type="text" name="cnpjEmpresaRealizarPedido" id="cnpjEmpresaRealizarPedido" onkeypress="return mascara(this, \'00.000.000/0000-00\', event)" required class="form-control" placeholder="Informe aqui o cnpj da empresa... Somente Números...">
                     <label for="cepRealizarPedido">CEP:</label>
                     <input type="text" name="cepRealizarPedido" id="cepRealizarPedido" onkeyup="pesquisacepRealizarPedido(this.value)" onkeypress="return mascara(this, \'00000-000\', event)" required class="form-control" placeholder="Informe aqui o cep da empresa... Somente Números...">
                     <label for="logadouroRealizarPedido">Logradouro:</label>
                     <input type="text" name="logadouroRealizarPedido" id="logadouroRealizarPedido" required class="form-control" placeholder="Informe aqui o logradouro da empresa...">
                     <label for="numeroRealizarPedido">Número:</label>
                     <input type="text" name="numeroRealizarPedido" id="numeroRealizarPedido" required class="form-control" placeholder="Informe aqui o número da empresa...">
                     <label for="complementoRealizarPedido">Complemento:</label>
                     <input type="text" name="complementoRealizarPedido" id="complementoRealizarPedido" class="form-control" placeholder="Informe aqui o complemento da empresa...">
                     <label for="bairroRealizarPedido">Bairro:</label>
                     <input type="text" name="bairroRealizarPedido" id="bairroRealizarPedido" required class="form-control" placeholder="Informe aqui o bairro da empresa..">
                     <label for="cidadeRealizarPedido">Cidade:</label>
                     <input type="text" name="cidadeRealizarPedido" id="cidadeRealizarPedido" required class="form-control" placeholder="Informe aqui a cidade da empresa..">
                     <label for="estadoRealizarPedido">Estado:</label>
                     <select name="estadoRealizarPedido" id="estadoRealizarPedido" required class="form-control">
                     <option value="">UF</option>
                    ';
        $sql = "SELECT * FROM states ORDER BY sigla ASC";
        $query2 = mysqli_query($con, $sql);
        while ($row2 = mysqli_fetch_array($query2)) {
            $html .= '<option value="'.$row2['sigla'].'">'.$row2['sigla'].'</option>';
        }
                $html .= '
                </select>
                <label for="tipoEstabelecimentoRealizarPedido">Tipo do Estabelecimento:</label>
                     <select name="tipoEstabelecimentoRealizarPedido" id="tipoEstabelecimentoRealizarPedido" required class="form-control" onchange="selecionaTipoEstabelecimento(this.value)">
                     <option value="">Selecione o tipo do estabelecimento abaixo...</option>
                     <option value="1">Mesas</option>
                     <option value="2">Caixa</option>
                     </select>
                     <span id="tiposEstabelecimentoRealizarPedido">Selecione o tipo do estabelecimento acima...</span>';
        }
        if ($_REQUEST['product'] == 4){
            $html = '<label for="nomeEscolaRealizarPedido">Nome da Escola:</label>
                     <input type="text" name="nomeEscolaRealizarPedido" id="nomeEscolaRealizarPedido" required class="form-control" placeholder="Informe aqui o nome da escola..">
                     <label for="emailEscolaRealizarPedido">Email da Escola:</label>
                     <input type="text" name="emailEscolaRealizarPedido" id="emailEscolaRealizarPedido" required class="form-control" placeholder="Informe aqui o email da escola..">
                     <label for="cepEscolaRealizarPedido">CEP:</label>
                     <input type="text" name="cepEscolaRealizarPedido" id="cepEscolaRealizarPedido" onkeyup="pesquisacepEscolaRealizarPedido(this.value)" onkeypress="return mascara(this, \'00000-000\', event)" required class="form-control" placeholder="Informe aqui o cep da escola... Somente Números...">
                     <label for="logadouroEscolaRealizarPedido">Logradouro:</label>
                     <input type="text" name="logadouroEscolaRealizarPedido" id="logadouroEscolaRealizarPedido" required class="form-control" placeholder="Informe aqui o logradouro da escola...">
                     <label for="numeroEscolaRealizarPedido">Número:</label>
                     <input type="text" name="numeroEscolaRealizarPedido" id="numeroEscolaRealizarPedido" required class="form-control" placeholder="Informe aqui o número da escola...">
                     <label for="complementoEscolaRealizarPedido">Complemento:</label>
                     <input type="text" name="complementoEscolaRealizarPedido" id="complementoEscolaRealizarPedido" class="form-control" placeholder="Informe aqui o complemento da escola...">
                     <label for="bairroEscolaRealizarPedido">Bairro:</label>
                     <input type="text" name="bairroEscolaRealizarPedido" id="bairroEscolaRealizarPedido" required class="form-control" placeholder="Informe aqui o bairro da escola..">
                     <label for="cidadeEscolaRealizarPedido">Cidade:</label>
                     <input type="text" name="cidadeEscolaRealizarPedido" id="cidadeEscolaRealizarPedido" required class="form-control" placeholder="Informe aqui a cidade da escola..">
                     <label for="estadoEscolaRealizarPedido">Estado:</label>
                     <select name="estadoEscolaRealizarPedido" id="estadoEscolaRealizarPedido" required class="form-control">
                     <option value="">UF</option>
                    ';
        $sql = "SELECT * FROM states ORDER BY sigla ASC";
        $query2 = mysqli_query($con, $sql);
        while ($row2 = mysqli_fetch_array($query2)) {
            $html .= '<option value="'.$row2['sigla'].'">'.$row2['sigla'].'</option>';
        }
                $html .= '
                </select>
                <label for="tipoNotaRealizarPedido">Tipo de Nota:</label>
                     <select name="tipoNotaRealizarPedido" id="tipoNotaRealizarPedido" required class="form-control">
                     <option value="">Selecione o tipo de nota abaixo...</option>
                     <option value="1">Bimestral</option>
                     <option value="2">Trimestral</option>
                     <option value="3">Semestral</option>
                     <option value="4">Anual</option>
                     </select>
                <label for="turnoEscolaRealizarPedido">Turno da Escola:</label>
                     <select name="turnoEscolaRealizarPedido" id="turnoEscolaRealizarPedido" required class="form-control">
                     <option value="">Selecione o turno da escola abaixo...</option>
                     <option value="1">Manhã</option>
                     <option value="2">Tarde</option>
                     <option value="3">Noite</option>
                     <option value="4">Único</option>
                     <option value="5">Todos</option>
                     </select>
                <label for="letraEscolaRealizarPedido">Letra da Escola:</label>
                     <select name="letraEscolaRealizarPedido" id="letraEscolaRealizarPedido" required class="form-control">
                     <option value="">Selecione até que letra a escola vai abaixo...</option>';
                     for($i = 0; $i <= 26; $i++) {
                         switch ($i){
                             case 0:
                                 $letra = "Única";
                                 $l = "Un";
                                 break;
                             case 1:
                                 $letra = "A";
                                 break;
                             case 2:
                                 $letra = "B";
                                 break;
                             case 3:
                                 $letra = "C";
                                 break;
                             case 4:
                                 $letra = "D";
                                 break;
                             case 5:
                                 $letra = "E";
                                 break;
                             case 6:
                                 $letra = "F";
                                 break;
                             case 7:
                                 $letra = "G";
                                 break;
                             case 8:
                                 $letra = "H";
                                 break;
                             case 9:
                                 $letra = "I";
                                 break;
                             case 10:
                                 $letra = "J";
                                 break;
                             case 11:
                                 $letra = "K";
                                 break;
                             case 12:
                                 $letra = "L";
                                 break;
                             case 13:
                                 $letra = "M";
                                 break;
                             case 14:
                                 $letra = "N";
                                 break;
                             case 15:
                                 $letra = "O";
                                 break;
                             case 16:
                                 $letra = "P";
                                 break;
                             case 17:
                                 $letra = "Q";
                                 break;
                             case 18:
                                 $letra = "R";
                                 break;
                             case 19:
                                 $letra = "S";
                                 break;
                             case 20:
                                 $letra = "T";
                                 break;
                             case 21:
                                 $letra = "U";
                                 break;
                             case 22:
                                 $letra = "V";
                                 break;
                             case 23:
                                 $letra = "W";
                                 break;
                             case 24:
                                 $letra = "X";
                                 break;
                             case 25:
                                 $letra = "Y";
                                 break;
                             case 26:
                                 $letra = "Z";
                                 break;
                         }
                         if ($i > 0){
                             $l = $letra;
                         }
                         $html .= '<option value="'.$l.'">'.$letra.'</option>';
                     }
                     $html .= '
                     </select>';
        }
        echo "1|-|".$html;
        break;
    case "selecionaProduto":
        $sql = "SELECT * FROM products_items WHERE product = '".$_REQUEST['product']."' AND status = '1'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)) {
            $html = '<label for="produtoItemRealizarPedido">Selecione o item do produto:</label>
                                            <select name="produtoItemRealizarPedido" id="produtoItemRealizarPedido" required class="form-control" onchange="selecionaProdutoItem(\''.$_REQUEST['product'].'\', \''.URL.'\', this.value)">
                                                <option value="">Selecione o item do produto abaixo corretamente...</option>
                                                ';
            while ($row = mysqli_fetch_array($query)) {
                $valor = (date('Y-m-d') > $row['validaty_promotion']) ? $row['promotion'] : $row['value'];
                $html .= '<option value="'.$row['id'].'">'.($row['name']).' - R$'.number_format($valor, 2, ',', '.').'</option>
';
            }
                                                $html .= '</select><div id="passo03" style="display: none"></div>';
        }
        else{
            $html = "Sem nenhum item do produto encontrado em nossa base de dados!";
        }
        echo "1|-|".$html;
        break;
    case "detalhesPedido":
        $sql = "SELECT a.*, b.email AS emailCliente, d.name AS nomeFormaPagamento,
                e.name AS nomeStatus, e.background AS backgroundStatus, f.name AS nomeEndereco, f.cep AS cepEndereco, f.address AS endereco, f.number, f.complement, f.neighborhood, f.city, f.state, k.name AS nomePais,
                g.name AS nomeCliente, g.cpf, g.rg, g.dtNasc, g.cel AS celular, h.razaoSocial, h.nomeFantasia, h.contato, h.cnpj, h.ie, h.im, h.dataAbertura, h.cel, h.telefone,
                i.codigo, i.tipo, i.valor, i.validade, j.code, j.value AS valorVale, j.validade AS validade2, m.name AS nacionalidade, n.name AS nacionalidadeEmpresa
                FROM requests a
                INNER JOIN clients b ON (a.client = b.id)
                INNER JOIN payment_methods d ON (a.paymentMethod = d.id)
                INNER JOIN requests_statuses e ON (a.status = e.id)
                LEFT JOIN addresses f ON (a.address = f.id)
                LEFT JOIN pessoa_fisicas g ON (a.client = g.client)
                LEFT JOIN pessoa_juridicas h ON (a.client = h.client)
                LEFT JOIN coupon_discounts i ON (a.discount = i.id)
                LEFT JOIN vales j ON (a.vale = j.id)
                LEFT JOIN countries k ON (f.country = k.id)
                LEFT JOIN nationalities m ON (g.nationality = m.id)
                LEFT JOIN nationalities n ON (h.nationality = n.id)
                WHERE a.id = '".$_REQUEST['id']."'";
                //echo $sql;
        $query = mysqli_query($con, $sql);
        $rowPedido = mysqli_fetch_array($query);
        $vet = explode('-', $rowPedido['dataAbertura']);
        $rowPedido['dataAbertura'] = $vet[2]."/".$vet[1]."/".$vet[0];
        $vet = explode('-', $rowPedido['dtNasc']);
        $rowPedido['dtNasc'] = $vet[2]."/".$vet[1]."/".$vet[0];
        $sql = "SELECT a.* FROM requests_items a WHERE a.request = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        while($rowItensPedido = mysqli_fetch_array($query)){
            $pedidosItens[] = $rowItensPedido;
            $lista = $rowItensPedido['lista'];
        }
        echo '1|-|';
        if (!$_REQUEST['meusPedidos']) {
            echo '<button type"button" class="close" onClick=fecha("detalhesPedido")><span aria-hidden="true">&times;</span></button>';
        }
        else{
            echo '<button type="button" class="btn btn-danger" onclick=fecha("detalhesPedido") style="float:left; position:absolute; left:90%" aria-hidden="true">×</button>';
        }
        echo '<div style="z-index:9999; background-color:#FFFFFF">';
        echo '<div style="height:350px; overflow:auto"><h5>Detalhes do Pedido '.sprintf("%012s", $_REQUEST['id']).'</h5>
            <h6><img src="'.URL.'img/cliente.png" width="30"> Dados do Cliente</h6>';
        if ($rowPedido['nomeCliente']) {
            echo '<table width="100%" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <th>Nome do cliente</th>
                    <th>Email do cliente</th>
                </tr>
                <tr>
                    <td style="text-align:center">' . ($rowPedido['nomeCliente']) . '</td>
                    <td style="text-align:center">' . $rowPedido['emailCliente'] . '</td>
                </tr>
               <tr>
                   <th>CPF do cliente</th>
                   <th>RG do cliente</th>
                </tr>
                    <td style="text-align:center">' . $rowPedido['cpf'] . '</td>
                    <td style="text-align:center">' . $rowPedido['rg'] . '</td>
                </tr>
                <tr>
                    <th>Data de Nascimento do cliente</th>
                    <th>Celular do cliente</th>
                 </tr>
                 <tr>
                     <td style="text-align:center">' . $rowPedido['dtNasc'] . '</td>
                     <td style="text-align:center">' . $rowPedido['celular'] . '</td>
                 </tr>
                 <tr>
                     <th>Nacionalidade do cliente</th>
                     <th>&nbsp;</th>
                  </tr>
                  <tr>
                      <td style="text-align:center">' . $rowPedido['nacionalidade'] . '</td>
                      <td style="text-align:center">&nbsp;</td>
                  </tr>
            </table>';
        }
        else{
            echo '<table width="100%" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <th>Razão Social da Empresa</th>
                    <th>Nome Fantasia da Empresa</th>
                </tr>
                <tr>
                    <td style="text-align:center">' . ($rowPedido['razaoSocial']) . '</td>
                    <td style="text-align:center">' . ($rowPedido['nomeFantasia']) . '</td>
                </tr>
               <tr>
                   <th>Nome do Contato da Empresa</th>
                   <th>Email da Empresa</th>
                </tr>
                <tr>
                    <td style="text-align:center">' . $rowPedido['contato'] . '</td>
                    <td style="text-align:center">' . $rowPedido['emailCliente'] . '</td>
                </tr>
               <tr>
                   <th>CNPJ da Empresa</th>
                   <th>Inscrição Estadual da Empresa</th>
                </tr>
                <tr>
                    <td style="text-align:center">' . $rowPedido['cnpj'] . '</td>
                    <td style="text-align:center">' . $rowPedido['ie'] . '</td>
                </tr>
               <tr>
                   <th>Inscrição Municipal da Empresa</th>
                   <th>Data de Abertura da Empresa</th>
                </tr>
                <tr>
                    <td style="text-align:center">' . $rowPedido['im'] . '</td>
                    <td style="text-align:center">' . $rowPedido['dataAbertura'] . '</td>
                </tr>
               <tr>
                   <th>Celular da Empresa</th>
                   <th>Telefone da Empresa</th>
                </tr>
                <tr>
                    <td style="text-align:center">' . $rowPedido['cel'] . '</td>
                    <td style="text-align:center">' . $rowPedido['telefone'] . '</td>
                </tr>
                <tr>
                    <th>Nacionalidade da Empresa</th>
                    <th>&nbsp;</th>
                 </tr>
                 <tr>
                     <td style="text-align:center">' . $rowPedido['nacionalidadeEmpresa'] . '</td>
                     <td style="text-align:center">&nbsp;</td>
                 </tr>
            </table>';
        }
        echo '<h6><img src="'.URL.'img/pedido.png" width="30"> Dados do Pedido</h6>
            <table width="100%" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <th>Número do Pedido</th>
                    <th>Data do Pedido</th>
                </tr>
                <tr>
                    <td style="text-align:center">'.sprintf("%012s", $rowPedido['id']).'</td>
                    <td style="text-align:center">';
        $vet = explode(" ", $rowPedido['created_at']);
        $vet2 = explode("-", $vet[0]);
        echo $vet2[2]."/".$vet2[1].'/'.$vet2[0].' às '.$vet[1].'h</td>
                </tr>
               <tr>
                   <th>Nome da Forma de Pagamento</th>
                   <th>Status do Pedido</th>
                </tr>
                <tr>
                    <td style="text-align:center">'.($rowPedido['nomeFormaPagamento']).'</td>
                    <td style="text-align:center; color:'.$rowPedido['backgroundStatus'].'; font-weight: bold;">'.($rowPedido['nomeStatus']);
        if ($rowPedido['status'] <= 3){
            if ($rowPedido['paymentMethod'] != 2){
                echo " - <a href='".URL."efetuarPagamento.php?id=".base64_encode($rowPedido['id'])."' target='_blank'>Efetuar Pagamento</a>";
            }
            else{
                echo " - <a href='".URL."efetuarPagamento/".base64_encode($rowPedido['id'])."' target='_blank'>Efetuar Pagamento</a>";
            }
        }
        echo '</td>
                </tr>
            </table>
            ';
        if ($rowPedido['codRastreamento']) {
            echo '<table width="100%" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <th>Link para Rastreamento</th>
                </tr>
                <tr>
                    <td style="text-align:center"><a href="'.URL_SITE.'pagina/rastreio-de-encomendas?codigo=' . $rowPedido['codRastreamento'] . '" target="_blank">Clique Aqui</a></td>
                </tr>
            </table>';
        }
        echo '<h6><img src="'.URL.'img/carrinho.png" width="30"> Produtos Comprados</h6>
            <table width="100%" cellspacing="0" cellpadding="0" border="0">
                <tr>
                   <th style="text-align: center">ID do Item de Produto</th>
                   <th style="text-align: center">Nome Produto</th>
                   <th style="text-align: center">Quantidade</th>
                   <th style="text-align: center">Valor Unitário</th>
                   <th style="text-align: center">Valor Total</th>
                </tr>
                ';
        foreach ($pedidosItens as $key => $itens){
            foreach($itens as $chave => $valor){
                $itens[$chave] = ($valor);
            }
            echo '<tr>
                        <td style="text-align: center">'.$itens['product_item'].'</td>
                        <td style="text-align: center">'.($itens['name']);
            if ($itens['vale']){
                echo " - <img src='".URL."img/visualizar.svg' width='25' style='cursor:pointer' onclick=visualizarVale('".$itens['vale']."','".URL."')><div id='vale' style='position:absolute; display:none; background-color:#FFFFFF; border:1px solid #e7e7e7; border-radius:15px'></div>";
            }
            echo '</td>
                 <td style="text-align: center">'.$itens['quantity'].'</td>
                 <td style="text-align: center">R$ '.number_format($itens['value'], 2, ',','.').'</td>
                 <td style="text-align: center">R$ '.number_format($itens['value'] * $itens['quantity'], 2, ',','.').'</td>
            </tr>';
        }
        echo '
            <tr>
                <td colspan="3" style="text-align:right">Subtotal Carrinho: </td>
                <td colspan="2" style="text-align:left; font-weight:bold">R$ '.number_format($rowPedido['valueSubtotal'], 2, ',', '.').'</td>
            </tr>
            <tr>
                <td colspan="3" style="text-align:right">Cupom de Desconto: </td>
                <td colspan="2" style="text-align:left; font-weight:bold; color:#003300">- R$ '.number_format($rowPedido['valueDiscount'], 2, ',', '.').' ';
        if ($rowPedido['discount']){
            echo '<img src="'. URL. 'img/informacao.png" width="20" style="cursor:pointer" onclick=abreFecha("informacoesCupomDesconto")><div id=\'informacoesCupomDesconto\' style=\'display:none; position:absolute; border:1px solid #e7e7e7; background-color:#FFFFFF; text-align:left; width:300px; border-radius:15px\'><div style=\'position:absolute; float:left; left:95%; cursor:pointer\' onclick=\'fecha("informacoesCupomDesconto")\'>&times;</div><h3>Informações do Cupom de Desconto </h3>ID do Cupom: <b>'.$rowPedido['discount'].'</b><br>Código do Cupom: <b>'.$rowPedido['codigo'].'</b><br>Valor do Cupom: <b>';
            if ($rowPedido['tipo'] == 1){
                echo "R$ ".number_format($rowPedido['valor'], 2, ',', '.');
            }
            else{
                echo $rowPedido['valor']."%";
            }
            $vet = explode('-', $rowPedido['validade']);
            $rowPedido['validade'] = $vet[2]."/".$vet[1]."/".$vet[0];
            echo '</b><br>Validade do Cupom: <b>'.$rowPedido['validade'].'</b></div>';
        }
        elseif ($rowPedido['vale']){
            echo '<img src="'. URL. 'img/informacao.png" width="20" style="cursor:pointer" onclick=abreFecha("informacoesValePresente")><div id=\'informacoesValePresente\' style=\'display:none; position:absolute; border:1px solid #e7e7e7; background-color:#FFFFFF; text-align:left; width:300px; border-radius:15px\'><div style=\'position:absolute; float:left; left:95%; cursor:pointer\' onclick=\'fecha("informacoesValePresente")\'>&times;</div><h3>Informações do Vale Presente</h3>ID do Vale: <b>'.$rowPedido['vale'].'</b><br>Código do Vale: <b>'.$rowPedido['code'].'</b><br>Valor do Vale: <b>R$ '.number_format($rowPedido['valorVale'], 2,',','.');
            $vet = explode('-', $rowPedido['validade2']);
            $rowPedido['validade'] = $vet[2]."/".$vet[1]."/".$vet[0];
            echo '</b><br>Validade do Vale: <b>'.$rowPedido['validade'].'</b></div>';
        }
        echo '</td>
            </tr>
            <tr>
                <td colspan="3" style="text-align:right">Frete: </td>
                <td colspan="2" style="text-align:left; font-weight:bold; color:#FF0000">+ R$ '.number_format($rowPedido['valueFrete'], 2, ',', '.').' <img src="'.URL.'img/informacao.png" width="20" style="cursor:pointer" onclick="abreFecha(\'informacoesFrete\')"><div id="informacoesFrete" style="display:none; position:absolute; border:1px solid #e7e7e7; background-color:#FFFFFF; text-align:left; width:300px; border-radius:15px"><div style="position:absolute; float:left; left:95%; cursor:pointer" onclick="fecha(\'informacoesFrete\')">&times;</div><h3>Informações do Frete</h3>Tipo de Frete Escolhido: <b>';
                    if ($rowPedido['tipoFrete'] == 'Frete_Gratis'){
                        echo "Frete Grátis";
                    }
                    else{
                        echo str_replace("_", " ", $rowPedido['tipoFrete']);
                    }
    echo "</b><br>Prazo para a entrega: <b>".$rowPedido['prazoFrete'];
                    if ($rowPedido['prazoFrete'] > 1){
                        echo " dias úteis";
                    }
                    else{
                        echo " dia útil";
                    }
    echo "</b><br>Valor do Frete: <b>R$".number_format($rowPedido['valueFrete'], 2, ',','.').'</b></div></td>
            </tr>
            <tr>
                <td colspan="3" style="text-align:right">Total: </td>
                <td colspan="2" style="text-align:left; font-weight:bold; color:#000033">R$ '.number_format($rowPedido['valueTotal'], 2, ',', '.').'</td>
            </tr>
            <tr>
                <td colspan="3" style="text-align:right">Parcelado em: </td>
                <td colspan="2" style="text-align:left; font-weight:bold;">'.$rowPedido['parcelamento'].'X de R$ '.number_format($rowPedido['valueTotal'] / $rowPedido['parcelamento'], 2, ',', '.').'</td>
            </tr>
            </table>
            <h6><img src="'.URL.'img/enderecos.png" width="30"> Dados do Endereço';
            if ($lista){
                echo " da Lista";
            }
            echo '</h6>';
            if (!$lista) {
                echo '<b>Nome do Endereço:</b> ' . ($rowPedido['nomeEndereco']) . '<br>
            <b>CEP do Endereço:</b> ' . ($rowPedido['cepEndereco']) . '<br>
            <b>Endereço:</b> ' . ($rowPedido['endereco'] . ', ' . $rowPedido['number']);
                if ($rowPedido['complement']) {
                    echo ', ' . ($rowPedido['complement']);
                }
                echo " - B. " . ($rowPedido['neighborhood'] . " - " . $rowPedido['city'] . " - " . $rowPedido['state'])." - ".$rowPedido['nomePais'];
            }
            else{
                $sql = "SELECT * FROM presents_lists WHERE id = '".$lista."'";
                $query2 = mysqli_query($con, $sql);
                $row2 = mysqli_fetch_array($query2);
                $vet = explode('-', $row2['dataAniversario']);
                $row2['dataAniversario'] = $vet[2]."/".$vet[1]."/".$vet[0];
                echo '<b>Nome da Lista:</b> ' . ($row2['nomeAniversariante']) . ' - '.$row2['dataAniversario'].'<br>
            <b>CEP do Endereço:</b> ' . ($row2['cep']) . '<br>
            <b>Endereço:</b> ' . ($row2['address'] . ', ' . $row2['number']);
                if ($row2['complement']) {
                    echo ', ' . ($row2['complement']);
                }
                echo " - B. " . ($row2['neighborhood'] . " - " . $row2['city'] . " - " . $row2['state']);
            }
            if ($rowPedido['msExterna']){
                echo '<h6><img src="'.URL.'img/mensagem.png" width="30"> Mensagens</h6>
            '.nl2br($rowPedido['msExterna']).'<br>';
            }
            echo "<hr noshade><center><a href='".URL."imprimirComprovante.php?id=".base64_encode($rowPedido['id'])."' target='_blank'><img src='".URL."img/imprimir.png' style='height:35px'> Imprimir Comprovante</a></center><hr noshade></div></div>";
            $sql = ("INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Visualizou os detalhes do pedido ".$_REQUEST['id']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
            mysqli_query($con, $sql);
            break;
    case "pegaPedidos":
        $sql = "SELECT a.*, b.name AS nomeClient, c.name AS nomeStatus, d.name AS nomeFormaPagamento
                FROM requests a INNER JOIN clients b ON (a.client = b.id)
                INNER JOIN requests_statuses c ON (a.status = c.id)
                INNER JOIN payment_methods d ON (a.paymentMethod= d.id)
                WHERE a.client = '".$_REQUEST['idClient']."' ORDER BY a.created_at DESC";
        $query = mysqli_query($con, $sql);
        $html = "<a id='topoPedidos'></a>";
        if (!mysqli_num_rows($query)){
            $html .= '<div style="background-color: #FF0000; color: #FFFFFF; padding:15px; text-align: center"><h5>Nenhum pedido encontrado!</h5></div>';
        }
        else{
            while ($row = mysqli_fetch_array($query)) {
                if ($row['status'] == 1){
                    $backgroundColor = "#000000";
                    $color = "#FFFFFF";
                }
                elseif ($row['status'] == 2){
                    $backgroundColor = "#FFFF00";
                    $color = "#000000";
                }
                elseif ($row['status'] == 3){
                    $backgroundColor = "#006600";
                    $color = "#FFFFFF";
                }
                elseif ($row['status'] == 4){
                    $backgroundColor = "#000099";
                    $color = "#FFFFFF";
                }
                elseif ($row['status'] == 5){
                    $backgroundColor = "#000033";
                    $color = "#FFFFFF";
                }
                elseif ($row['status'] == 6){
                    $backgroundColor = "#FF0000";
                    $color = "#FFFFFF";
                }
                $html .= '<div onclick="detalhesPedido(\''.$row['id'].'\', \''.URL.'\'); location.href=\'#topoPedidos\'" style="float:left; width:30%; padding:15px; cursor:pointer; background-color: '.$backgroundColor.'; color: '.$color.'; text-align: center"><h6>Pedido '.sprintf("%012s", $row['id']).'</h6><p>Cliente: <b>'.($row['nomeClient']).'</b><br>Forma de Pagamento: <b>'.($row['nomeFormaPagamento']).'</b><br>Status do Pedido: <b>'.($row['nomeStatus']).'</b></p></div>';
            }
        }
        echo "1|-|".$html;
        break;
    case "pegaEnderecos":
        $html = '<button type="button" class="btn btn-primary" onclick="novoEndereco()">Cadastrar Novo</button>
        <div id="novoEndereco" style="display:none; position: absolute; background-color: #FFFFFF; width:97%">
            <h5>Cadastro de Endereço</h5>
            <button type="button" class="close" onClick=fecha("novoEndereco")>
                <span aria-hidden="true">&times;</span>
            </button>
            <form name="formCadastroEndereco" id="formCadastroEndereco" method="head">
                <input type="hidden" id="urlEndereco" nome="urlEndereco" value="'.URL.'">
                <input type="hidden" id="idClienteEndereco" nome="idClienteEndereco" value="'.$_REQUEST['idCliente'].'">
                <label for="nome">Nome do Endereço:</label>
                <input type="text" placeholder="Nome do Endereço..." name="nome" id="nome" required class="form-control">
                <label for="cepEndereco">Cep:</label>
                <input type="text" placeholder="Cep..." name="cepEndereco" onkeyup="pesquisacep(this.value)" onkeypress="return mascara(this, \'00000-000\', event)" id="cepEndereco" required class="form-control">
                <sup>Somente Números</sup><br>
                <label for="logradouroEndereco">Logradouro:</label>
                <input type="text" placeholder="Logradouro..." name="logradouroEndereco" id="logradouroEndereco" required class="form-control">
                <label for="numeroEndereco">Número:</label>
                <input type="text" placeholder="Número..." name="numeroEndereco" id="numeroEndereco" required class="form-control">
                <label for="complementoEndereco">Complemento:</label>
                <input type="text" placeholder="Complemento..." name="complementoEndereco" id="complementoEndereco" class="form-control">
                <label for="bairroEndereco">Bairro:</label>
                <input type="text" placeholder="Bairro..." name="bairroEndereco" id="bairroEndereco" required class="form-control">
                <label for="cidadeEndereco">Cidade:</label>
                <input type="text" placeholder="Cidade..." name="cidadeEndereco" id="cidadeEndereco" required class="form-control">
                <label for="estadoEndereco">Estado:</label>
                <select name="estadoEndereco" id="estadoEndereco" required class="form-control">
                    <option value="">UF</option>
                    ';
        $sql = "SELECT * FROM states ORDER BY sigla ASC";
        $query2 = mysqli_query($con, $sql);
        while ($row2 = mysqli_fetch_array($query2)) {
            $html .= '<option value="'.$row2['sigla'].'">'.$row2['sigla'].'</option>';
        }
        $html .= '
                </select>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onClick=fecha("novoEndereco")>Fechar</button>
                    <button type="button" onclick=salvarEndereco("'.URL.'") class="btn btn-primary">Salvar Endereço</button>
                </div>
            </form>
        </div>';
        $html .= '<div id="editaEndereco" style="display:none; position: absolute; background-color: #FFFFFF; width:97%">
            <h5>Atualização de Endereço</h5>
            <button type="button" class="close" onClick=fecha("editaEndereco")>
                <span aria-hidden="true">&times;</span>
            </button>
            <form name="formEditaEndereco" id="formEditaEndereco" method="head">
                <input type="hidden" id="urlEditaEndereco" nome="urlEditaEndereco" value="'.URL.'">
                <input type="hidden" id="idClienteEditaEndereco" nome="idClienteEditaEndereco" value="'.$_REQUEST['idCliente'].'">
                <input type="hidden" id="idEditaEndereco" nome="idEditaEndereco" value="">
                <label for="nomeEdita">Nome do Endereço:</label>
                <input type="text" placeholder="Nome do Endereço..." name="nome" id="nomeEdita" required class="form-control">
                <label for="cepEditaEndereco">Cep:</label>
                <input type="text" placeholder="Cep..." name="cepEditaEndereco" onkeyup="pesquisacepedit(this.value)" onkeypress="return mascara(this, \'00000-000\', event)" id="cepEditaEndereco" required class="form-control">
                <sup>Somente Números</sup><br>
                <label for="logradouroEditaEndereco">Logradouro:</label>
                <input type="text" placeholder="Logradouro..." name="logradouroEditaEndereco" id="logradouroEditaEndereco" required class="form-control">
                <label for="numeroEditaEndereco">Número:</label>
                <input type="text" placeholder="Número..." name="numeroEditaEndereco" id="numeroEditaEndereco" required class="form-control">
                <label for="complementoEditaEndereco">Complemento:</label>
                <input type="text" placeholder="Complemento..." name="complementoEditaEndereco" id="complementoEditaEndereco" class="form-control">
                <label for="bairroEditaEndereco">Bairro:</label>
                <input type="text" placeholder="Bairro..." name="bairroEditaEndereco" id="bairroEditaEndereco" required class="form-control">
                <label for="cidadeEditaEndereco">Cidade:</label>
                <input type="text" placeholder="Cidade..." name="cidadeEditaEndereco" id="cidadeEditaEndereco" required class="form-control">
                <label for="estadoEditaEndereco">Estado:</label>
                <select name="estadoEditaEndereco" id="estadoEditaEndereco" required class="form-control">
                    <option value="">UF</option>
                ';
        $sql = "SELECT * FROM states ORDER BY sigla ASC";
        $query2 = mysqli_query($con, $sql);
        while ($row2 = mysqli_fetch_array($query2)) {
            $html .= '<option value="'.$row2['sigla'].'">'.$row2['sigla'].'</option>';
        }
        $html .= '
                </select>
                <div class="modal-footer" id="botoesEditaEndereco">
                    <button type="button" class="btn btn-secondary" onClick=fecha("editaEndereco")>Fechar</button>
                    <button type="button" onclick=editarEndereco("'.URL.'") class="btn btn-primary">Atualizar Endereço</button>
                </div>
            </form>
        </div>';
        $sql = "SELECT * FROM addresses WHERE idClient = '".$_REQUEST['idCliente']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $html .= '<table border="0" width="100%" cellpadding="0" cellspacing="0">
                <tr>
                    <th>Nome do Endereço</th>
                    <th>CEP do Endereço</th>
                    <th>Endereço</th>
                    <th>Ações</th>
                </tr>';
            while ($row = mysqli_fetch_array($query)){
                $html .= '<tr';
                if ($i % 2 == 0){
                    $html .= ' style="background-color:#e7e7e7"';
                }
                $html .= '><td>'.($row['name'].'</td><td>'.$row['cep'].'</td><td>'.$row['address'].' - '.$row['number']);
                if ($row['complement']){
                    $html .= ' - '.($row['complement']);
                }
                $html .= ' - '.($row['neighborhood'].' - '.$row['city'].' - '.$row['state']).'</td><td><img src="'.URL.'img/editar.png" width="20" onclick=\'abre("editaEndereco");editaEndereco("'.$row['id'].'","'.URL.'","'.$row['idClient'].'")\' style="cursor:pointer"> <img src="'.URL.'img/excluir.png" width="20" style="cursor:pointer" onclick=excluirEndereco("'.$row['id'].'","'.URL.'","'.$row['idClient'].'")></td></tr>';
                $i++;
            }
            $html .= "</table>";
        }
        else{
            $html .= "<center>Sem nenhum endereço cadastrado!</center>";
        }
        echo "1|-|".$html;
        break;
    case "editarEndereco":
        $sql = "SELECT * FROM addresses WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        echo ("1|-|".$row['id']."|-|".$row['name']."|-|".$row['cep']."|-|".$row['address']."|-|".$row['number']."|-|".$row['complement']."|-|".$row['neighborhood']."|-|".$row['city']."|-|".$row['state']);
        break;
    case "excluirEndereco":
        $sql = "SELECT * FROM addresses WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "INSERT INTO logs (user, action, created_at, updated_at) VALUES ('".$_REQUEST['user']."', '".("Excluiu o endereço do cliente ").$row['idClient']." - ID: ".$_REQUEST['id']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $sql = "DELETE FROM addresses WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql);
        echo '1';
        break;
    case "cadastraEndereco":
        $sql = ("INSERT INTO addresses (idClient, name, cep, address, number, complement, neighborhood, city, state, country, created_at, updated_at) VALUES ('".$_REQUEST['idCliente']."', '".$_REQUEST['nome']."', '".$_REQUEST['cepEndereco']."', '".$_REQUEST['logradouroEndereco']."', '".$_REQUEST['numeroEndereco']."', '".$_REQUEST['complementoEndereco']."', '".$_REQUEST['bairroEndereco']."', '".$_REQUEST['cidadeEndereco']."', '".$_REQUEST['estadoEndereco']."', '".$_REQUEST['paisEndereco']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "salvarEndereco":
        $sql = ("INSERT INTO addresses (idClient, name, cep, address, number, complement, neighborhood, city, state, created_at, updated_at) VALUES ('".$_REQUEST['idClienteEndereco']."', '".$_REQUEST['nome']."', '".$_REQUEST['cepEndereco']."', '".$_REQUEST['logradouroEndereco']."', '".$_REQUEST['numeroEndereco']."', '".$_REQUEST['complementoEndereco']."', '".$_REQUEST['bairroEndereco']."', '".$_REQUEST['cidadeEndereco']."', '".$_REQUEST['estadoEndereco']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "atualizarEndereco":
        $sql = "INSERT INTO logs (user, action, created_at, updated_at) VALUES ('".$_REQUEST['user']."', '".("Atualizou o endereço do cliente ").$_REQUEST['idCliente']." - ID: ".$_REQUEST['idEndereco']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        $sql = ("UPDATE addresses SET idClient = '".$_REQUEST['idCliente']."', name = '".$_REQUEST['nome']."', cep = '".$_REQUEST['cepEndereco']."', address = '".$_REQUEST['logradouroEndereco']."', number = '".$_REQUEST['numeroEndereco']."', complement = '".$_REQUEST['complementoEndereco']."', neighborhood = '".$_REQUEST['bairroEndereco']."', city = '".$_REQUEST['cidadeEndereco']."', state = '".$_REQUEST['estadoEndereco']."', country = '".$_REQUEST['paisEndereco']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_REQUEST['idEndereco']."'");
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "visualizaEnderecos":
        echo '1|-|';
        $sql = "INSERT INTO logs (user, action, created_at, updated_at) VALUES ('".$_REQUEST['user']."', '".("Visualizou os endereços do cliente ").$_REQUEST['id']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        echo '    
        <button type="button" class="btn btn-primary" onclick=abre("modalCadastraEndereco")>Cadastrar novo</button>
        <a class="btn btn-success" onclick=abreFecha("exportarEnderecos");fecha(\'importarEnderecos\'); style="color:#FFFFFF">Exportar</a>
        <div id="exportarEnderecos" class="btn btn-success primeiro-item-modal" style="display:none">
            <div class="bb-1" onclick="gerarArquivo(\'csv\', \'enderecos\', \''.$_SESSION['user']['id'].'\', \''.URL.'\', \''.$_REQUEST['id'].'\')"><img src="'.URL.'img/excel.png" width="25"> Exportar CSV</div>
            <div class="bb-1" onclick="gerarArquivo(\'pdf\', \'enderecos\', \''.$_SESSION['user']['id'].'\', \''.URL.'\', \''.$_REQUEST['id'].'\')"><img src="'.URL.'img/pdf.png" width="25"> Exportar PDF</div>
            <div class="bb-1" onclick="gerarArquivo(\'xml\', \'enderecos\', \''.$_SESSION['user']['id'].'\', \''.URL.'\', \''.$_REQUEST['id'].'\')"><img src="'.URL.'img/xml.png" width="25"> Exportar XML</div>
            <div class="bb-1" onclick="gerarArquivo(\'json\', \'enderecos\', \''.$_SESSION['user']['id'].'\', \''.URL.'\', \''.$_REQUEST['id'].'\')"><img src="'.URL.'img/json.png" width="25"> Exportar JSON</div>
        </div>
        <a class="btn btn-warning" style="color:#FFFFFF" onclick="fecha(\'exportarEnderecos\'); abreFecha(\'importarEnderecos\');">Importar</a>
        <div id="importarEnderecos" class="btn btn-warning segundo-item-modal" style="display:none">
            <div class="bb-1" data-toggle="modal" data-target="#modalImportarEnderecos" onclick=\'importarEnderecos("'.$_REQUEST['id'].'","'.$_SESSION['user']['id'].'");fecha("importarEnderecos")\' data-dismiss="modal"><img src="'.URL.'img/excel.png" width="25"> Importar CSV</div>
            <div class="bb-1" data-toggle="modal" data-target="#modalImportarXmlEnderecos" onclick=importarXMLEnderecos("'.$_REQUEST['id'].'","'.$_SESSION['user']['id'].'");fecha("importarEnderecos") data-dismiss="modal"><img src="'.URL.'img/xml.png" width="25"> Importar XML</div>
            <div class="bb-1" data-toggle="modal" data-target="#modalImportarJsonEnderecos" onclick=importarJSONEnderecos("'.$_REQUEST['id'].'","'.$_SESSION['user']['id'].'");fecha("importarEnderecos"); data-dismiss="modal"><img src="'.URL.'img/json.png" width="25"> Importar JSON</div>
        </div>
                <div style="display:none; position:absolute; width: 100%" id="modalCadastraEndereco" tabindex="-1">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">'.("Cadastro de Endereço").'</h5>
                                <button type="button" class="close" onclick=fecha("modalCadastraEndereco")>
                                    <span aria-hidden="true">&times;</span>
                                </button>        
                            </div>
                            <form action="#" method="get" id="formAtualizaEndereco">
                                <div class="modal-body">
                                    <input type="hidden" id="idCliente" name="idCliente" value="'.$_REQUEST['id'].'">
                                    <input type="hidden" id="urlEndereco" nome="urlEndereco" value="'.URL.'">
                                    <label for="cepEndereco">Nome do Endereço:</label>
                                    <input type="text" placeholder="Nome do Endereço..." value="" name="nome" value="" id="nome" required class="form-control">
                                    <label for="cepEndereco">Cep:</label>
                                    <input type="text" placeholder="Cep..." name="cepEndereco" value="" onkeypress=mascara(this,"00000-000",event) id="cepEndereco" required class="form-control" onkeyup=verificacepcadastraendereco(this.value)>
                                    <sup>Somente Números</sup><br>
                                    <label for="logradouroEndereco">Logradouro:</label>
                                    <input type="text" placeholder="Logradouro..." value="" name="logradouroEndereco" id="logradouroEndereco" required class="form-control">
                                    <label for="numeroEndereco">Número:</label>
                                    <input type="text" placeholder="Número..." value="" name="numeroEndereco" id="numeroEndereco" required class="form-control">
                                    <label for="complementoEndereco">Complemento:</label>
                                    <input type="text" placeholder="Complemento..." value="" name="complementoEndereco" id="complementoEndereco" class="form-control">
                                    <label for="bairroEndereco">Bairro:</label>
                                    <input type="text" placeholder="Bairro..." value="" name="bairroEndereco" id="bairroEndereco" required class="form-control">
                                    <label for="cidadeEndereco">Cidade:</label>
                                    <input type="text" placeholder="Cidade..." value="" name="cidadeEndereco" id="cidadeEndereco" required class="form-control">
                                    <label for="estadoEndereco">Estado:</label>
                                    <select name="estadoEndereco" id="estadoEndereco" required class="form-control">
                                        <option value="">UF</option>
                                        ';
        $sql = "SELECT * FROM states ORDER BY sigla ASC";
        $query2 = mysqli_query($con, $sql);
        while ($row2 = mysqli_fetch_array($query2)) {
            echo '
                                        <option value="'.$row2['sigla'].'">'.$row2['sigla'].'</option>';
        }
        echo '
                                    </select>
                                    <label for="paisEndereco">País:</label>
                                    <select name="paisEndereco" id="paisEndereco" required class="form-control">
                                        <option value="">Selecione o país corretamente...</option>
                                        ';
        $sql = "SELECT * FROM countries ORDER BY padrao DESC, name ASC";
        $query2 = mysqli_query($con, $sql);
        while ($row2 = mysqli_fetch_array($query2)) {
            echo '
                                        <option value="'.$row2['id'].'" ';
            if ($row['country'] == $row2['id']){
                echo 'selected';
            }
            echo '>'.($row2['name']).'</option>';
        }
        echo '
                                    </select>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" onclick=fecha("modalCadastraEndereco")>Fechar</button>
                                    <button type="button" class="btn btn-primary" onClick=cadastrarEndereco("","'.URL.'","'.$_REQUEST['id'].'","'.$_REQUEST['user'].'")>Cadastrar Endereço</button>
                                </div>
                                </form>
                            </div>
                            </div>
                            </div>';
        $sql = "SELECT a.*, b.name AS nomePais FROM addresses a INNER JOIN countries b ON (a.country = b.id) WHERE a.idClient = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (!mysqli_num_rows($query)){
            echo "<div style='width:100%; background-color:#990000; color:#FFFFFF; text-align: center' id='registros'>Nenhum endereço encontrado!</div>";
        }
        else{
            echo '<table border="0" width="100%" cellpadding="0" cellspacing="0"><tr><th>Nome do Endereço</th><th>CEP do Endereço</th><th>Endereço</th><th>Ações</th></tr>';
            while($row = mysqli_fetch_array($query)){
                echo ('<tr');
                if ($i % 2 == 1){
                    echo ' style="background-color:#e7e7e7"';
                }
                echo ('><td>'.$row['name'].'</td><td>'.$row['cep'].'</td><td>'.$row['address'].' - '.$row['number']);
                if ($row['complement']){
                    echo (' - '.$row['complement']);
                }
                echo (' - B. '.$row['neighborhood'].' - '.$row['city'].' - '.$row['state'].' - '.($row['nomePais']).'</td><td><a onclick=abre("modalAtualizaEndereco'.$row['id'].$_REQUEST['id'].'") style="cursor:pointer"><img src="'.URL.'img/editar.png" width="20"></a> ');
                $sql = "SELECT * FROM requests WHERE address = '".$row['id']."'";
                $query2 = mysqli_query($con, $sql);
                if (!mysqli_num_rows($query2)) {
                    echo ('<img src="' . URL . 'img/excluir.png" style="cursor: pointer" onclick=excluirEndereco("' . $row['id'] . '","' . URL . '","' . $_REQUEST['id'] . '","' . $_REQUEST['user'] . '") width="20">');
                }
                echo '</td></tr><script>
function retornoCEPAtualizaEndereco'.$row['id'].$_REQUEST['id'].'(conteudo) {
    if (!("erro" in conteudo)) {
        //Atualiza os campos com os valores.
        document.getElementById("logradouroEndereco'.$row['id'].$_REQUEST['id'].'").value=(conteudo.logradouro);
        document.getElementById(\'numeroEndereco'.$row['id'].$_REQUEST['id'].'\').value="";
        document.getElementById(\'complementoEndereco'.$row['id'].$_REQUEST['id'].'\').value="";
        document.getElementById(\'bairroEndereco'.$row['id'].$_REQUEST['id'].'\').value=(conteudo.bairro);
        document.getElementById(\'cidadeEndereco'.$row['id'].$_REQUEST['id'].'\').value=(conteudo.localidade);
        document.getElementById(\'estadoEndereco'.$row['id'].$_REQUEST['id'].'\').value=(conteudo.uf);
        document.getElementById(\'numeroEndereco'.$row['id'].$_REQUEST['id'].'\').focus();
    } //end if.
    else {
        //CEP não Encontrado.
        alert("CEP não encontrado. Digeite as informações manualmente!");
        document.getElementById(\'logradouroEndereco'.$row['id'].$_REQUEST['id'].'\').value="";
        document.getElementById(\'bairroEndereco'.$row['id'].$_REQUEST['id'].'\').value="";
        document.getElementById(\'numeroEndereco'.$row['id'].$_REQUEST['id'].'\').value="";
        document.getElementById(\'complementoEndereco'.$row['id'].$_REQUEST['id'].'\').value="";
        document.getElementById(\'cidadeEndereco'.$row['id'].$_REQUEST['id'].'\').value="";
        document.getElementById(\'estadoEndereco'.$row['id'].$_REQUEST['id'].'\').value="";
        document.getElementById(\'logradouroEndereco'.$row['id'].$_REQUEST['id'].'\').focus();
    }
}
                </script>
                <div style="display:none; position:absolute; width: 100%" id="modalAtualizaEndereco'.$row['id'].$_REQUEST['id'].'" tabindex="-1">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">'.("Atualização de Endereço").'</h5>
                                <button type="button" class="close" onclick=fecha("modalAtualizaEndereco'.$row['id'].$_REQUEST['id'].'")>
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <form action="#" method="get" id="formAtualizaEndereco">
                                <div class="modal-body">
                                    <input type="hidden" id="idCliente'.$row['id'].$_REQUEST['id'].'" name="idCliente'.$row['id'].$_REQUEST['id'].'" value="'.$_REQUEST['id'].'">
                                    <input type="hidden" id="idEndereco'.$row['id'].$_REQUEST['id'].'" name="idEndereco'.$row['id'].$_REQUEST['id'].'" value="'.$row['id'].'">
                                    <input type="hidden" id="urlEndereco" nome="urlEndereco" value="'.URL.'">
                                    <label for="cepEndereco">Nome do Endereço:</label>
                                    <input type="text" placeholder="Nome do Endereço..." value="'.($row['name']).'" name="nome'.$row['id'].$_REQUEST['id'].'" value="'.$row['name'].'" id="nome'.$row['id'].$_REQUEST['id'].'" required class="form-control">
                                    <label for="cepEndereco">Cep:</label>
                                    <input type="text" placeholder="Cep..." name="cepEndereco'.$row['id'].$_REQUEST['id'].'" value="'.$row['cep'].'" onkeypress="return mascara(this, \'00000-000\', event)" id="cepEndereco'.$row['id'].$_REQUEST['id'].'" required class="form-control" onkeyup=verificacepatualizaendereco(this.value,"'.$row['id'].'","'.$_REQUEST['id'].'")>
                                    <sup>Somente Números</sup><br>
                                    <label for="logradouroEndereco">Logradouro:</label>
                                    <input type="text" placeholder="Logradouro..." value="'.($row['address']).'" name="logradouroEndereco'.$row['id'].$_REQUEST['id'].'" id="logradouroEndereco'.$row['id'].$_REQUEST['id'].'" required class="form-control">
                                    <label for="numeroEndereco">Número:</label>
                                    <input type="text" placeholder="Número..." value="'.($row['number']).'" name="numeroEndereco'.$row['id'].$_REQUEST['id'].'" id="numeroEndereco'.$row['id'].$_REQUEST['id'].'" required class="form-control">
                                    <label for="complementoEndereco">Complemento:</label>
                                    <input type="text" placeholder="Complemento..." value="'.($row['complement']).'" name="complementoEndereco'.$row['id'].$_REQUEST['id'].'" id="complementoEndereco'.$row['id'].$_REQUEST['id'].'" class="form-control">
                                    <label for="bairroEndereco">Bairro:</label>
                                    <input type="text" placeholder="Bairro..." value="'.($row['neighborhood']).'" name="bairroEndereco'.$row['id'].$_REQUEST['id'].'" id="bairroEndereco'.$row['id'].$_REQUEST['id'].'" required class="form-control">
                                    <label for="cidadeEndereco">Cidade:</label>
                                    <input type="text" placeholder="Cidade..." value="'.($row['city']).'" name="cidadeEndereco'.$row['id'].$_REQUEST['id'].'" id="cidadeEndereco'.$row['id'].$_REQUEST['id'].'" required class="form-control">
                                    <label for="estadoEndereco">Estado:</label>
                                    <select name="estadoEndereco'.$row['id'].$_REQUEST['id'].'" id="estadoEndereco'.$row['id'].$_REQUEST['id'].'" required class="form-control">
                                        <option value="">UF</option>
                                        ';
        $sql = "SELECT * FROM states ORDER BY sigla ASC";
        $query2 = mysqli_query($con, $sql);
        while ($row2 = mysqli_fetch_array($query2)) {
            echo '
                                        <option value="'.$row2['sigla'].'" ';
            if ($row['state'] == $row2['sigla']){
                echo 'selected';
            }
            echo '>'.$row2['sigla'].'</option>';
        }
        echo '
                                    </select>
                                <label for="paisEndereco">País:</label>
                                    <select name="paisEndereco'.$row['id'].$_REQUEST['id'].'" id="paisEndereco'.$row['id'].$_REQUEST['id'].'" required class="form-control">
                                        <option value="">Selecione o país corretamente...</option>
                                        ';
        $sql = "SELECT * FROM countries ORDER BY padrao DESC, name ASC";
        $query2 = mysqli_query($con, $sql);
        while ($row2 = mysqli_fetch_array($query2)) {
            echo '
                                        <option value="'.$row2['id'].'" ';
            if ($row['country'] == $row2['id']){
                echo 'selected';
            }
            echo '>'.($row2['name']).'</option>';
        }
        echo '
                                    </select>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                                    <button type="button" class="btn btn-primary" onClick=atualizarEndereco("'.$row['id'].'","'.URL.'","'.$_REQUEST['id'].'","'.$_REQUEST['user'].'")>Atualizar Endereço</button>
                                </div>
                                </form>
                            </div>
                            </div>';
                $i++;
            }
            echo '</table>
                 <p style="font-weight:bold; font-size:12px">* Não é possível excluir endereços com pedidos relacionados à ele.</p>';
        }   echo '</div>';
        break;
    case "cadastro":
        if (!$_REQUEST['idCliente']) {
            $sql = "SELECT * FROM clients WHERE email = '" . $_REQUEST['emailCadastro'] . "'";
            $query = mysqli_query($con, $sql);
            if (!mysqli_num_rows($query)) {
                $sql = ("INSERT INTO clients (email, password, type_person, created_at, updated_at) VALUES ('" . $_REQUEST['emailCadastro'] . "', '" . md5($_REQUEST['senhaCadastro']) . "', '" . $_REQUEST['tipoCadastro'] . "', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                $idCliente = mysqli_insert_id($con);
                $_SESSION['cliente']['id'] = $idCliente;
                if ($_REQUEST['tipoCadastro'] == 'F') {
                    $sql = "INSERT INTO pessoa_fisicas (client, name, cpf, rg, nationality, dtNasc, cel, status, created_at, updated_at) VALUES ('".$idCliente."', '".$_REQUEST['nomeCadastro']."', '".$_REQUEST['cpfCadastro']."', '".$_REQUEST['rgCadastro']."', '".$_REQUEST['nacionalidadeCadastro']."', '".$_REQUEST['dtNascCadastro']."', '(".$_REQUEST['dddCelularCadastro'].")".$_REQUEST['celularCadastro']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                    mysqli_query($con, $sql) or die(mysqli_error($con));
                    $_SESSION['cliente']['name'] = ($_REQUEST['nomeCadastro']);
                }
                else{
                    $sql = "INSERT INTO pessoa_juridicas (client, razaoSocial, nomeFantasia, contato, cnpj, ie, im, nationality, dataAbertura, cel, telefone, status, created_at, updated_at) VALUES ('".$idCliente."', '".$_REQUEST['razaoSocialCadastro']."', '".$_REQUEST['nomeFantasiaCadastro']."', '".$_REQUEST['contatoCadastro']."', '".$_REQUEST['cnpjCadastro']."', '".$_REQUEST['ieCadastro']."', '".$_REQUEST['imCadastro']."', '".$_REQUEST['nacionalidadeEmpresaCadastro']."', '".$_REQUEST['dataAberturaCadastro']."', '(".$_REQUEST['dddCelularCadastro'].")".$_REQUEST['celularCadastro']."', '(".$_REQUEST['dddTelefoneCadastro'].")".$_REQUEST['telefoneCadastro']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                    mysqli_query($con, $sql) or die(mysqli_error($con));
                    $_SESSION['cliente']['name'] = ($_REQUEST['nomeFantasiaCadastro']." - ".$_REQUEST['contatoCadastro']);
                }
                $_SESSION['cliente']['email'] = $_REQUEST['emailCadastro'];
                echo '1';
            } else {
                echo "0|-|Esse email já está cadastrado em nosso site! Feche esta janela e clique em 'Esqueceu sua senha?'!";
            }
        }
        break;
        case 'selecionaTipoPessoa':
            $sql = "SELECT * FROM nationalities ORDER BY padrao DESC, created_at DESC, id ASC";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                while ($row = mysqli_fetch_array($query)){
                    $nacionalidade[] = $row;
                }
            }
            if($_REQUEST['tipo'] == 'F'){
                $html = '<input type="text" placeholder="Nome" required name="nomeCadastro" id="nomeCadastro" class="form-control" /><input type="text" class="form-control" placeholder="CPF (somente números)" required name="cpfCadastro" id="cpfCadastro" onkeyup="mascara(this, \'###.###.###-##\', event)" maxlength="14" /><input type="text" placeholder="RG" required name="rgCadastro" id="rgCadastro" class="form-control" /><select name="nacionalidadeCadastro" id="nacionalidadeCadastro" class="form-control"><option value="">Selecione a nacionalidade corretamente...</option>';
                foreach ($nacionalidade as $key => $value){
                    $html .= '<option value="'.$value['id'].'">'.($value['name']).'</option>';
                }
                $html .= '</select><label for="dtNascCadastro" style="float:left;">Data de Nascimento:</label> <input type="date" placeholder="Data de Nascimento" required="" name="dtNascCadastro" id="dtNascCadastro" title="Data de Nascimento" class="form-control">
                <span style="float:left">(</span><input type="text" placeholder="DDD" required name="dddCelularCadastro" id="dddCelularCadastro" onkeyup="passaProximo(\'dddCelularCadastro\', 2, \'celularCadastro\')" style="float:left; width:9%" class="form-control" maxlength="2" /><span style="float:left">)</span><input type="text" placeholder="Celular (somente números)" required name="celularCadastro" id="celularCadastro" class="form-control" style="float:left; width:75%" onkeyup="passaProximo(\'celularCadastro\', 10, \'emailCadastro\'); mascara(this, \'#####-####\', event)" maxlength="10" />';
            }
            else{
                $html = '<input type="text" placeholder="Razão Social" required name="razaoSocialCadastro" id="razaoSocialCadastro" class="form-control" /><input type="text" placeholder="Nome Fantasia" required name="nomeFantasiaCadastro" id="nomeFantasiaCadastro" class="form-control" /><input type="text" placeholder="Nome do Contato" required name="contatoCadastro" id="contatoCadastro" class="form-control" /><input type="text" placeholder="CNPJ" required name="cnpjCadastro" id="cnpjCadastro" maxlength="18" onkeyup="mascara(this, \'##.###.###/####-##\', event)" class="form-control" /><input type="text" placeholder="Inscrição Estadual" required name="ieCadastro" id="ieCadastro" class="form-control" /><input type="text" placeholder="Inscrição Municipal" required name="imCadastro" id="imCadastro" class="form-control" /><select name="nacionalidadeEmpresaCadastro" id="nacionalidadeEmpresaCadastro" class="form-control"><option value="">Selecione a nacionalidade corretamente...</option>';
                foreach ($nacionalidade as $key => $value){
                    $html .= '<option value="'.$value['id'].'">'.($value['name']).'</option>';
                }
                $html .= '</select><label for="dtAberturaCadastro" style="float:left;">Data de Abertura da Empresa:</label> <input type="date" placeholder="Data de Abertura da Empresa" required="" name="dtAberturaCadastro" id="dtAberturaCadastro" title="Data de Abertura da Empresa" class="form-control">
                <br><span style="float:left">(</span><input type="text" placeholder="DDD" required name="dddCelularCadastro" id="dddCelularCadastro" class="form-control" onkeyup="passaProximo(\'dddCelularCadastro\', 2, \'celularCadastro\')" style="float:left; width:9%" maxlength="2" /><span style="float:left">)</span><input type="text" placeholder="Celular (somente números)" required name="celularCadastro" id="celularCadastro" class="form-control" style="float:left; width:75%" onkeyup="passaProximo(\'celularCadastro\', 10, \'dddTelefoneCadastro\'); mascara(this, \'#####-####\', event)" maxlength="10" /><br><br>
                <span style="float:left">(</span><input type="text" placeholder="DDD" required name="dddTelefoneCadastro" id="dddTelefoneCadastro" onkeyup="passaProximo(\'dddTelefoneCadastro\', 2, \'telefoneCadastro\')" class="form-control" style="float:left; width:9%" maxlength="2" /><span style="float:left">)</span><input type="text" placeholder="Telefone (somente números)" required name="telefoneCadastro" id="telefoneCadastro" class="form-control" style="float:left; width:75%" onkeyup="passaProximo(\'telefoneCadastro\', 9, \'emailCadastro\'); mascara(this, \'####-####\', event)" maxlength="9" /><br>';
            }
            echo "1|-|".$html;
            break;
    case 'selecionaTipoPessoa2':
        $sql = "SELECT * FROM nationalities ORDER BY padrao DESC, created_at DESC, id ASC";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                $nacionalidade[] = $row;
            }
        }
        if($_REQUEST['tipo'] == 'F'){
            $html = '<input type="text" placeholder="Nome" required name="nomeCadastro2" id="nomeCadastro2" class="form-control" /><br><input type="text" placeholder="CPF (somente números)" required name="cpfCadastro2" id="cpfCadastro2" onkeyup="mascara(this, \'###.###.###-##\', event)" maxlength="14" class="form-control"/><br><input type="text" placeholder="RG" required name="rgCadastro2" id="rgCadastro2" class="form-control" /><br><select name="nacionalidadeCadastro2" id="nacionalidadeCadastro2" class="form-control"><option value="">Selecione a nacionalidade corretamente...</option>';
            foreach ($nacionalidade as $key => $value){
                $html .= '<option value="'.$value['id'].'">'.($value['name']).'</option>';
            }
            $html .= '</select><br><label for="dtNascCadastro2" style="float:left;">Data de Nascimento:</label> <input type="date" placeholder="Data de Nascimento" required="" name="dtNascCadastro2" id="dtNascCadastro2" title="Data de Nascimento" class="form-control">
            <span style="float:left">(</span><input type="text" placeholder="DDD" required name="dddCelularCadastro2" id="dddCelularCadastro2" onkeyup="passaProximo(\'dddCelularCadastro2\', 2, \'celularCadastro2\')" style="float:left; width:9%" maxlength="2" /><span style="float:left">)</span><input type="text" placeholder="Celular (somente números)" required name="celularCadastro2" id="celularCadastro2" style="float:left; width:75%" onkeyup="passaProximo(\'celularCadastro2\', 10, \'emailCadastro2\'); mascara(this, \'#####-####\', event)" maxlength="10" /><br>';
        }
        else{
            $html = '<input type="text" placeholder="Razão Social" required name="razaoSocialCadastro2" id="razaoSocialCadastro2" class="form-control" /><br><input type="text" placeholder="Nome Fantasia" required name="nomeFantasiaCadastro2" id="nomeFantasiaCadastro2" class="form-control" /><br><input type="text" placeholder="Nome do Contato" required name="contatoCadastro2" id="contatoCadastro2" class="form-control" /><br><input type="text" placeholder="CNPJ" required name="cnpjCadastro2" id="cnpjCadastro2" maxlength="18" onkeyup="mascara(this, \'##.###.###/####-##\', event)" class="form-control" /><br><input type="text" placeholder="Inscrição Estadual" required name="ieCadastro2" id="ieCadastro2" class="form-control" /><br><input type="text" placeholder="Inscrição Municipal" required name="imCadastro2" id="imCadastro2" class="form-control" /><br><select name="nacionalidadeEmpresaCadastro2" id="nacionalidadeEmpresaCadastro2" class="form-control"><option value="">Selecione a nacionalidade corretamente...</option>';
            foreach ($nacionalidade as $key => $value){
                $html .= '<option value="'.$value['id'].'">'.($value['name']).'</option>';
            }
            $html .= '</select><br><label for="dataAberturaCadastro2" style="float:left;">Data de Abertura da Empresa:</label> <input type="date" placeholder="Data de Abertura da Empresa" required="" name="dataAberturaCadastro2" id="dataAberturaCadastro2" title="Data de Abertura da Empresa" class="form-control"><br>
            <span style="float:left">(</span><input type="text" placeholder="DDD" required name="dddCelularCadastro2" id="dddCelularCadastro2" onkeyup="passaProximo(\'dddCelularCadastro2\', 2, \'celularCadastro2\')" style="float:left; width:9%" maxlength="2" /><span style="float:left">)</span><input type="text" placeholder="Celular (somente números)" required name="celularCadastro2" id="celularCadastro2" style="float:left; width:75%" onkeyup="passaProximo(\'celularCadastro2\', 10, \'dddTelefoneCadastro2\'); mascara(this, \'#####-####\', event)" maxlength="10" /><br><br>
            <span style="float:left">(</span><input type="text" placeholder="DDD" required name="dddTelefoneCadastro2" id="dddTelefoneCadastro2" onkeyup="passaProximo(\'dddTelefoneCadastro2\', 2, \'telefoneCadastro2\')" style="float:left; width:9%" maxlength="2" /><span style="float:left">)</span><input type="text" placeholder="Telefone (somente números)" required name="telefoneCadastro2" id="telefoneCadastro2" style="float:left; width:75%" onkeyup="passaProximo(\'telefoneCadastro2\', 9, \'emailCadastro2\'); mascara(this, \'####-####\', event)" maxlength="9" />';
        }
        echo "1|-|".$html;
        break;
    case "atualizarCadastro":
        $sql = "SELECT * FROM clients WHERE id = '".$_SESSION['cliente']['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "SELECT * FROM clients WHERE id != '".$_SESSION['cliente']['id']."' AND email = '".$_REQUEST['emailAtualiza']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            echo "0|-|Já existe outro cliente cadastrado com esse email. Utilize outro.";
        }
        else{
            $sql = ("UPDATE clients SET email = '".$_REQUEST['emailAtualiza']."', type_person = '".$_REQUEST['tipoAtualiza']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_SESSION['cliente']['id']."'");
            mysqli_query($con, $sql);
            $sql = "DELETE FROM pessoa_fisicas WHERE client = '".$_SESSION['cliente']['id']."'";
            mysqli_query($con, $sql);
            $sql = "DELETE FROM pessoa_juridicas WHERE client = '".$_SESSION['cliente']['id']."'";
            mysqli_query($con, $sql);
            if ($_REQUEST['tipoAtualiza'] == 'F') {
                $sql = utf8_encode("INSERT INTO pessoa_fisicas (client, name, cpf, rg, nationality, dtNasc, cel, status, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', '".$_REQUEST['nomeAtualiza']."', '".$_REQUEST['cpfAtualiza']."', '".$_REQUEST['rgAtualiza']."', '".$_REQUEST['nacionalidadeAtualiza']."', '".$_REQUEST['dtNascAtualiza']."', '".$_REQUEST['celularAtualiza']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                mysqli_query($con, $sql) or die(mysqli_error($con));
                $_SESSION['cliente']['name'] = utf8_encode($_REQUEST['nomeAtualiza']);
            }
            else{
                $sql = utf8_encode("INSERT INTO pessoa_juridicas (client, razaoSocial, nomeFantasia, contato, cnpj, ie, im, nationality, dataAbertura, cel, telefone, status, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', '".($_REQUEST['razaoSocialAtualiza'])."', '".($_REQUEST['nomeFantasiaAtualiza'])."', '".($_REQUEST['contatoAtualiza'])."', '".$_REQUEST['cnpjAtualiza']."', '".$_REQUEST['ieAtualiza']."', '".$_REQUEST['imAtualiza']."', '".$_REQUEST['nacionalidadeEmpresaAtualiza']."', '".$_REQUEST['dataAberturaAtualiza']."', '".$_REQUEST['celularAtualiza']."', '".$_REQUEST['telefoneAtualiza']."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                mysqli_query($con, $sql) or die(mysqli_error($con));
                $_SESSION['cliente']['name'] = utf8_encode($_REQUEST['nomeFantasiaAtualiza']." - ".$_REQUEST['contatoAtualiza']);
            }
            $sql = "INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Atualizou o cadastro do cliente!', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
            echo '1|-|'.utf8_decode($_SESSION['cliente']['name']);
        }
        break;
    case "atualizarSenha":
        $sql = "SELECT * FROM clients WHERE id = '".$_SESSION['cliente']['id']."'";
        $query = mysqli_query($con, $sql);
        if (!mysqli_num_rows($query)){
            echo "0|-|Senha informada incorretamente!|-|senhaAtualAtualiza";
        }
        else{
            $sql = ("UPDATE clients SET password = '".md5($_REQUEST['novaSenha'])."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$_SESSION['cliente']['id']."'");
            mysqli_query($con, $sql);
            $sql = "INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Atualizou a senha do cliente!', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
            echo '1';
        }
        break;
    case "alterarSenha":
        if ($_REQUEST['password'] != $_REQUEST['password2']){
            echo "0|-|Senhas digitadas não coincidem!";
        }
        else{
            $sql = "UPDATE clients SET password = '".md5($_REQUEST['password'])."', updated_at = '".date('Y-m-d H:i:s')."', remember_token = '' WHERE id = '".$_REQUEST['idCliente']."'";
            mysqli_query($con, $sql);
            $sql = "INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', 'Alterou a senha do cliente!', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
            $sql = "SELECT * FROM clients WHERE id = '".$_REQUEST['idCliente']."'";
            $query = mysqli_query($con, $sql);
            $row = mysqli_fetch_array($query);
            $sql = "SELECT * FROM pessoa_fisicas WHERE client = '".$_REQUEST['idCliente']."'";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                $row2 = mysqli_fetch_array($query);
                $_SESSION['cliente']['name'] = $row2['name'];
            }
            else{
                $sql = "SELECT * FROM pessoa_juridicas WHERE client = '".$_REQUEST['idCliente']."'";
                $query = mysqli_query($con, $sql);
                $row2 = mysqli_fetch_array($query);
                $_SESSION['cliente']['name'] = $row2['nomeFantasia'];
            }
            $_SESSION['cliente']['id'] = $row['id'];
            $_SESSION['cliente']['email'] = $row['email'];
            echo "1|-|Senha alterada com sucesso!";
        }
        break;
    case "enviarEsqueceuSuaSenha":
        if ($_REQUEST['emailEsqueceuSuaSenha2']){
            $_REQUEST['emailEsqueceuSuaSenha'] = $_REQUEST['emailEsqueceuSuaSenha2'];
        }
        $sql = "SELECT a.*, b.name AS nomeCliente, c.nomeFantasia FROM clients a LEFT JOIN pessoa_fisicas b ON (a.id = b.client) LEFT JOIN pessoa_juridicas c ON (a.id = c.client) WHERE a.email = '".$_REQUEST['emailEsqueceuSuaSenha']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)) {
            $row = mysqli_fetch_array($query);
            $nomeCliente = ($row['nomeCliente']) ? $row['nomeCliente'] : $row['nomeFantasia'];
            $rt = "";
            for ($i = 0; $i < 30; $i++) {
                $rt .= rand(0, 9);
            }
            $sql = "UPDATE clients SET remember_token = '".$rt."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
            mysqli_query($con, $sql);
            $htmlEmail = '<html><head><title>Email de recuperação de senha - '.$parametrosSite['title'].'</title></head><body><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="250" style="width: 250px; text-align: center;"><img src="'.URL.'img/logo.png" width="200"></td><td>Olá '.$nomeCliente.',<br><br>Para alterar a sua senha, <a href="'.URL.'pagina/alteracao-de-senha/'.$rt.'/'.base64_encode($row['id']).'">clique aqui</a>.<br><br>Atenciosamente,<br><br>Equipe '.$parametrosSite['title'].'<hr noshade><center>Email Desenvolvido Pela <a href="https://www.bhcommerce.com.br/">BH Commerce</a></center><hr noshade></td></tr></table></body></html>';           
            //echo $htmlEmail;
            $assuntoEmail = "Email de recuperação de senha - ".$parametrosSite['title'];
            $paraEmail = $row['nome']."<".$row['email'].">";            $cabecalhoEmail = "Content-Type: text/html; charset=iso-8859-1\n";
            $cabecalhoEmail .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
            enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $row['email'], utf8_decode($nomeCliente), utf8_decode($assuntoEmail), utf8_decode($htmlEmail));
			//mail(utf8_decode($paraEmail), utf8_decode($assuntoEmail), utf8_decode($htmlEmail), utf8_decode($cabecalhoEmail));
            echo "1|-|".URL.'pagina/alteracao-de-senha/?remember_token='.$rt.'&client='.base64_encode($row['id']);
        }
        else{
            echo "0";
        }
        break;
    case "realizarLogin":
        if ($_REQUEST['emailLogin2']){
            $_REQUEST['emailLogin'] = $_REQUEST['emailLogin2'];
        }
        if ($_REQUEST['passwordLogin2']){
            $_REQUEST['passwordLogin'] = $_REQUEST['passwordLogin2'];
        }
        $sql = "SELECT * FROM clients WHERE email = '".$_REQUEST['emailLogin']."' AND password = '".md5($_REQUEST['passwordLogin'])."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            $row = mysqli_fetch_array($query);
            if ($row['type_person'] == 'F'){
                $sql = "SELECT * FROM pessoa_fisicas WHERE client = '".$row['id']."'";
                $query2 = mysqli_query($con, $sql);
                $row2 = mysqli_fetch_array($query2);
                $_SESSION['cliente']['name'] = $row2['name'];
            }
            elseif ($row['type_person'] == 'J'){
                $sql = "SELECT * FROM pessoa_juridicas WHERE client = '".$row['id']."'";
                $query2 = mysqli_query($con, $sql);
                $row2 = mysqli_fetch_array($query2);
                $_SESSION['cliente']['name'] = $row2['nomeFantasia']." - ".$row2['contato'];
            }
            $_SESSION['cliente']['email'] = $row['email'];
            $_SESSION['cliente']['id'] = $row['id'];
            $sql = "SELECT * FROM addresses WHERE idClient = '".$row['id']."' LIMIT 1";
            $query2 = mysqli_query($con, $sql);
            $row2 = mysqli_fetch_array($query2);
            $_SESSION['cepPredefinido'] = $row2['cep'];
            $sql = "INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$row['id']."', 'Se logou no site!', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql);
            echo "1";
        }
        else{
            echo "0|-|Não existe cliente com o email ou senha informados!";
        }
        break;
    case "insereLogClienteVisualiza":
        $acao = "Visualizou ";
        if ($_REQUEST['id'] == 67){
            $acao .= "o cadastro do cliente!";
        }
        elseif ($_REQUEST['id'] == 70){
            $acao .= "os seus endereços!";
        }
        elseif ($_REQUEST['id'] == 71){
            $acao .= "a tela de alterar a senha!";
        }
        elseif ($_REQUEST['id'] == 72){
            $acao .= "os seus pedidos!";
        }
        elseif ($_REQUEST['id'] == 73){
            $acao .= "as suas listas de presentes!";
        }
        $sql = "INSERT INTO logs_clients (client, action, created_at, updated_at) VALUES ('".$_SESSION['cliente']['id']."', '".($acao)."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case "logout":
        $sql = "INSERT INTO logs (user, action, created_at, updated_at) VALUES ('".$_SESSION['user']['id']."', 'Efetuou logout no site!', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $_SESSION['user'] = "";
        echo "1";
        break;
    case "salvarNews":
        $_REQUEST['nomeNews'] = ($_REQUEST['nomeNews']) ? $_REQUEST['nomeNews'] : $_REQUEST['nomeNews2'];
        $_REQUEST['emailNews'] = ($_REQUEST['emailNews']) ? $_REQUEST['emailNews'] : $_REQUEST['emailNews2'];
        $email['nome'] = $parametrosSite['title']." <testegosat@bhcommerce.com.br>";
        $email['assunto'] = "Email cadastrado na newsletter com sucesso! - ".$parametrosSite['title'];
        $email['cabecalho'] = "Content-Type: text/html; charset=iso-8859-1\n";
        $email['cabecalho'] .= "From: Sistema de Teste Gosat <testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat <testegosat@bhcommerce.com.br>";
        $email['corpo'] = '<html><head><title>'.$email['assunto'].'</title></head><body><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="250" style="width: 250px; text-align: center;"><img src="'.URL.'img/logo.png" width="200"></td><td>Olá, o email <b>"'.$_REQUEST['emailNews'].'"</b>, foi cadastrado em nosso site em '.date('d/m/Y H:i').'h.<br><br>Atenciosamente,<br><br>Equipe '.$parametrosSite['title'].'<hr noshade><center>Email Desenvolvido Pela <a href="https://www.bhcommerce.com.br/">BH Commerce</a></center><hr noshade></td></tr></table></body></html>';
        $sql = "SELECT * FROM newsletters WHERE email = '".$_REQUEST['emailNews']."'";
        $query = mysqli_query($con, $sql);
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($email['assunto']), utf8_decode($email['corpo']));
        //mail(utf8_decode($parametrosSite['title']."<testegosat@bhcommerce.com.br>"), utf8_decode($email['assunto']), utf8_decode($email['corpo']), utf8_decode($email['cabecalho']));
        if (!mysqli_num_rows($query)) {
            $sql = "INSERT INTO newsletters (name, email, status, created_at, updated_at) VALUES ('" . ($_REQUEST['nomeNews'] . "', '" . $_REQUEST['emailNews']) . "', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        }
        else{
            $sql = "UPDATE newsletters SET name = '".$_REQUEST['nomeNews']."', email = '".$_REQUEST['emailNews']."', updated_at = '".date('Y-m-d H:i:s')."' WHERE email = '".$_REQUEST['emailNews']."'";
        }
        if (!isset($_SESSION['cliente']['id']) || !$_SESSION['cliente']['id']){
            $_SESSION['cliente']['name'] = "";
            $_SESSION['cliente']['email'] = "";
        }
        mysqli_query($con, $sql);
        echo "1|-|".utf8_decode($_SESSION['cliente']['name'])."|-|".$_SESSION['cliente']['email'];
        break;
    case "salvarContato":
        $email['nome'] = $parametrosSite['title']." <testegosat@bhcommerce.com.br>";
        $email['assunto'] = ("Email enviado pelo formulário de Fale Conosco do Site - Sistema de Teste Gosat - ".$_REQUEST['assuntoContato']);
        $email['cabecalho'] = "Content-Type: text/html; charset=iso-8859-1\n";
        $email['cabecalho'] .= "From: ".$_REQUEST['nomeContato']." <".$_REQUEST['emailContato'].">\nReply-To: Sistema de Teste Gosat <testegosat@bhcommerce.com.br>";
        $email['corpo'] = ('<html><head><title>'.$email['assuntoMensagem'].'</title></head><body><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="250" style="width: 250px; text-align: center;"><img src="'.URL.'img/logo.png" width="200"></td><td>Olá, foi enviado um novo email a partir do formulário de fale conosco do site. <br><b>Nome: </b> '.$_REQUEST['nomeContato'].'<br><b>Email: </b> '.$_REQUEST['emailContato'].'<br><b>Celular: </b> '.$_REQUEST['celularContato'].'<br><b>Assunto: </b> '.$_REQUEST['assuntoContato'].'<br><b>Mensagem: </b> '.nl2br($_REQUEST['mensagemContato']).'<br><br>Atenciosamente,<br><br>Equipe <a href="'.URL.'">'.$parametrosSite['title'].'</a><hr noshade><center>Email Desenvolvido Pela <a href="https://www.bhcommerce.com.br/">BH Commerce</a></center><hr noshade></td></tr></table></body></html>');
        //mail(utf8_decode($email['nome']), utf8_decode($email['assunto']), utf8_decode($email['corpo']), utf8_decode($email['cabecalho']));
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($email['assunto']), utf8_decode($email['corpo']));
        $sql = "INSERT INTO messages (name, email, subject, phone, text, status, date_answer,  created_at, updated_at) VALUES ('".($_REQUEST['nomeContato']."', '".$_REQUEST['emailContato']."', '".$_REQUEST['assuntoContato']."', '".$_REQUEST['celularContato']."', '".$_REQUEST['mensagemContato'])."', '1', '1999-01-01', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        echo "1|-|".utf8_decode($_SESSION['cliente']['name'])."|-|".$_SESSION['cliente']['email'];
        break;
    case "salvarBugTracking":
        $sql = "SELECT * FROM  types_services WHERE id = '".$_REQUEST['typeService']."'";
        $query = mysqli_query($con, $sql);
        $rowTipoServico = mysqli_fetch_array($query);
        $sql = "SELECT * FROM  type_versions WHERE id = '".$_REQUEST['typeVersion']."'";
        $query = mysqli_query($con, $sql);
        $rowTipoVersao = mysqli_fetch_array($query);
        $sql = "SELECT * FROM  priorities WHERE id = '".$_REQUEST['priority']."'";
        $query = mysqli_query($con, $sql);
        $rowPrioridade = mysqli_fetch_array($query);
        $sql = "SELECT * FROM  categories WHERE id = '".$_REQUEST['category']."'";
        $query = mysqli_query($con, $sql);
        $rowCategoria = mysqli_fetch_array($query);
        $email['nome'] = $parametrosSite['title']." <testegosat@bhcommerce.com.br>";
        $email['assunto'] = ("Email enviado pelo formulário de Bug Tracking do Site - BH Commerce - ".$_REQUEST['titleBugTracking']);
        $email['cabecalho'] = "Content-Type: text/html; charset=iso-8859-1\n";
        $email['cabecalho'] .= "From: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>\nReply-To: Sistema de Teste Gosat<testegosat@bhcommerce.com.br>";
        $email['corpo'] = ('<html><head><title>'.$email['assunto'].'</title></head><body><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td width="250" style="width: 250px; text-align: center;" valign="top"><img src="'.URL.'img/logo.png" width="200"></td><td>Olá, foi enviado um novo email a partir do formulário de bug tracking do site. <br><b>Nome: </b> '.$_REQUEST['nameBugTracking'].'<br><b>Email: </b> '.$_REQUEST['emailBugTracking'].'<br><b>Título: </b> '.$_REQUEST['titleBugTracking'].'<br><b>Tipo de Serviço: </b> '.($rowTipoServico['name']).'<br><b>Versão: </b> '.($rowTipoVersao['name']).'<br><b>Prioridade: </b> '.($rowPrioridade['name']).'<br><b>Categoria: </b> '.($rowCategoria['name']).'<br><b>Mensagem: </b> '.nl2br($_REQUEST['message']).'<br><b>Status: </b>Enviado<br><br>Atenciosamente,<br><br>Equipe <a href="'.URL.'">'.$parametrosSite['title'].'</a><hr noshade><center>Email Desenvolvido Pela <a href="https://www.bhcommerce.com.br/">BH Commerce</a></center><hr noshade></td></tr></table></body></html>');
        //mail(utf8_decode($email['nome']), utf8_decode($email['assunto']), utf8_decode($email['corpo']), utf8_decode($email['cabecalho']));
        enviarEmail($parametrosSite['email'], utf8_decode($parametrosSite['title']), $parametrosSite['email'], utf8_decode($parametrosSite['title']), utf8_decode($email['assunto']), utf8_decode($email['corpo']));
        $sql = "INSERT INTO bug_trackings (typeService, typeVersion, priority, category, name, email, title, message, created_at, updated_at) VALUES ('".($_REQUEST['typeService']."', '".$_REQUEST['typeVersion']."', '".$_REQUEST['priority']."', '".$_REQUEST['category']."', '".$_REQUEST['nameBugTracking']."', '".$_REQUEST['emailBugTracking']."', '".$_REQUEST['titleBugTracking']."', '".$_REQUEST['message'])."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        mysqli_query($con, $sql) or die(mysqli_error($con)."<br>".$sql);
        echo "1";
        break;
    case 'selecionaTipoServiço':
        echo "1|-|<label class=\"form-label\">
                                Versão
                                <span class=\"text-danger\">*</span>
                            </label>

                            <select class=\"form-control\" name=\"typeVersion\" id=\"typeVersion\" required
                                    data-msg=\"Por Favor, informe a versão.\"
                                    data-error-class=\"u-has-error\"
                                    data-success-class=\"u-has-success\">
                                <option value=\"\">Selecione a versão corretamente</option>";
        $sql = "SELECT * FROM type_versions WHERE typeService = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                echo "<option value=\"".$row['id']."\">".$row['name']."</option>";
            }
        }
        echo "</select>|-|<label class=\"form-label\">Prioridade
                                <span class=\"text-danger\">*</span>
                            </label><select class=\"form-control\" name=\"priority\" id=\"priority\" required
                                    data-msg=\"Por Favor, informe a prioridade. \"
                                    data-error-class=\"u-has-error\"
                                    data-success-class=\"u-has-success\">
                                <option value=\"\">Selecione a prioridade corretamente</option>";
        $sql = "SELECT * FROM priorities";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                echo "<option value=\"".$row['id']."\" > ".($row['name'])."</option>";
            }
        }
        echo "</select>|-|<label class=\"form-label\">
                                Categoria
                                <span class=\"text-danger\">*</span>
                            </label>

                            <select class=\"form-control\" name=\"category\" id=\"category\" required
                                    data-msg=\"Por Favor, informe a categoria.\"
                                    data-error-class=\"u-has-error\"
                                    data-success-class=\"u-has-success\">
                                <option value=\"\">Selecione a categoria corretamente</option>";
        $sql = "SELECT * FROM categories WHERE typeService = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                echo "<option value=\"".$row['id']."\"> ".($row['name'])."</option>";
            }
        }
        echo "</select>";
        break;
    case 'selecionaTipoServiçoAdmin':
        echo "1|-|<select name=\"typeVersion\" id=\"typeVersion\" required class='form-control'>
                                <option value=\"\">Selecione a versão corretamente</option>";
        $sql = "SELECT * FROM type_versions WHERE typeService = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                echo "<option value=\"".$row['id']."\" ";
                if ($_REQUEST['version'] == $row['id']){
                    echo " selected";
                }
                echo ">".$row['name']."</option>";
            }
        }
        echo "</select>|-|<select name=\"priority\" id=\"priority\" required class='form-control'>
                       <option value=\"\">Selecione a prioridade corretamente</option>";
        $sql = "SELECT * FROM priorities";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                echo "<option value=\"".$row['id']."\" ";
                if ($_REQUEST['priority'] == $row['id']){
                    echo " selected";
                }
                echo "> ".($row['name'])."</option>";
            }
        }
        echo "</select>|-|<select name=\"category\" id=\"category\" required class='form-control'>
                                <option value=\"\">Selecione a categoria corretamente</option>";
        $sql = "SELECT * FROM categories WHERE typeService = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                echo "<option value=\"".$row['id']."\" ";
                if ($_REQUEST['category'] == $row['id']){
                    echo " selected";
                }
                echo "> ".($row['name'])."</option>";
            }
        }
        echo "</select>";
        break;
    case 'adicionaProdutoPedido':
        echo "1|-|<input type='hidden' id='pedidoAdd' name='pedidoAdd' value='".$_REQUEST['id']."'><input type='hidden' id='idUserAdd' name='idUserAdd' value='".$_REQUEST['idUser']."'><label for='produtoAdd'>Produto: </label>
                  <select name='produtoAdd' id='produtoAdd' class='form-control' onchange=selecionaProdutoPedido(this.value,'".URL."')><option value=''>Selecione o produto abaixo corretamente...</option>";
        $sql = "SELECT * FROM products";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while ($row = mysqli_fetch_array($query)){
                echo "<option value='".$row['id']."'>".($row['name'])."</option>";
            }
        }
        echo "</select><div id='itensProdutoPedido'></div>";
        break;
    case "selecionaProdutoPedido":
        echo "1|-|<label for='itemVendaAdd'>Item de Venda: </label>
                  <select name='itemVendaAdd' id='itemVendaAdd' class='form-control' onchange=selecionaItemVendaPedido(this.value,'".$_REQUEST['id']."','".URL."')><option value=''>Selecione o item de venda abaixo corretamente...</option>";
        $sql = "SELECT * FROM products_items WHERE product = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)) {
            while ($row = mysqli_fetch_array($query)) {
                echo "<option value='" . $row['id']."'>" . ($row['name']) . " - ";
                if ($row['promotion'] != '0.00' && $row['vlidity_promotion'] <= date('Y-m-d')) {
                    echo "R$" . number_format($row['promotion'], 2, ',', '.');
                } else {
                    echo "R$" . number_format($row['value'], 2, ',', '.');
                }
                echo "</option>";
            }
        }
        echo "</select><div id='itensVendaPedidoProduto'></div>";
        break;
    case "selecionaItemVendaPedido":
        if ($_REQUEST['idProduto'] != 3 && $_REQUEST['idProduto'] != 4){
            $html = "<label for='dominioAdd'>Domínio: </label><input type='text' name='dominioAdd' id='dominioAdd' class='form-control'>";
        }
        elseif($_REQUEST['idProduto'] == 3){
            $html = "<label for='razaoSocialAdd'>Razão Social: </label><input type='text' name='razaoSocialAdd' id='razaoSocialAdd' class='form-control'>
                    <label for='nomeFantasiaAdd'>Nome Fantasia: </label><input type='text' name='nomeFantasiaAdd' id='nomeFantasiaAdd' class='form-control'>
                    <label for='cnpjAdd'>CNPJ: </label><input type='text' name='cnpjAdd' id='cnpjAdd' class='form-control' maxlength='18' onkeyup=formataCampo(this,'XX.XXX.XXX/XXXX-XX',event)>
                    <label for='emailAdd'>Email: </label><input type='email' name='emailaAdd' id='emailAdd' class='form-control'>
                    <label for='cepAdd'>CEP: </label><input type='cepAdd' name='cepAdd' id='cepAdd' class='form-control' maxlength='9' onkeyup=formataCampo(this,'XXXXX-XXX',event);verificaCepCaixa(this.value)>
                    <label for='logradouroAdd'>Logradouro </label><input type='text' name='logradouroAdd' id='logradouroAdd' class='form-control'>
                    <label for='numeroAdd'>Número </label><input type='text' name='numeroAdd' id='numeroAdd' class='form-control'>
                    <label for='complementoAdd'>Complemento </label><input type='text' name='complementoAdd' id='complementoAdd' class='form-control'>
                    <label for='bairroAdd'>Bairro </label><input type='text' name='bairroAdd' id='bairroAdd' class='form-control'>
                    <label for='cidadeAdd'>Cidade </label><input type='text' name='cidadeAdd' id='cidadeAdd' class='form-control'>
                    <label for='estadoAdd'>Estado </label><select name='estadoAdd' id='estadoAdd' class='form-control'><option value=''>Selecione o estado abaixo...</option>";
            $sql = "SELECT * FROM states ORDER BY sigla ASC";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                while ($row = mysqli_fetch_array($query)){
                    $html .= "<option value='".$row['sigla']."'>".($row['nome'])."</option>";
                }
            }
            $html .= "</select>
                    <label forr='tipoEstabelecimentoAdd'>Tipo do Estabelecimento: </label>
                    <select name='tipoEstabelecimentoAdd' id='tipoEstabelecimentoAdd' class='form-control' onchange='selecionaTipoEstabelecimentoAdd(this.value)'>
                        <option value=''>Selecione o tipo do estabelecimento abaixo...</option>
                        <option value='1'>Mesas</option>
                        <option value='2'>Caixas</option>
                    </select>
                    <div id='outrosItensAdd'></div>";
        }
        elseif($_REQUEST['idProduto'] == 3){
            $html = "<label for='razaoSocialAdd'>Razão Social: </label><input type='text' name='razaoSocialAdd' id='razaoSocialAdd' class='form-control'>
                    <label for='nomeFantasiaAdd'>Nome Fantasia: </label><input type='text' name='nomeFantasiaAdd' id='nomeFantasiaAdd' class='form-control'>
                    <label for='cnpjAdd'>CNPJ: </label><input type='text' name='cnpjAdd' id='cnpjAdd' class='form-control' maxlength='18' onkeyup=formataCampo(this,'XX.XXX.XXX/XXXX-XX',event)>
                    <label for='emailAdd'>Email: </label><input type='email' name='emailaAdd' id='emailAdd' class='form-control'>
                    <label for='cepAdd'>CEP: </label><input type='cepAdd' name='cepAdd' id='cepAdd' class='form-control' maxlength='9' onkeyup=formataCampo(this,'XXXXX-XXX',event);verificaCepCaixa(this.value)>
                    <label for='logradouroAdd'>Logradouro </label><input type='text' name='logradouroAdd' id='logradouroAdd' class='form-control'>
                    <label for='numeroAdd'>Número </label><input type='text' name='numeroAdd' id='numeroAdd' class='form-control'>
                    <label for='complementoAdd'>Complemento </label><input type='text' name='complementoAdd' id='complementoAdd' class='form-control'>
                    <label for='bairroAdd'>Bairro </label><input type='text' name='bairroAdd' id='bairroAdd' class='form-control'>
                    <label for='cidadeAdd'>Cidade </label><input type='text' name='cidadeAdd' id='cidadeAdd' class='form-control'>
                    <label for='estadoAdd'>Estado </label><select name='estadoAdd' id='estadoAdd' class='form-control'><option value=''>Selecione o estado abaixo...</option>";
            $sql = "SELECT * FROM states ORDER BY sigla ASC";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                while ($row = mysqli_fetch_array($query)){
                    $html .= "<option value='".$row['sigla']."'>".($row['nome'])."</option>";
                }
            }
            $html .= "</select>
                    <label forr='tipoEstabelecimentoAdd'>Tipo do Estabelecimento: </label>
                    <select name='tipoEstabelecimentoAdd' id='tipoEstabelecimentoAdd' class='form-control' onchange='selecionaTipoEstabelecimentoAdd(this.value)'>
                        <option value=''>Selecione o tipo do estabelecimento abaixo...</option>
                        <option value='1'>Mesas</option>
                        <option value='2'>Caixas</option>
                    </select>
                    <div id='outrosItensAdd'></div>";
        }
        elseif($_REQUEST['idProduto'] == 3){
            $html = "<label for='razaoSocialAdd'>Razão Social: </label><input type='text' name='razaoSocialAdd' id='razaoSocialAdd' class='form-control'>
                    <label for='nomeFantasiaAdd'>Nome Fantasia: </label><input type='text' name='nomeFantasiaAdd' id='nomeFantasiaAdd' class='form-control'>
                    <label for='cnpjAdd'>CNPJ: </label><input type='text' name='cnpjAdd' id='cnpjAdd' class='form-control' maxlength='18' onkeyup=formataCampo(this,'XX.XXX.XXX/XXXX-XX',event)>
                    <label for='emailAdd'>Email: </label><input type='email' name='emailaAdd' id='emailAdd' class='form-control'>
                    <label for='cepAdd'>CEP: </label><input type='cepAdd' name='cepAdd' id='cepAdd' class='form-control' maxlength='9' onkeyup=formataCampo(this,'XXXXX-XXX',event);verificaCepCaixa(this.value)>
                    <label for='logradouroAdd'>Logradouro </label><input type='text' name='logradouroAdd' id='logradouroAdd' class='form-control'>
                    <label for='numeroAdd'>Número </label><input type='text' name='numeroAdd' id='numeroAdd' class='form-control'>
                    <label for='complementoAdd'>Complemento </label><input type='text' name='complementoAdd' id='complementoAdd' class='form-control'>
                    <label for='bairroAdd'>Bairro </label><input type='text' name='bairroAdd' id='bairroAdd' class='form-control'>
                    <label for='cidadeAdd'>Cidade </label><input type='text' name='cidadeAdd' id='cidadeAdd' class='form-control'>
                    <label for='estadoAdd'>Estado </label><select name='estadoAdd' id='estadoAdd' class='form-control'><option value=''>Selecione o estado abaixo...</option>";
            $sql = "SELECT * FROM states ORDER BY sigla ASC";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                while ($row = mysqli_fetch_array($query)){
                    $html .= "<option value='".$row['sigla']."'>".($row['nome'])."</option>";
                }
            }
            $html .= "</select>
                    <label forr='tipoEstabelecimentoAdd'>Tipo do Estabelecimento: </label>
                    <select name='tipoEstabelecimentoAdd' id='tipoEstabelecimentoAdd' class='form-control' onchange='selecionaTipoEstabelecimentoAdd(this.value)'>
                        <option value=''>Selecione o tipo do estabelecimento abaixo...</option>
                        <option value='1'>Mesas</option>
                        <option value='2'>Caixas</option>
                    </select>
                    <div id='outrosItensAdd'></div>";
        }
        elseif($_REQUEST['idProduto'] == 4){
            $html = "<label for='nomeEscolaAdd'>Nome da Escola: </label><input type='text' name='nomeEscolaAdd' id='nomeEscolaAdd' class='form-control'>
                    <label for='emailAdd'>Email da Escola: </label><input type='email' name='emailAdd' id='emailAdd' class='form-control'>
                    <label for='cepAdd'>CEP da Escola: </label><input type='cepAdd' name='cepAdd' id='cepAdd' class='form-control' maxlength='9' onkeyup=formataCampo(this,'XXXXX-XXX',event);verificaCepCaixa(this.value)>
                    <label for='logradouroAdd'>Logradouro da Escola: </label><input type='text' name='logradouroAdd' id='logradouroAdd' class='form-control'>
                    <label for='numeroAdd'>Número da Escola: </label><input type='text' name='numeroAdd' id='numeroAdd' class='form-control'>
                    <label for='complementoAdd'>Complemento da Escola: </label><input type='text' name='complementoAdd' id='complementoAdd' class='form-control'>
                    <label for='bairroAdd'>Bairro da Escola: </label><input type='text' name='bairroAdd' id='bairroAdd' class='form-control'>
                    <label for='cidadeAdd'>Cidade da Escola: </label><input type='text' name='cidadeAdd' id='cidadeAdd' class='form-control'>
                    <label for='estadoAdd'>Estado da Escola: </label><select name='estadoAdd' id='estadoAdd' class='form-control'><option value=''>Selecione o estado abaixo...</option>";
            $sql = "SELECT * FROM states ORDER BY sigla ASC";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                while ($row = mysqli_fetch_array($query)){
                    $html .= "<option value='".$row['sigla']."'>".($row['nome'])."</option>";
                }
            }
            $html .= "</select>
                    <label forr='tipoNotaAdd'>Tipo de Nota: </label>
                    <select name='tipoNotaAdd' id='tipoNotaAdd' class='form-control'>
                        <option value=''>Selecione o tipo de nota abaixo...</option>
                        <option value='1'>Bimestral</option>
                        <option value='2'>Trimestral</option>
                        <option value='3'>Semestral</option>
                        <option value='4'>Anual</option>
                    </select>
                    <label forr='turnoAdd'>Turno da escola: </label>
                    <select name='turnoAdd' id='turnoAdd' class='form-control'>
                        <option value=''>Selecione o turno da escola abaixo...</option>
                        <option value='1'>Manhã</option>
                        <option value='2'>Tarde</option>
                        <option value='3'>Noite</option>
                        <option value='4'>Único</option>
                        <option value='5'>Todos</option>
                    </select>
                    <label forr='letraAdd'>Até que letra  as turmas da escola vão: </label>
                    <select name='letraAdd' id='letraAdd' class='form-control'>
                        <option value=''>Selecione a letra da escola abaixo...</option>
                        <option value='Un'>Única</option>
                        ";
           for ($i = 1; $i <= 26; $i++){
               if ($i == 1){
                   $letra = "a";
               }
               elseif ($i == 2){
                   $letra = "b";
               }
               elseif ($i == 3){
                   $letra = "c";
               }
               elseif ($i == 4){
                   $letra = "d";
               }
               elseif ($i == 5){
                   $letra = "e";
               }
               elseif ($i == 6){
                   $letra = "f";
               }
               elseif ($i == 7){
                   $letra = "g";
               }
               elseif ($i == 8){
                   $letra = "h";
               }
               elseif ($i == 9){
                   $letra = "i";
               }
               elseif ($i == 10){
                   $letra = "j";
               }
               elseif ($i == 11){
                   $letra = "k";
               }
               elseif ($i == 12){
                   $letra = "l";
               }
               elseif ($i == 13){
                   $letra = "m";
               }
               elseif ($i == 14){
                   $letra = "n";
               }
               elseif ($i == 15){
                   $letra = "o";
               }
               elseif ($i == 16){
                   $letra = "p";
               }
               elseif ($i == 17){
                   $letra = "q";
               }
               elseif ($i == 18){
                   $letra = "r";
               }
               elseif ($i == 19){
                   $letra = "s";
               }
               elseif ($i == 20){
                   $letra = "t";
               }
               elseif ($i == 21){
                   $letra = "u";
               }
               elseif ($i == 22){
                   $letra = "v";
               }
               elseif ($i == 23){
                   $letra = "w";
               }
               elseif ($i == 24){
                   $letra = "x";
               }
               elseif ($i == 25){
                   $letra = "y";
               }
               elseif ($i == 26){
                   $letra = "z";
               }
               $html .=  "<option value='".$letra."'>".$letra."</option>";
           }
           $html .= "
                    </select>";
        }
        $html .= "<input type='button' class='btn btn-primary' value='Cadastrar' onclick=adicionarProdutoPedido($('#produtoAdd').val(),$('#itemVendaAdd').val(),$('#dominioAdd').val(),'".URL."')>";
        echo "1|-|".$html;
        break;
    case 'adicionarProdutoPedido':
        if($_REQUEST['idProduto'] == 8){
            $sql = "SELECT * FROM products_items WHERE product = '" . $_REQUEST['idProduto'] . "'";
            $query = mysqli_query($con, $sql);
            $row = mysqli_fetch_array($query);
            $sql = "SELECT * FROM subitems WHERE id = '". $_REQUEST['idItVenda'] ."'";
            $query2 = mysqli_query($con, $sql);
            $row2 = mysqli_fetch_array($query2);
            $row['name'] .= " - ".$row2['name'];
        }
        else {
            $sql = "SELECT * FROM products_items WHERE id = '" . $_REQUEST['idItVenda'] . "'";
            $query = mysqli_query($con, $sql);
            $row = mysqli_fetch_array($query);
        }
        $valor = ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')) ? $row['promotion'] : $row['value'];
        $sql = "INSERT INTO requests_items (request, product, product_item, name, domine, quantity, value, created_at, updated_at) VALUES ('".$_REQUEST['idPedido']."', '".$_REQUEST['idProduto']."', '".$_REQUEST['idItVenda']."', '".$row['name']."', '".$_REQUEST['dominio']."', '1', '".$valor."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
        //echo $sql;
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $idRequestItem = mysqli_insert_id($con);
        if ($_REQUEST['idProduto'] == 3){
            $sql = "INSERT INTO cashier_system (razao_social, nome_fantasia, email, cnpj, cep, logradouro, numero, complemento, bairro, cidade, estado, tipoEstabelecimento, quantidade, numeroPessoasPorMesa, percentual, created_at, updated_at) VALUES ('".$_REQUEST['razaoSocial']."', '".$_REQUEST['nomeFantasia']."', '".$_REQUEST['email']."', '".$_REQUEST['cnpj']."', '".$_REQUEST['cep']."', '".$_REQUEST['logradouro']."', '".$_REQUEST['numero']."', '".$_REQUEST['complemento']."', '".$_REQUEST['bairro']."', '".$_REQUEST['cidade']."', '".$_REQUEST['estado']."', '".$_REQUEST['tipoEstabelecimento']."', '".$_REQUEST['quantidade']."', '".$_REQUEST['numPessoas']."', '".$_REQUEST['percentual']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql) or die(mysqli_error($con)." - ".$sql);
            $idCashierSystem = mysqli_insert_id($con);
            $sql = "UPDATE requests_items SET cashier_system = '".$idCashierSystem."' WHERE id = '".$idRequestItem."'";
            mysqli_query($con, $sql) or die(mysqli_error($con));
        }
        if ($_REQUEST['idProduto'] == 4){
            $sql = "INSERT INTO school_system (nome, email, cep, logradouro, numero, complemento, bairro, cidade, estado, tipoNota, turno, letra, created_at, updated_at) VALUES ('".$_REQUEST['nome']."', '".$_REQUEST['email']."', '".$_REQUEST['cep']."', '".$_REQUEST['logradouro']."', '".$_REQUEST['numero']."', '".$_REQUEST['complemento']."', '".$_REQUEST['bairro']."', '".$_REQUEST['cidade']."', '".$_REQUEST['estado']."', '".$_REQUEST['tipoNota']."', '".$_REQUEST['turno']."', '".$_REQUEST['letra']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
            mysqli_query($con, $sql) or die(mysqli_error($con)." - ".$sql);
            $idSchoolSystem = mysqli_insert_id($con);
            $sql = "UPDATE requests_items SET school_system = '".$idSchoolSystem."' WHERE id = '".$idRequestItem."'";
            mysqli_query($con, $sql) or die(mysqli_error($con));
        }
        echo "1|-|".$idRequestItem."|-|".$idCashierSystem;
        break;
    case 'excluirProdutoPedido':
        $sql = "SELECT * FROM requests_items WHERE id = '".$_REQUEST['id']."'";
        $query = mysqli_query($con, $sql);
        $row = mysqli_fetch_array($query);
        $sql = "SELECT * FROM products_items WHERE id = '".$row['product_item']."'";
        $query = mysqli_query($con, $sql);
        $row2 = mysqli_fetch_array($query);
        $estoque = $row['quantity'] + $row2['estoque'];
        $sql = "UPDATE products_items SET estoque = '".$estoque."' WHERE id = '".$row['product_item']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "DELETE FROM requests_items WHERE id = '".$_REQUEST['id']."'";
        mysqli_query($con, $sql) or die(mysqli_error($con));
        $sql = "SELECT a.*, b.cep FROM requests a INNER JOIN addresses b ON (a.address = b.id) WHERE a.id = '".$row['request']."'";
        $query = mysqli_query($con, $sql);
        $row3 = mysqli_fetch_array($query);
        $sql = "SELECT * FROM payment_methods WHERE id = '".$row3['paymentMethod']."'";
        $query = mysqli_query($con, $sql);
        $rowFmPagamento = mysqli_fetch_array($query);
        $sql = "SELECT a.*, b.peso, b.comprimento, b.largura, b.altura, b.diametro FROM requests_items a INNER JOIN products_items b ON (a.product_item = b.id) WHERE a.request = '".$row['request']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)){
            while($row = mysqli_fetch_array($query)){
                if (!preg_match('/Vale Presente/', $row['name'])) {
                    $valorSubtotal += $row['value'] * $row['quantity'];
                    $peso += $row['peso'] * $row['quantity'];
                    $diametro += $row['diametro'] * $row['quantity'];
                    $comprimento += $row['comprimento'] * $row['quantity'];
                    $largura += $row['largura'] * $row['quantity'];
                    $altura += $row['altura'] * $row['quantity'];
                }
            }
        }
        if ($rowFmPagamento['pagamentoAVista'] == 1){
            $descontoAVista = $valorSubtotal * $parametrosSite['descontoAVista'] / 100;
        }
        else{
            $descontoAVista = 0;
        }
        if ($row3['tipoFrete'] != 'Frete_Gratis') {
            if ($row3['tipoFrete'] == 'SEDEX'){
                $tipoFrete = 40010;
            }
            elseif ($row3['tipoFrete'] == 'PAC'){
                $tipoFrete = 41106;
            }
            elseif ($row3['tipoFrete'] == 'SEDEX_10'){
                $tipoFrete = 40215;
            }
            elseif ($row3['tipoFrete'] == 'SEDEX_Hoje'){
                $tipoFrete = 40290;
            }
            unset($data);
            $data['nCdEmpresa'] = '';
            $data['sDsSenha'] = '';
            $data['sCepOrigem'] = $parametrosSite['cepLoja'];
            $data['sCepDestino'] = str_replace('-', '', $row3['cep']);
            $data['nVlPeso'] = $peso;
            $data['nCdFormato'] = '1';
            $data['nVlComprimento'] = $comprimento;
            $data['nVlAltura'] = $altura;
            $data['nVlLargura'] = $largura;
            $data['nVlDiametro'] = $diametro;
            $data['sCdMaoPropria'] = 's';
            $data['nVlValorDeclarado'] = $valorSubtotal - $descontoAVista;
            $data['sCdAvisoRecebimento'] = 'n';
            $data['StrRetorno'] = 'xml';
            $data = http_build_query($data);
            $url = 'http://ws.correios.com.br/calculador/CalcPrecoPrazo.aspx';
            $curl = curl_init($url . '?' . $data."&nCdServico=".$tipoFrete);
            curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);

            $result = curl_exec($curl);

            $result = simplexml_load_string($result);

            foreach ($result->cServico as $row) {

                //Os dados de cada serviço estará aqui

                $retorno[$k] = $row;

            }
            foreach ($retorno as $key => $value) {
                $valorFrete = str_replace(".", "", $value->Valor);
                $valorFrete = str_replace(",", ".", $valorFrete);
            }
        }
        else{
            $valorFrete = 0;
        }
        $descontoAVista = str_replace(',', '.', str_replace('.', "", $descontoAVista));
        $valorTotal = $valorSubtotal + $valorFrete - $row3['valurDiscount'] - $descontoAVista;
        $valorTotal = str_replace(',', '.', str_replace('.', "", $valorTotal));
        $sql = "UPDATE requests SET valueSubtotal = '".$valorSubtotal."', descontoAVista = '".$descontoAVista."', valueFrete = '".$valorFrete."', valueTotal = '".$valorTotal."' WHERE id = '".$row3['id']."'";
        mysqli_query($con, $sql);
        echo "1";
        break;
    case 'gerarAutomaticamente':
        echo "1|-|".rand(0,9).rand(0,9).rand(0,9).rand(0,9).rand(0,9)."-LOJA-".rand(0,9).rand(0,9).rand(0,9).rand(0,9).rand(0,9);
        break;
    case "redirecionaRedeSocial":
        $sql = "SELECT * FROM social_networks WHERE slug = '".$_REQUEST['slug']."'";
        $query = mysqli_query($con, $sql);
        if (mysqli_num_rows($query)) {
            $row = mysqli_fetch_array($query);
            $cliques = $row['cliques'] + 1;
            $sql = "UPDATE social_networks SET cliques = '" . $cliques . "' WHERE id = '" . $row['id'] . "'";
            mysqli_query($con, $sql);
            $sql = "SELECT * FROM counters_social_networks WHERE data = '".date('Y-m-d')."' AND social_network = '".($row['id'])."'";
            $query = mysqli_query($con, $sql);
            if (mysqli_num_rows($query)){
                $row2 = mysqli_fetch_array($query);
                $acessos = $row2['acessos'] + 1;
                $sql = "UPDATE counters_social_networks SET acessos = '".$acessos."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row2['id']."'";
                mysqli_query($con, $sql);
            }
            else{
                $sql = "INSERT INTO counters_social_networks (social_network, data, acessos, created_at, updated_at) VALUES ('".($row['id'])."', '".date('Y-m-d')."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                mysqli_query($con, $sql);
            }
            echo "1|-|" . $row['link'];
        }
        else{
            echo "0|-|Não foi encontrada nenhuma rede social com a url informada!";
        }
        break;
    case "importar":
        switch($_REQUEST['table']){
                case "cliente":
                    //if (preg_match('/.CSV/', $_FILES['arquivoXml']['name']) || preg_match("/.csv/", $_FILES['arquivoXml']['name'])){
                        $delimitador = ';';
                        $cerca = '"';
        
                        // Abrir arquivo para leitura
                        $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                        if ($f) {
        
                            // Enquanto nao terminar o arquivo
                            while (!feof($f)) {
        
                                // Ler uma linha do arquivo
                                $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                if (!$linha) {
                                    continue;
                                }
        
                                // Montar registro com valores indexados pelo cabecalho
                                $registro = array_combine($cabecalho, $linha);
                                if ($linha[0] != 'Id'){
                                    // Obtendo o nome
                                    $tpPessoa = ($linha[1] == 'Fisica') ? 'F' : 'J';
                                    $dadosCliente = $linha[2];
                                    $vet = explode(' / ', $dadosCliente);
                                    $nomeCliente = $vet[0];
                                    $emailCliente = $vet[1];
                                    $cpfCnpj = $linha[3];
                                    $rgIe = $linha[4];
                                    $im = $linha[5];
                                    $dtNascDtAbertura = $linha[6];
                                    $vet = explode("/", $dtNascDtAbertura);
                                    $dtNascDtAbertura = $vet[2]."-".$vet[1]."-".$vet[0];
                                    $cel = $linha[7];
                                    $telefone = $linha[8];
                                    $nationality = ($linha[9]);
                                    $password = ($linha[10]);
                                    $sql = "SELECT * FROM clients WHERE id = '".(ucwords($linha[0]))."'";
                                    $query = mysqli_query($con, $sql);
                                    if (!mysqli_num_rows($query)) {
                                        $password = ($password) ? $password : "123456padrao+";
                                        $sql = "INSERT INTO clients (type_person, email, password, created_at, updated_at) VALUES ('" .$tpPessoa . "', '".$emailCliente."', '".$password."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $idCliente = mysqli_insert_id($con);
                                    }
                                    else{
                                        $row = mysqli_fetch_array($query);
                                        $idCliente = $row['id'];
                                        $sql = "UPDATE clients SET type_person = '".$tpPessoa."', email = '".$emailCliente."',";
                                        if ($password){
                                            $sql .= " password = '". ($password)."',";
                                        }
                                        $sql .= " updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$idCliente."'";
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                    }                                    
                                    $sql = "SELECT * FROM nationalities WHERE name = '".$nationality."'";
                                    $query2 = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (mysqli_num_rows($query2)){
                                        $row2 = mysqli_fetch_array($query2);
                                        $nationality = $row2['id'];
                                    }
                                    else{
                                        $sql = "INSERT INTO nationalities (name, status, created_at, updated_at) VALUES ('".$nationality."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                        mysqli_query($con, $sql);
                                        $nationality = mysqli_insert_id($con);
                                    }
                                    if ($tpPessoa == 'F'){
                                        $sql = "DELETE FROM pessoa_juridicas WHERE client = '".$idCliente."'";
                                        mysqli_query($con, $sql) or die(mysqli_error($con));                                    
                                        $sql = "SELECT * FROM pessoa_fisicas WHERE client = '".$idCliente."'";
                                        $query2 = mysqli_query($con, $sql);
                                        if(mysqli_num_rows($query2)){
                                            $sql = utf8_encode("UPDATE pessoa_fisicas SET name = '".$nomeCliente."', cpf = '".$cpfCnpj."', rg = '".$rgIe."', dtNasc = '".$dtNascDtAbertura."', cel = '".$cel."', nationality = '".$nationality."', status = '1', updated_at = '".date('Y-m-d H:i:s')."' WHERE client = '".$linha[0]."'");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                        else{
                                            $sql = utf8_encode("INSERT INTO pessoa_fisicas (client, name, cpf, rg, dtNasc, cel, nationality, status, created_at, updated_at) 
                                            VALUES ('".$idCliente."', '".($nomeCliente)."', '".$cpfCnpj."', '".$rgIe."', '".$dtNascDtAbertura."', '".$cel."', '".$nationality."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                    }
                                    else{
                                        $sql = "DELETE FROM pessoa_fisicas WHERE client = '".$idCliente."'";
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $vet2 = explode(" - ", ($nomeCliente));
                                        $razaoSocial = $vet2[0];
                                        $nomeFantasia = $vet2[1];
                                        $contato = $vet2[2];
                                        $sql = "SELECT * FROM pessoa_juridicas WHERE client = '".$idCliente."'";
                                        $query2 = mysqli_query($con, $sql);
                                        if(mysqli_num_rows($query2)){
                                            $sql = utf8_encode("UPDATE pessoa_juridicas SET razaoSocial = '".$razaoSocial."', nomeFantasia = '".$nomeFantasia."', contato = '".$contato."', cnpj = '".$cpfCnpj."', ie = '".$rgIe."', im = '".$im."', dataAbertura = '".$dtNascDtAbertura."', cel = '".$cel."', telefone = '".$telefone."', nationality = '".$nationality."', status = '1', updated_at = '".date('Y-m-d H:i:s')."' WHERE client = '".$linha[0]."'");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                        else{
                                            $sql = utf8_encode("INSERT INTO pessoa_juridicas (client, razaoSocial, nomeFantasia, contato, cnpj, ie, im, dataAbertura, cel, telefone, nationality, status, created_at, updated_at) 
                                            VALUES ('".$idCliente."', '".$razaoSocial."', '".$nomeFantasia."', '$contato', '".$cpfCnpj."', '".$rgIe."', '".$im."', '".$dtNascDtAbertura."', '".$cel."', '".$telefone."', '".$nationality."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                    }
                                }
                            }
                            fclose($f);
                        }
                    /*}
                    else{
                        echo "0|-|O arquivo deve ser do tipo '*.CSV' ou '*.csv'! Confira!";
                        die();
                    }*/
                    break;
                case "enderecos":
                    if (preg_match('/.CSV/', $_FILES['arquivoEnderecos']['name']) || preg_match("/.csv/", $_FILES['arquivoEnderecos']['name'])){                        
                        $delimitador = ';';
                        $cerca = '"';
        
                        // Abrir arquivo para leitura
                        $f = fopen($_FILES['arquivoEnderecos']['tmp_name'], 'r');
                        if ($f) {
        
                            // Enquanto nao terminar o arquivo
                            while (!feof($f)) {
        
                                // Ler uma linha do arquivo
                                $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                if (!$linha) {
                                    continue;
                                }
        
                                // Montar registro com valores indexados pelo cabecalho
                                $registro = array_combine($cabecalho, $linha);
                                if ($linha[0] != 'Id'){
                                    $dadosCliente = $linha[1];
                                    $vet = explode(' - ', $dadosCliente);
                                    $cliente = $vet[0];
                                    $vetCliente = explode(' / ', $cliente);
                                    $idCliente = $vetCliente[0];
                                    $nomeCliente = $vetCliente[1];
                                    $emailCliente = $vetCliente[2];
                                    $nomeEndereco = ($linha[2]);
                                    $cep = $linha[3];
                                    $logradouro = ($linha[4]);
                                    $numero = ($linha[5]);
                                    $complemento = ($linha[6]);
                                    $bairro = ($linha[7]);
                                    $cidade = ($linha[8]);
                                    $estado = ($linha[9]);
                                    $nomePais = ($linha[10]);
                                    // Obtendo o nome
                                    $sql = "SELECT * FROM countries WHERE name = '".($nomePais)."'";
                                    $query = mysqli_query($con, $sql);
                                    if (!mysqli_num_rows($query)) {
                                        $sql = ("INSERT INTO countries (name, status, created_at, updated_at) VALUES ('".$nomePais."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $idPais = mysqli_insert_id($con) or die(mysqli_error($con));
                                    }
                                    else{
                                        $row = mysqli_fetch_array($query);
                                        $idPais = $row['id'];
                                        $sql = ("UPDATE countries SET name = '".$nomePais."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$idPais."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                    }                                    
                                    $sql = "SELECT * FROM addresses WHERE id = '".$linha[0]."'";
                                    $query2 = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (mysqli_num_rows($query2)){
                                        $sql = ("UPDATE addresses SET idClient = '".$idCliente."', name = '".$nomeEndereco."', cep = '".$cep."', address = '".$logradouro."', number = '".$numero."', complement = '".$complemento."', neighborhood = '".$bairro."', city = '".$cidade."', state = '".$estado."', country = '".$idPais."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$linha[0]."'");
                                        $query3 = mysqli_query($con, $sql)or die(mysqli_error($con)."\r\n".$sql);
                                    }
                                    else{
                                        $sql = ("INSERT INTO addresses (idClient, name, cep, address, number, complement, neighborhood, city, state, country, created_at, updated_at) VALUES ('".$idCliente."', '".$nomeEndereco."', '".$cep."', '".$logradouro."', '".$numero."', '".$complemento."', '".$bairro."', '".$cidade."', '".$estado."', '".$idPais."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");                                    
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                }
                            }
                            fclose($f);
                        }
                    }
                    else{
                        echo "0|-|O arquivo deve ser do tipo '*.CSV' ou '*.csv'! Confira!";
                        die();
                    }
                    break;
                case "statusPedido":
                    if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match("/.csv/", $_FILES['arquivo']['name'])){                        
                        $delimitador = ';';
                        $cerca = '"';
        
                        // Abrir arquivo para leitura
                        $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                        if ($f) {
        
                            // Enquanto nao terminar o arquivo
                            while (!feof($f)) {
        
                                // Ler uma linha do arquivo
                                $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                if (!$linha) {
                                    continue;
                                }
        
                                // Montar registro com valores indexados pelo cabecalho
                                $registro = array_combine($cabecalho, $linha);
                                if ($linha[0] != 'Id'){
                                    $idStatusPedido = $linha[0];
                                    $nomeStatusPedido = ($linha[1]);
                                    $siglaStatusPedido = $linha[2];
                                    $colorStatusPedido = $linha[3];
                                    $backgroundStatusPedido = $linha[4];
                                    $enviarEmail = ($linha[5] == 'Sim') ? 1 : 0;
                                    $emailStatusPedido = ($linha[6]);
                                    $sql = "SELECT * FROM requests_statuses WHERE id = '".$idStatusPedido."'";
                                    $query = mysqli_query($con, $sql);
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO requests_statuses (id, name, sigla, color, background, email, send_email, created_at, updated_at) VALUES ('".$idStatusPedido."', '" .$nomeStatusPedido . "', '".$siglaStatusPedido."', '".$colorStatusPedido."', '".$backgroundStatusPedido."', '".$emailStatusPedido."', '".$enviarEmail."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE requests_statuses SET name = '".$nomeStatusPedido."', sigla = '".$siglaStatusPedido."', color = '".$colorStatusPedido."', background = '".$backgroundStatusPedido."', send_email = '".$enviarEmail."', email = '".str_replace("<br>", "\r\n", $emailStatusPedido)."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$idStatusPedido."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                    }
                                }
                            }
                            fclose($f);
                        }
                    }
                    else{
                        echo "0|-|O arquivo deve ser do tipo '*.CSV' ou '*.csv'! Confira!";
                        die();
                    }
                    break;
                case "comentariosProduto":
                    if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match("/.csv/", $_FILES['arquivo']['name'])){                        
                        /*$sql = "TRUNCATE products_reviews";                                                            
                        mysqli_query($con, $sql);*/
                        $delimitador = ';';
                        $cerca = '"';
        
                        // Abrir arquivo para leitura
                        $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                        if ($f) {
        
                            // Enquanto nao terminar o arquivo
                            while (!feof($f)) {
        
                                // Ler uma linha do arquivo
                                $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                if (!$linha) {
                                    continue;
                                }
        
                                // Montar registro com valores indexados pelo cabecalho
                                $registro = array_combine($cabecalho, $linha);
                                if ($linha[0] != 'Id'){
                                    $nomeCliente = $linha[2];
                                    $emailCliente = $linha[3];                 
                                    $status = ($linha[6] == 'Aprovado') ? "1" : "0";
                                    // Obtendo o produto por nome
                                    $sql = "SELECT * FROM products WHERE name = '".($linha[1])."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (mysqli_num_rows($query)){
                                        $row = mysqli_fetch_object($query);
                                        $idProduto = $row->id;
                                    }
                                    $sql = "SELECT * FROM products_reviews WHERE id = '".(ucwords($linha[0]))."'";
                                    $query = mysqli_query($con, $sql);
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO products_reviews (id, product, nome, email, avaliacao, mensagem, status, created_at, updated_at) VALUES ('".ucwords($linha[0])."', '" .$idProduto . "', '".$linha[2]."', '".$linha[3]."', '".$linha[4]."', '".$linha[5]."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE products_reviews SET product = '".$idProduto."', nome = '".$nomeCliente."', email = '".$emailCliente."', avaliacao = '".$linha[4]."', mensagem = '".str_replace("<br>", "\r\n", $linha[5])."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$linha[0]."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                    }
                                }
                            }
                            fclose($f);
                        }
                    }
                    else{
                        echo "0|-|O arquivo deve ser do tipo '*.CSV' ou '*.csv'! Confira!";
                        die();
                    }
                    break;
                case "solicitacaoComentario":
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $idProductReviewSolicitas = $linha[0];
                                $idProductReview = $linha[1];
                                $nomeProduto = $linha[2];
                                $nomeCliente = $linha[3];
                                $emailCliente = $linha[4];
                                $avaliacao = $linha[5];
                                $mensagem = str_replace("<br>", "\r\n", $linha[6]);                
                                $status = $linha[7];
                                $sql = "SELECT * FROM products_reviews_solicitas WHERE id = '".$linha[0]."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO products_reviews_solicitas (id, id_product_review, avaliacao, mensagem, created_at, updated_at) VALUES ('".ucwords($linha[0])."', '" .$idProductReview . "', '".$avaliacao."', '".$mensagem."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE products_reviews_solicitas SET id_product_review = '".$idProductReview."', avaliacao = '".$avaliacao."', mensagem = '".$mensagem."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$linha[0]."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                                if ($status == 1){
                                    $sql = ("UPDATE products_reviews SET avaliacao = '".$avaliacao."', mensagem = '".$mensagem."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$idProductReview."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $sql = "DELETE FROM products_reviews_solicitas WHERE id = '".$linha[0]."'";
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;
                case "listasPresentes":
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $idLista = $linha[0];
                                $infsCliente = $linha[1];
                                $vet = explode(' / ', $infsCliente);
                                $idCliente = $vet[0];
                                $nomeAniversariante = $linha[2];
                                $dataAniversario = $linha[3];                 
                                $vet = explode('/', $dataAniversario);
                                $dataAniversario = $vet[2]."-".$vet[1]."-".$vet[0];
                                $nomeMae = $linha[4];
                                $nomePai = $linha[5];
                                $idade = $linha[6];
                                $cep = $linha[7];
                                $address = $linha[8];
                                $number = $linha[9];
                                $complement = $linha[10];
                                $neighborhood = $linha[11];
                                $city = $linha[12];
                                $state = $linha[13];
                                $slug = $linha[14];
                                $s = 1;
                                $sql = "SELECT * FROM presents_lists WHERE id != '".$idLista."' AND slug = '".$slug."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                while (mysqli_num_rows($query)){
                                    $slug .= $s;
                                    $sql = "SELECT * FROM presents_lists WHERE id != '".$idLista."' AND slug = '".$slug."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $s++;
                                }
                                $sql = "SELECT * FROM presents_lists WHERE id = '".$idLista."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO presents_lists (id, client, nomeAniversariante, dataAniversario, nomeMae, nomePai, idade, cep, address, number, complement, neighborhood, city, state, slug, created_at, updated_at) VALUES ('".$idLista."', '" .$idCliente . "', '".$nomeAniversariante."', '".$dataAniversario."', '".$nomeMae."', '".$nomePai."', '".$idade."', '".$cep."', '".$address."', '".$number."', '".$complement."', '".$neighborhood."', '".$city."', '".$state."', '".$slug."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE presents_lists SET client = '".$idCliente."', nomeAniversariante = '".$nomeAniversariante."', dataAniversario = '".$dataAniversario."', nomeMae = '".$nomeMae."', nomePai = '".$nomePai."', idade = '".$idade."', cep = '".$cep."', address = '".$address."', number = '".$number."', complement = '".$complement."', neighborhood = '".$neighborhood."', city = '".$city."', state = '".$state."', slug = '".$slug."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$linha[0]."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;
                case "presentes":
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivoPresente']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $infsLista = $linha[1];
                                $vet = explode(' | ', $infsLista);
                                $idLista = $vet[0];  
                                $infsProduto = $linha[2];
                                $vet = explode(' | ', $infsProduto);
                                $idProduto = $vet[0];
                                $infsItem = $linha[3];
                                $vet = explode(' | ', $infsItem);
                                $idItem = $vet[0];
                                $pediu = $linha[4];
                                $sql = "SELECT * FROM presents_lists_products WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO presents_lists_products (id, lista, product, product_item, quantity, created_at, updated_at) VALUES ('".$id."', '".$idLista."', '" .$idProduto . "', '".$idItem."', '".$quantity."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE presents_lists_products SET lista = '".$idLista."', product = '".$idProduto."', product_item = '".$idItem."', quantity = '".$pediu."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;  
                case "convidados":
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivoConvidados']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $infsLista = $linha[1];
                                $vet = explode(' | ', $infsLista);
                                $idLista = $vet[0];  
                                $nome = $linha[2];
                                $email = $linha[3];
                                $cel = $linha[4];
                                $sql = "SELECT * FROM presents_lists_guests WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO presents_lists_guests (id, lista, name, email, cel, created_at, updated_at) VALUES ('".$id."', '".$idLista."', '" .$nome . "', '".$email."', '".$cel."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE presents_lists_guests SET lista = '".$idLista."', name = '".$nome."', email = '".$email."', cel = '".$cel."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;                     
                case "banners":
                    if (preg_match('/.csv/', $_FILES['arquivo']['name']) || preg_match("/.CSV/", $_FILES['arquivo']['name'])){
                    $delimitador = ';';
                    $cerca = '"';
                    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nomePosicao = $linha[1];
                                $nome = $linha[2];
                                $slug = $linha[3];
                                $descricao = $linha[4];
                                $link = $linha[5];
                                $target = $linha[6];
                                $tipo = $linha[7];
                                $qual = $linha[8];
                                $img = $linha[9];
                                $background = $linha[10];
                                $status = ($linha[11] == 'Ativo') ? 1 : 0;
                                if ($img){
                                    copy(DIRETORIO."importar/".$img, DIRETORIO."storage/".$img);
                                }
                                if ($background){
                                    copy(DIRETORIO."importar/".$background, DIRETORIO."storage/".$background);
                                }
                                $sql = "SELECT * FROM positions WHERE name = '".($nomePosicao)."'";
                                $query = mysqli_query($con, $sql);
                                if (mysqli_num_rows($query)){
                                    $row = mysqli_fetch_array($query);
                                    $idPosicao = $row['id'];
                                }
                                else{
                                    $sql = ("INSERT INTO positions (name, status, created_at, updated_at) VALUES ('".$nomePosicao."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql);
                                    $idPosicao = mysqli_insert_id($con);
                                }
                                $sql = "SELECT * FROM targets WHERE name = '".($target)."'";
                                $query = mysqli_query($con, $sql);
                                if (mysqli_num_rows($query)){
                                    $row = mysqli_fetch_array($query);
                                    $idTarget = $row['id'];
                                }
                                else{
                                    $sql = ("INSERT INTO targets (name, status, created_at, updated_at) VALUES ('".$target."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql);
                                    $idTarget = mysqli_insert_id($con);
                                }
                                $sql = "SELECT * FROM modules WHERE name = '".($tipo)."'";
                                $query = mysqli_query($con, $sql);
                                if (mysqli_num_rows($query)){
                                    $row = mysqli_fetch_array($query);
                                    $idTipo = $row['id'];
                                }
                                else{
                                    $sql = ("INSERT INTO modules (name, status, created_at, updated_at) VALUES ('".$tipo."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql);
                                    $idTipo = mysqli_insert_id($con);
                                }
                                if ($idTipo){
                                    if ($idTipo == 14){
                                        $table = "banners";
                                    }
                                    elseif ($idTipo == 15){
                                        $table = "pages";
                                    }
                                    elseif ($idTipo == 16){
                                        $table = "subitems";
                                    }
                                    elseif ($idTipo == 18){
                                        $table = "categories";
                                    }
                                    elseif ($idTipo == 19){
                                        $table = "brands";
                                    }
                                    elseif ($idTipo == 20){
                                        $table = "stamps";
                                    }
                                    elseif ($idTipo == 43){
                                        $table = "suggestions";
                                    }
                                    elseif ($idTipo == 44){
                                        $table = "relationships";
                                    }
                                    elseif ($idTipo == 45){
                                        $table = "products";
                                    }
                                    elseif ($idTipo == 49){
                                        $table = "partners";
                                    }
                                    elseif ($idTipo == 53){
                                        $table = "social_networks";
                                    }
                                    $sql = "SELECT * FROM ".$table." WHERE name = '".($qual)."'";
                                    $query = mysqli_query($con, $sql);
                                    if (mysqli_num_rows($query)){
                                        $row = mysqli_fetch_array($query);
                                        $idQual = $row['id'];
                                    }
                                    else{
                                        $sql = ("INSERT INTO ".$table." (name, status, created_at, updated_at) VALUES ('".$tipo."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql);
                                        $idQual = mysqli_insert_id($con);
                                    }
                                }
                                else{
                                    $idQual = 0;
                                }
                                $sql = "SELECT * FROM banners WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO banners (id, position, name, slug, description, link, target, img, background, status, created_at, updated_at) VALUES ('".$id."', '".$idPosicao."', '" .$nome . "', '".$slug."', '".$descricao."', '".$link."', '".$idTarget."', '".$img."', '".background."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE banners SET position = '".$idPosicao."', name = '".$nome."', slug = '".$slug."', description = '".$descricao."', link='".$link."', target = '".$idTarget."', tipo = '".$idTipo."', qual = '".$idQual."', status = '".$status."', img = '".$img."', background = '".$background."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    }                    
                    else{
                        echo "0|-|O arquivo deve ser do tipo '*.CSV' ou '*.csv'! Confira!";
                        die();
                    }
                    break;                      
                case "pagina":
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nome = $linha[1];
                                $slug = $linha[2];
                                $subname = $linha[3];
                                $descricoes = $linha[4];
                                $appearsMenu = ($linha[5] == 'Sim') ? 1 : 0;
                                $appearsSite = $linha[6] == 'Sim' ? 1 : 0;
                                $img = $linha[7];
                                $background = $linha[8];
                                $ordem = $linha[9];
                                $status = ($linha[10] == 'Ativo') ? 1 : 0;
                                if ($img){
                                    copy(DIRETORIO."importar/".$img, DIRETORIO."storage/".$img);
                                }
                                if ($background){
                                    copy(DIRETORIO."importar/".$background, DIRETORIO."storage/".$background);
                                }
                                $vet = explode('|-|', $descricoes);
                                if (count($vet) > 0 && $vet[0]){
                                    foreach ($vet as $key => $value){
                                        $vet2 = explode('|*|', $value);
                                        $idPaginaDescricao = addslashes($vet2[0]);
                                        $numPaginaDescricao = addslashes($vet2[1]);
                                        $typePaginaDescricao = addslashes($vet2[2]);
                                        $textPaginaDescricao = addslashes($vet2[3]);
                                        $sql = "SELECT * FROM pages_descriptions WHERE id = '".$idPaginaDescricao."'";
                                        $query2 = mysqli_query($con, $sql) or die(mysqli_error($con));
                                        if (mysqli_num_rows($query2)){
                                            $sql = ("UPDATE pages_descriptions SET num = '".$numPaginaDescricao."', type = '".$typePaginaDescricao."', text = '".$textPaginaDescricao."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$idPaginaDescricao."'");
                                            mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        }
                                        else{
                                            $sql = ("INSERT INTO psges_descriptions (id, num, type, text, created_at, updated_at) VALUES ('".$idPaginaDescricao."', '".$numPaginaDescricao."', '".$textPaginaDescricao."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);;
                                        }
                                    }
                                }
                                $sql = "SELECT * FROM pages WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO pages (id, name, slug, subname, appearsMenu, appearsSite, ordem, status, created_at, updated_at) VALUES ('".$id."', '" .$nome . "', '".$slug."', '".$subname."', '".$appearsMenu."', '".$appearsSite."', '".$ordem."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE pages SET name = '".$nome."', slug = '".$slug."', subname = '".$subname."', appearsMenu = '".$appearsMenu."', appearsSite='".$appearsSite."', status = '".$status."', img = '".$img."', background = '".$background."', ordem = '".$ordem."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;                   
                case "paginasDescricoes":
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivoDescricoes']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nomePagina = $linha[1];
                                $slugPagina = retirarAcentos(($nomePagina));
                                $num = $linha[2];
                                $text = $linha[3];
                                $type = $linha[4];
                                $created_at = $linha[5];
                                $updated_at = $linha[6];
                                if ($nomePagina){
                                    $sql = "SELECT * FROM pages WHERE name = '".($nomePagina)."'";
                                    $query = mysqli_query($con, $sql);
                                    if (mysqli_num_rows($query)){
                                        $row = mysqli_fetch_array($query);
                                        $page = $row['id'];
                                    }
                                    else{
                                        $sql = "INSERT INTO pages (name, slug, status, created_at, updated_at) VALUES ('".($nomePagina)."', '".$slugPagina."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                        mysqli_query($con, $sql);
                                        $page = mysqli_insert_id($con);
                                    }
                                    $sql = "SELECT * FROM pages_descriptions WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO pages_descriptions (id, page, num, text, type, created_at, updated_at) VALUES ('".$id."', '" .$page . "', '".$num."', '".addslashes($text)."', '".$type."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE pages_descriptions SET page = '".$page."', num = '".$num."', text = '".addslashes($text)."', type = '".$type."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;                   
                case "subitems":
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nomePagina = $linha[1];
                                $slugPagina = retirarAcentos(($nomePagina));
                                $nome = $linha[2];
                                $slug = $linha[3];
                                $subname = $linha[4];
                                $description = $linha[5];
                                $appearsImg =($linha[6] == 'Sim') ? 1 : 0;
                                $img = $linha[7];
                                $status = ($linha[8] == 'Ativo') ? 1 : 0;
                                if ($img){
                                    copy(DIRETORIO."importar/".$img, DIRETORIO."storage/".$img);
                                }
                                $sql = "SELECT * FROM pages WHERE name = '".($nomePagina)."'";
                                $query = mysqli_query($con, $sql);
                                if (mysqli_num_rows($query)){
                                    $row = mysqli_fetch_array($query);
                                    $page = $row['id'];
                                }
                                else{
                                    $sql = ("INSERT INTO pages (name, slug, status, created_at, updated_at) VALUES ('".($nomePagina)."', '".$slugPagina."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql);
                                    $page = mysqli_insert_id($con);
                                }
                                $sql = "SELECT * FROM subitems WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO subitems (id, page, name, slug, subname, description, appearsImg, img, status, created_at, updated_at) VALUES ('".$id."', '".$page."', '" .$nome . "', '".$slug."', '".$subname."', '".$description."', '".$appearsImg."', '".$img."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE subitems SET page = '".$page."', name = '".$nome."', slug = '".$slug."', subname = '".$subname."', description = '".addslashes($description)."', appearsImg='".$appearsImg."', status = '".$status."', img = '".$img."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;                 
                case "atributos":
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nomeAtributo = $linha[1];
                                $nome = $linha[2];
                                $status = ($linha[8] == 'Ativo') ? 1 : 0;
                                $sql = "SELECT * FROM attributes WHERE name = '".($nomeAtributo)."'";
                                $query = mysqli_query($con, $sql);
                                if (mysqli_num_rows($query)){
                                    $row = mysqli_fetch_array($query);
                                    $attribute = $row['id'];
                                }
                                elseif ($nomeAtributo != '-'){
                                    $sql = "INSERT INTO attributes (name, status, created_at, updated_at) VALUES ('".($nomePagina)."', '".$slugPagina."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                    mysqli_query($con, $sql);
                                    $attribute = mysqli_insert_id($con);
                                }
                                else{
                                    $attribute = 0;
                                }
                                $sql = "SELECT * FROM attributes WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO attributes (id, idPai, name, status, created_at, updated_at) VALUES ('".$id."', '".$attribute."', '" .$nome . "', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE attributes SET idPai = '".$attribute."', name = '".$nome."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;                
                case "categorias":
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nomeCategoriaPai = $linha[1];
                                $nome = $linha[2];
                                $urlAmigavel = $linha[3];
                                $aparece_menu = $linha[4] == "Sim" ? "1" : "0";
                                $img = $linha[5];
                                $background = $linha[6];
                                if ($background){
                                    copy(DIRETORIO."importar/".$background, DIRETORIO."storage/".$background);
                                }
                                if ($img){
                                    copy(DIRETORIO."importar/".$img, DIRETORIO."storage/".$img);
                                }
                                $status = ($linha[7] == 'Ativo') ? 1 : 0;
                                $sql = "SELECT * FROM categories WHERE name = '".($nomeCategoriaPai)."'";
                                $query = mysqli_query($con, $sql);
                                if (mysqli_num_rows($query)){
                                    $row = mysqli_fetch_array($query);
                                    $category = $row['id'];
                                }
                                elseif ($nomeCategoriaPai != '-'){
                                    $sql = ("INSERT INTO categories (name, status, created_at, updated_at) VALUES ('".($nomePagina)."', '".$slugPagina."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql);
                                    $category = mysqli_insert_id($con);
                                }
                                else{
                                    $category = 0;
                                }
                                $sql = "SELECT * FROM categories WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO categories (id, idPai, name, slug, img, background, aparece_menu, status, created_at, updated_at) VALUES ('".$id."', '".$category."', '" .$nome . "', '".$urlAmigavel."', '".$img."', '".$background."', '".$aparece_menu."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE categories SET idPai = '".$category."', name = '".$nome."', slug = '".$urlAmigavel."', img = '".$img."', background = '".$background."', aparece_menu = '".$aparece_menu."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;        
                case "marcas":
                    /*$sql = "TRUNCATE brands";
                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nome = $linha[1];
                                $urlAmigavel = $linha[2];
                                $descricao = $linha[3];
                                $img = $linha[4];
                                $background = $linha[5];
                                if ($background && file_exists(DIRETORIO."importar/".$background)){
                                    copy(DIRETORIO."importar/".$background, DIRETORIO."storage/".$background);
                                }
                                if ($img){
                                    copy(DIRETORIO."importar/".$img, DIRETORIO."storage/".$img);
                                }
                                $status = ($linha[6] == 'Ativo') ? 1 : 0;
                                $sql = "SELECT * FROM brands WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO brands (id, name, slug, description, img, background, status, created_at, updated_at) VALUES ('".$id."', '" .$nome . "', '".$urlAmigavel."', '".$descricao."', '".$img."', '".$background."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE brands SET name = '".$nome."', slug = '".$urlAmigavel."', description = '".$descricao."', img = '".$img."', background = '".$background."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    break; 
                case "selos":
                    /*$sql = "TRUNCATE stamps";
                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nome = $linha[1];
                                $urlAmigavel = $linha[2];
                                $descricao = $linha[3];
                                $img = $linha[4];
                                $background = $linha[5];
                                if ($background && file_exists(DIRETORIO."importar/".$background)){
                                    copy(DIRETORIO."importar/".$background, DIRETORIO."storage/".$background);
                                }
                                if ($img){
                                    copy(DIRETORIO."importar/".$img, DIRETORIO."storage/".$img);
                                }
                                $status = ($linha[6] == 'Ativo') ? 1 : 0;
                                $sql = "SELECT * FROM stamps WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO stamps (id, name, slug, description, img, background, status, created_at, updated_at) VALUES ('".$id."', '" .$nome . "', '".$urlAmigavel."', '".$descricao."', '".$img."', '".$background."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE stamps SET name = '".$nome."', slug = '".$urlAmigavel."', description = '".$descricao."', img = '".$img."', background = '".$background."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;
                case "sugestoes":
                    /*$sql = "TRUNCATE suggestions";
                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nome = $linha[1];
                                $urlAmigavel = $linha[2];
                                $descricao = $linha[3];
                                $img = $linha[4];
                                $background = $linha[5];
                                if ($background && file_exists(DIRETORIO."importar/".$background)){
                                    copy(DIRETORIO."importar/".$background, DIRETORIO."storage/".$background);
                                }
                                if ($img){
                                    copy(DIRETORIO."importar/".$img, DIRETORIO."storage/".$img);
                                }
                                $status = ($linha[6] == 'Ativo') ? 1 : 0;
                                $sql = "SELECT * FROM suggestions WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO suggestions (id, name, slug, description, img, background, status, created_at, updated_at) VALUES ('".$id."', '" .$nome . "', '".$urlAmigavel."', '".$descricao."', '".$img."', '".$background."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE suggestions SET name = '".$nome."', slug = '".$urlAmigavel."', description = '".$descricao."', img = '".$img."', background = '".$background."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;
                case "relacionamentos":
                    /*$sql = "TRUNCATE relationships";
                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nome = $linha[1];
                                $urlAmigavel = $linha[2];
                                $descricao = $linha[3];
                                $img = $linha[4];
                                $background = $linha[5];
                                if ($background && file_exists(DIRETORIO."importar/".$background)){
                                    copy(DIRETORIO."importar/".$background, DIRETORIO."storage/".$background);
                                }
                                if ($img && file_exists(DIRETORIO."importar/".$img)){
                                    copy(DIRETORIO."importar/".$img, DIRETORIO."storage/".$img);
                                }
                                $status = ($linha[6] == 'Ativo') ? 1 : 0;
                                $sql = "SELECT * FROM relationships WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO relationships (id, name, slug, img, background, status, created_at, updated_at) VALUES ('".$id."', '" .$nome . "', '".$urlAmigavel."', '".$img."', '".$background."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE relationships SET name = '".$nome."', slug = '".$urlAmigavel."', img = '".$img."', background = '".$background."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;
               case "produto":
                    /*$sql = "SELECT * FROM categories";
                    $query = mysqli_query($con, $sql);
                    if (mysqli_num_rows($query)){
                        while ($row = mysqli_fetch_array($query)){
                            @unlink(DIRETORIO."storage/".$row['img']);
                            @unlink(DIRETORIO."storage/".$row['background']);
                        }
                    }
                    $sql = "TRUNCATE categories";
                    $query = mysqli_query($con, $sql);
                    $sql = "SELECT * FROM brands";
                    $query = mysqli_query($con, $sql);
                    if (mysqli_num_rows($query)){
                        while ($row = mysqli_fetch_array($query)){
                            @unlink(DIRETORIO."storage/".$row['img']);
                        }
                    }
                    $sql = "TRUNCATE brands";
                    $query = mysqli_query($con, $sql);
                    $sql = "TRUNCATE attributes";
                    $query = mysqli_query($con, $sql);
                    $sql = "SELECT * FROM suggestions";
                    $query = mysqli_query($con, $sql);
                    if (mysqli_num_rows($query)){
                        while ($row = mysqli_fetch_array($query)){
                            @unlink(DIRETORIO."storage/".$row['img']);
                        }
                    }
                    $sql = "TRUNCATE suggestions";
                    $query = mysqli_query($con, $sql);
                    $sql = "TRUNCATE relationships";
                    $query = mysqli_query($con, $sql);
                    $sql = "SELECT * FROM stamps";
                    $query = mysqli_query($con, $sql);
                    if (mysqli_num_rows($query)){
                        while ($row = mysqli_fetch_array($query)){
                            @unlink(DIRETORIO."storage/".$row['img']);
                        }
                    }
                    $sql = "TRUNCATE stamps";
                    $query = mysqli_query($con, $sql);
                    $sql = "TRUNCATE products";
                    $query = mysqli_query($con, $sql);
                    $sql = "TRUNCATE products_items";
                    $query = mysqli_query($con, $sql);
                    $sql = "SELECT * FROM products_images";
                    $query = mysqli_query($con, $sql);
                    if (mysqli_num_rows($query)){
                        while ($row = mysqli_fetch_array($query)){
                            @unlink(DIRETORIO."storage/".$row['img']);
                        }
                    }
                    $sql = "TRUNCATE products_images";
                    $query = mysqli_query($con, $sql);
                    $sql = "TRUNCATE products_descriptions";
                    $query = mysqli_query($con, $sql);
                    $sql = "TRUNCATE products_categories";
                    $query = mysqli_query($con, $sql);
                    $sql = "TRUNCATE products_brands";
                    $query = mysqli_query($con, $sql);
                    $sql = "TRUNCATE products_suggestions";
                    $query = mysqli_query($con, $sql);
                    $sql = "TRUNCATE products_attributes";
                    $query = mysqli_query($con, $sql);
                    $sql = "TRUNCATE products_relationships";
                    $query = mysqli_query($con, $sql);
                    $sql = "TRUNCATE products_videos";
                    $query = mysqli_query($con, $sql);
                    $sql = "TRUNCATE products_stamps";
                    $query = mysqli_query($con, $sql);
                    $sql = "TRUNCATE products_reviews";
                    $query = mysqli_query($con, $sql);*/
                    $delimitador = ';';
                    $cerca = '"';
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f && (preg_match("/.csv/", $_FILES['arquivo']['name']) || preg_match("/.CSV/", $_FILES['arquivo']['name']))){
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[1] != "Nome"){
                                $idProduto = $linha[0];
                                $nomeProduto = (addslashes($linha[1]));
                                $descricoes = addslashes($linha[2]);
                                $apareceVitrine = ($linha[3] == 'Sim') ? "1" : "0";
                                $destaque = ($linha[4] == 'Sim') ? "1" : "0";
                                $compreAgora = ($linha[5] == 'Sim') ? "1" : "0";
                                $freteGratis = ($linha[6] == 'Sim') ? "1" : "0";
                                $mostraCarrinho = ($linha[7] == 'Sim') ? "1" : "0";
                                $promocao = ($linha[8] == 'Sim') ? "1" : "0";
                                $valorContaParaOFrete = ($linha[9] == 'Sim') ? "1" : "0";
                                $itemRecomendado = ($linha[10] == 'Sim') ? "1" : "0";
                                $prioridadeBusca = ($linha[11] == 'Sim') ? "1" : "0";
                                $apareceLateralEsquerda = ($linha[12] == 'Sim') ? "1" : "0";
                                $ofertaDoDia = ($linha[13] == 'Sim') ? "1" : "0";
                                $ofertaEspecial = ($linha[14] == 'Sim') ? "1" : "0";
                                $slugProduto = $linha[15];
                                $background = $linha[16];
                                $status = ($linha[17] == 'Ativo') ? "1" : "0";
                                $idItem = $linha[18];
                                $codigo = sprintf("%012s", $idItem);
                                $nomeItem = $linha[19];
                                $valor = $linha[20];
                                $valorPromocao = $linha[21];
                                $validadePromocao = $linha[22];
                                $vet1 = explode('/', $validadePromocao);
                                $validadePromocao = $vet1[2]."-".$vet1[1]."-".$vet1[0];
                                $peso = $linha[23];
                                $altura = $linha[24];
                                $largura = $linha[25];
                                $comprimento = $linha[26];
                                $diametro = $linha[27];
                                $estoque = $linha[28];
                                $statusItem = ($linha[29] == 'Ativo') ? "1" : "0";
                                $atributos = addslashes($linha[30]);
                                $categorias = addslashes($linha[31]);
                                $marcas = addslashes($linha[32]);
                                $sugestoes = addslashes($linha[33]);
                                $relacionamentos = addslashes($linha[34]);
                                $selos = addslashes($linha[35]);
                                $comentarios = addslashes($linha[36]);
                                $videos = addslashes($linha[37]);
                                $imagens = addslashes($linha[38]);
                                $client = addslashes($linha[39]);
                                $client = ($client) ? $client : 0;
                                $sql = "SELECT * FROM products WHERE id = '".$idProduto."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO products (name, slug, apareceVitrine, destaque, compreAgora, freteGratis, mostraCarrinho, promocao, valorContaParaOFrete, itemRecomendado, prioridadeBusca, apareceLateralEsquerda, ofertaDoDia, ofertaEspecial, status, client, created_at, updated_at)
                                    VALUES ('" . addslashes(ucwords($linha[1])) . "', '".$slugProduto."', '".$apareceVitrine."', '".$destaque."', '".$compreAgora."', '".$freteGratis."', '".$mostraCarrinho."', '".$promocao."', '".$valorContaParaOFrete."', '".$itemRecomendado."', '".$prioridadeBusca."', '".$apareceLateralEsquerda."', '".$ofertaDoDia."', '".$ofertaEspecial."', '".$status."', '".$client."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $idProduto = mysqli_insert_id($con);
                                }
                                else{
                                    $row = mysqli_fetch_array($query);
                                    $idProduto = $row['id'];
                                    $sql = ("UPDATE products SET name = '".$nomeProduto."', apareceVitrine = '".$apareceVitrine."', destaque = '".$destaque."', freteGratis = '".$freteGratis."', mostraCarrinho = '".$mostraCarrinho."', promocao = '".$promocao."', valorContaParaOFrete = '".$valorContaParaOFrete."', itemRecomendado = '".$itemRecomendado."', prioridadeBusca = '".$prioridadeBusca."', apareceLateralEsquerda = '".$apareceLateralEsquerda."', ofertaDoDia = '".$ofertaDoDia."', ofertaEspecial = '".$ofertaEspecial."', status = '".$status."' WHERE id = '".$row['id']."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                                if ($background){
                                    copy(DIRETORIO."importar/".$background, DIRETORIO."storage/".$background);
                                    $sql = "UPDATE products SET img = '".$background."' WHERE id = '".$idProduto."'";
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                                if ($atributos){
                                    $vet1 = explode('*|*', $atributos);
                                    $i = 0;
                                    if (count($vet1)){
                                        foreach ($vet1 as $key => $value){
                                            $vet2 = explode('|*|', $value);
                                            $idPai = 0;
                                            $sql = ("SELECT * FROM attributes WHERE name = '".($vet2[0])."' AND idPai = '".$idPai."'");
                                            $query = mysqli_query($con, $sql);
                                            if (mysqli_num_rows($query)){
                                                $row = mysqli_fetch_array($query);
                                                $idAtributo = $row['id'];
                                            }
                                            else{
                                                $sql = ("INSERT INTO attributes (name, idPai, status, created_at, updated_at) VALUES ('".$vet2[0]."', '".$idPai."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql);
                                                $idAtributo = mysqli_insert_id($con);
                                            }
                                            $sql = "SELECT * FROM products_attributes WHERE product = '".$idProduto."' AND attribute = '".$idAtributo."'";
                                            $query2 = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query2)){
                                                $sql = "INSERT INTO products_attributes (product, attribute, created_at, updated_at) VALUES ('".$idProduto."', '".$idAtributo."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                mysqli_query($con, $sql);
                                            }
                                            $idPai = 0;
                                            $sql = ("SELECT * FROM attributes WHERE name = '".$vet2[1]."' AND idPai = '".$idAtributo."'");
                                            $query = mysqli_query($con, $sql);
                                            if (mysqli_num_rows($query)){
                                                $row = mysqli_fetch_array($query);
                                                $idAtributo2 = $row['id'];
                                            }
                                            else{
                                                $sql = ("INSERT INTO attributes (name, idPai, status, created_at, updated_at) VALUES ('".$vet2[1]."', '".$idAtributo."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql);
                                                $idAtributo2 = mysqli_insert_id($con);
                                            }
                                        }
                                    }
                                }
                                else{
                                    $idAtributo2 = 0;
                                }
                                if ($selos){
                                    $vet1 = explode('*|*', $selos);
                                    $i = 0;
                                    if (count($vet1)){
                                        foreach ($vet1 as $key => $value){
                                            $vet2 = explode('|*|', $value);
                                            $sql = ("SELECT * FROM stamps WHERE name = '".($vet2[0])."'");
                                            $query = mysqli_query($con, $sql);
                                            if (mysqli_num_rows($query)){
                                                $row = mysqli_fetch_array($query);
                                                $idSelo = $row['id'];
                                            }
                                            else{
                                                $sql = ("INSERT INTO stamps (name, status, created_at, updated_at) VALUES ('".$vet2[0]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql);
                                                $idSelo = mysqli_insert_id($con);
                                                if ($vet2[1] && file_exists(DIRETORIO."importar/".$vet2[1])){
                                                    copy(DIRETORIO."importar/".$vet2[1], DIRETORIO."storage/".$vet2[1]);
                                                    $sql = "UPDATE stamps SET img = '".$vet2[1]."' WHERE id = '".$idSelo."'";
                                                    mysqli_query($con, $sql);
                                                }
                                            }
                                            $sql = "SELECT * FROM products_stamps WHERE product = '".$idProduto."' AND stamp = '".$idSelo."'";
                                            $query2 = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query2)){
                                                $sql = ("INSERT INTO products_stamps (product, stamp, created_at, updated_at) VALUES ('".$idProduto."', '".$idSelo."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql);
                                            }
                                        }
                                    }
                                }
                                else{
                                   $idSelo = 0;
                                }
                                $sql = "SELECT * FROM products_items WHERE id = '".$idItem."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO products_items (product, code, name, value, promotion, validity_promotion, peso, altura, largura, comprimento, diametro, estoque, status, attribute1, created_at, updated_at) VALUES ('".$idProduto."', '".$codigo."', '" . addslashes(ucwords($nomeItem)) . "', '".$valor."', '".$valorPromocao."', '".$validadePromocao."', '".$peso."', '".$altura."', '".$largura."', '".$comprimento."', '".$diametro."', '".$estoque."', '".$statusItem."', '".$idAtributo2."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql);
                                    $idItem = mysqli_insert_id($con);
                                }
                                else{
                                    $row = mysqli_fetch_array($query);
                                    $idItem = $row['id'];
                                    $sql = ("UPDATE products_items SET name = '".addslashes(ucwords($nomeItem))."', product = '".$idProduto."', code = '".$codigo."', value = '".$valor."', promotion = '".$valorPromocao."', validity_promotion = '".$validadePromocao."', peso = '".$peso."', altura = '".$altura."', largura = '".$largura."', comprimento = '".$comprimento."', diametro = '".$diametro."', estoque = '".$estoque."', status = '".$statusItem."', attribute1 = '".$idAtributo2."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                                $vet1 = explode('|-|', $categorias);
                                $i = 0;
                                if (count($vet1)){
                                    foreach ($vet1 as $key => $value){
                                        $vet2 = explode('|*|', $value);
                                        if ($key == 0){
                                            $idPai = 0;
                                        }
                                        elseif (!$idPai){
                                            $idPai = $idCategoria;
                                        }
                                        $sql = ("SELECT * FROM categories WHERE name = '".($vet2[0])."' AND idPai = '".$idPai."'");
                                        $query = mysqli_query($con, $sql);
                                        if (mysqli_num_rows($query)){
                                            $row = mysqli_fetch_array($query);
                                            $idCategoria = $row['id'];
                                        }
                                        else{
                                            $sql = ("INSERT INTO categories (name, idPai, slug, status, aparece_menu, created_at, updated_at) VALUES ('".$vet2[0]."', '".$idPai."', '".$vet2[2]."', '1', '".$vet2[3]."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql);
                                            $idCategoria = mysqli_insert_id($con);
                                        }
                                        if ($vet2[1] && file_exists(DIRETORIO."importar/".$vet2[1])){
                                            copy(DIRETORIO."importar/".$vet2[1], DIRETORIO."storage/".$vet2[1]);
                                            $sql = "UPDATE categories SET img = '".$vet2[1]."' WHERE id = '".$idCategoria."'";
                                            mysqli_query($con, $sql);
                                        }
                                        if ($vet2[4] && file_exists(DIRETORIO."importar/".$vet2[4])){
                                            copy(DIRETORIO."importar/".$vet2[4], DIRETORIO."storage/".$vet2[4]);
                                            $sql = "UPDATE categories SET background = '".$vet2[4]."' WHERE id = '".$idCategoria."'";
                                            mysqli_query($con, $sql);
                                        }
                                        $sql = "SELECT * FROM products_categories WHERE product = '".$idProduto."' AND categorie = '".$idCategoria."'";
                                        $query2 = mysqli_query($con, $sql);
                                        if (!mysqli_num_rows($query2)){
                                            $sql = ("INSERT INTO products_categories (product, categorie, created_at, updated_at) VALUES ('".$idProduto."', '".$idCategoria."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql);
                                        }
                                    }
                                }
                                $vet1 = explode('*|*', $marcas);
                                $i = 0;
                                if (count($vet1)){
                                    foreach ($vet1 as $key => $value){
                                        if ($value){
                                            $vet2 = explode('|*|', $value);
                                            $sql = ("SELECT * FROM brands WHERE name = '".($vet2[0])."'");
                                            $query = mysqli_query($con, $sql);
                                            if (mysqli_num_rows($query)){
                                                $row = mysqli_fetch_array($query);
                                                $idMarca = $row['id'];
                                            }
                                            else{
                                                $sql = ("INSERT INTO brands (name, slug, status, created_at, updated_at) VALUES ('".$vet2[0]."', '".$vet2[2]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql);
                                                $idMarca = mysqli_insert_id($con);
                                            }
                                            if ($vet2[1] && file_exists(DIRETORIO."importar/".$vet2[1])){
                                                copy(DIRETORIO."importar/".$vet2[1], DIRETORIO."storage/".$vet2[1]);
                                                $sql = "UPDATE brands SET img = '".$vet2[1]."' WHERE id = '".$idMarca."'";
                                                mysqli_query($con, $sql);
                                            }
                                            $sql = "SELECT * FROM products_brands WHERE product = '".$idProduto."' AND brand = '".$idMarca."'";
                                            $query2 = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query2)){
                                                $sql = "INSERT INTO products_brands (product, brand, created_at, updated_at) VALUES ('".$idProduto."', '".$idMarca."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                mysqli_query($con, $sql);
                                            }
                                        }
                                    }
                                }
                                $vet1 = explode('*|*', $sugestoes);
                                $i = 0;
                                if (count($vet1)){
                                    foreach ($vet1 as $key => $value){
                                        if ($value){
                                            $vet2 = explode('|*|', $value);
                                            $sql = ("SELECT * FROM suggestions WHERE name = '".$vet2[0]."'");
                                            $query = mysqli_query($con, $sql);
                                            if (mysqli_num_rows($query)){
                                                $row = mysqli_fetch_array($query);
                                                $idSugestao = $row['id'];
                                            }
                                            else{
                                                $sql = ("INSERT INTO suggestions (name, slug, status, created_at, updated_at) VALUES ('".$vet2[0]."', '".$vet2[2]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql);
                                                $idSugestao = mysqli_insert_id($con);
                                            }
                                            $sql = "SELECT * FROM products_suggestions WHERE product = '".$idProduto."' AND suggestion = '".$idSugestao."'";
                                            $query2 = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query2)){
                                                $sql = "INSERT INTO products_suggestions (product, suggestion, created_at, updated_at) VALUES ('".$idProduto."', '".$idSugestao."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                mysqli_query($con, $sql);
                                            }
                                            if ($vet2[1] && file_exists(DIRETORIO."importar/".$vet2[1])){
                                                copy(DIRETORIO."importar/".$vet2[1], DIRETORIO."storage/".$vet2[1]);
                                                $sql = "UPDATE suggestions SET img = '".$vet2[1]."' WHERE id = '".$idMarca."'";
                                                mysqli_query($con, $sql);
                                            }
                                        }
                                    }
                                }
                                $vet1 = explode('*|*', $relacionamentos);
                                $i = 0;
                                if (count($vet1)){
                                    foreach ($vet1 as $key => $value){
                                        if ($value){
                                            $vet2 = explode('|*|', $value);
                                            $sql = "SELECT * FROM relationships WHERE slug = '".$vet2[1]."'";
                                            $query = mysqli_query($con, $sql);
                                            if (mysqli_num_rows($query)){
                                                $row = mysqli_fetch_array($query);
                                                $idRelacionamentos = $row['id'];
                                            }
                                            else{
                                                $sql = ("INSERT INTO relationships (name, slug, status, created_at, updated_at) VALUES ('".$vet2[0]."', '".$vet2[1]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql);
                                                $idRelacionamentos = mysqli_insert_id($con);
                                            }
                                            $sql = "SELECT * FROM products_relationships WHERE product = '".$idProduto."' AND relationship = '".$idRelacionamentos."'";
                                            $query2 = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query2)){
                                                $sql = "INSERT INTO products_relationships (product, relationship, created_at, updated_at) VALUES ('".$idProduto."', '".$idRelacionamentos."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                mysqli_query($con, $sql);
                                            }
                                        }
                                    }
                                }
                                $vet1 = explode('*|*', $comentarios);
                                $i = 0;
                                $s = 0;
                                if (count($vet1)){
                                    foreach ($vet1 as $key => $value){
                                        if ($value){
                                            $vet2 = explode('|*|', $value);
                                            $sql = ("SELECT * FROM products_reviews WHERE product = '".$idProduto."' AND nome = '".($vet2[0])."' AND email = '".$vet2[1]."' AND avaliacao = '".$vet2[3]."' AND mensagem = '".$vet2[2]."'");
                                            $query3 = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query3)){
                                                $sql = ("INSERT INTO products_reviews (product, nome, email, avaliacao, mensagem, status, created_at, updated_at) VALUES ('".$idProduto."', '".$vet2[0]."', '".$vet2[1]."', '".$vet2[3]."', '".$vet2[2]."', '1', '".$vet2[4]."', '".$vet2[5]."')");
                                                mysqli_query($con, $sql);
                                                $s++;
                                            }
                                        }
                                    }
                                }
                                $sql = "DELETE FROM products_descriptions WHERE product = '".$idProduto."'";
                                mysqli_query($con, $sql);
                                $vet1 = explode('*|*', $descricoes);
                                $i = 0;
                                if (count($vet1)){
                                    foreach ($vet1 as $key => $value){
                                        if ($value){
                                            $vet2 = explode('|*|', $value);
                                            $sql = ("INSERT INTO products_descriptions (product, num, text, type, created_at, updated_at) VALUES ('".$idProduto."', '".$i."', '".$vet2[1]."', '".$vet2[0]."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql);
                                        }
                                    }
                                }
                                $vet2 = explode('*|*', $imagens);
                                $i = 0;
                                if (count($vet2)){
                                    foreach($vet2 as $key => $value){
                                        if ($value){
                                            $vet3 = explode('|*|', $value);
                                            $sql = "SELECT * FROM products_images WHERE product_item = '".$idItem."' AND product = '".$idProduto."' AND id = '".$vet3[2]."'";
                                            $query2 = mysqli_query($con, $sql);
                                            copy(DIRETORIO.'importar/'.$vet3[1], DIRETORIO."storage/".$vet3[1]);
                                            if (!mysqli_num_rows($query2)){
                                                $sql = ("INSERT INTO products_images (name, product, product_item, img, status, created_at, updated_at) VALUES ('" . addslashes(ucwords($vet3[0])) . "', '".$idProduto."', '".$idItem."', '".$vet3[1]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                            }
                                            else{
                                                $sql = "UPDATE products_images SET img = '".addslashes($vet3[1])."', name = '".addslashes(ucwords($vet3[0]))."', status = '1' WHERE id = '".$vet3[2]."'";
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                            }
                                        }
                                    }
                                }
                                $vet2 = explode('*|*', $videos);
                                $i = 0;
                                if (count($vet2) && $idProduto != $idProduto2){
                                    foreach($vet2 as $key => $value){
                                        if ($value){
                                            $vet3 = explode('|*|', $value);
                                            $sql = "SELECT * FROM products_videos WHERE product = '".$idProduto."' AND id = '".$vet3[2]."'";
                                            $query2 = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query2)){
                                                $sql = ("INSERT INTO products_videos (name, v, product, status, created_at, updated_at) VALUES ('" . addslashes(ucwords($vet3[0])) . "', '".addslashes($vet3[1])."', '".$idProduto."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                            }
                                            else{
                                                $sql = "UPDATE products_videos SET name = '".addslashes(ucwords($vet3[0]))."', v = '".addslashes($vet3[1])."', status = '1' WHERE id = '".$vet3[2]."'";
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                            }
                                        }
                                    }
                                }
                                $idProduto2 = $idProduto;
                            }
                        }
                        fclose($f);
                    }
                    else{
                        echo '0|-|O arquivo deve ser informado e deve ser do tipo "*.csv" ou "*.CSV"';
                        die();
                    }
                    break;
                case "parceiros":
                    /*$sql = "TRUNCATE partners";
                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nome = $linha[1];
                                $descricao = $linha[2];
                                $link = str_replace(",", ";", $linha[3]);
                                $cliques = $linha[4];
                                $status = ($linha[5] == 'Ativo') ? 1 : 0;
                                $sql = "SELECT * FROM partners WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO partners (id, name, link, cliques, status, created_at, updated_at) VALUES ('".$id."', '" .$nome . "', '".$link."', '".$cliques."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE partners SET name = '".$nome."', link = '".$link."', cliques = '".$cliques."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;                    
                case "redesSociais":
                    /*$sql = "TRUNCATE social_networks";
                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nome = $linha[1];
                                $slug = $linha[2];
                                $descricao = $linha[3];
                                $link = $linha[4];
                                $img = $linha[5];
                                $background = $linha[6];
                                if ($background && file_exists(DIRETORIO."importar/".$background)){
                                    copy(DIRETORIO."importar/".$background, DIRETORIO."storage/".$background);
                                }
                                if ($img && file_exists(DIRETORIO."importar/".$img)){
                                    copy(DIRETORIO."importar/".$img, DIRETORIO."storage/".$img);
                                }
                                $cliques = $linha[7];
                                $recebidos = $linha[8];
                                $status = ($linha[9] == 'Ativo') ? 1 : 0;
                                $sql = "SELECT * FROM social_networks WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO social_networks (id, name, slug, description, link, cliques, status, created_at, updated_at) VALUES ('".$id."', '" .$nome . "', '".$link."', '".$cliques."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE social_networks SET name = '".$nome."', slug = '".$slug."', description = '".$descricao."', link = '".$link."', img = '".$img."', background = '".$background."', cliques = '".$cliques."', recebidos = '".$recebidos."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;            
                case "cupomDesconto":
                    /*$sql = "TRUNCATE coupon_discounts";
                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $codigo = $linha[1];
                                $tipo = ($linha[2] == 'Percentual') ? 2 : 1;
                                $valor = str_replace(",", ".", str_replace(".", ".", $linha[3]));
                                $valid = explode("/", $linha[4]);
                                if ($valid[2] < 100){
                                    if ($valid[2] == 99){
                                        $valid[2] = "9999";
                                    }
                                }
                                $validade = $valid[2]."-".$valid[1]."-".$valid[0];
                                $utulizavel = ($linha[5] == 'Uma vez por cliente') ? 1 : 2;
                                if ($id){
                                $sql = "SELECT * FROM coupon_discounts WHERE id = '".$id."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO coupon_discounts (id, codigo, tipo, valor, validade, utilizavel, created_at, updated_at) VALUES ('".$id."', '" .$codigo . "', '".$tipo."', '".$valor."', '".$validade."', '".$utilizavel."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE coupon_discounts SET codigo = '".$codigo."', tipo = '".$tipo."', valor = '".$valor."', validade = '".$validade."', utilizavel = '".$utulizavel."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;                              
                case "valePresente":
                    /*$sql = "TRUNCATE vales";
                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $codigo = $linha[1];
                                $valor = str_replace(",", ".", str_replace(".", ".", $linha[2]));
                                $valid = explode("/", $linha[3]);
                                if ($valid[2] < 100){
                                    if ($valid[2] == 99){
                                        $valid[2] = "9999";
                                    }
                                }
                                $validade = $valid[2]."-".$valid[1]."-".$valid[0];
                                if ($id){
                                    $sql = "SELECT * FROM vales WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO vales (id, code, value, validade, created_at, updated_at) VALUES ('".$id."', '" .$codigo . "', '".$valor."', '".$validade."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE vales SET code = '".$codigo."', value = '".$valor."', validade = '".$validade."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;                              
                    case "paramSite":
                        /*$sql = "TRUNCATE param_sites";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        $delimitador = ';';
                        $cerca = '"';
                        if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match('/.csv/', $_FILES['arquivo']['name'])){
                            // Abrir arquivo para leitura
                            $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                            if ($f) {
            
                                // Enquanto nao terminar o arquivo
                                while (!feof($f)) {
            
                                    // Ler uma linha do arquivo
                                    $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                    if (!$linha) {
                                        continue;
                                    }
            
                                    // Montar registro com valores indexados pelo cabecalho
                                    $registro = array_combine($cabecalho, $linha);
                                    if ($linha[0] != 'Id'){
                                        $id = $linha[0];
                                        $nome = $linha[1];
                                        $tipo = $linha[2];
                                        $valor = $linha[3];
                                        if ($id){
                                            $sql = "SELECT * FROM param_sites WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO param_sites (name, type, value, created_at, updated_at) VALUES ('" .$nome . "', '".$tipo."', '".$valor."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE param_sites SET name = '".$nome."', type = '".$tipo."', value = '".$valor."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                fclose($f);
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '*.CSV' ou '*csv'! Confira!";
                        }
                        break;               
                case "paramAdmin":
                    /*$sql = "TRUNCATE param_admins";
                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nome = $linha[1];
                                $valor = $linha[2];
                                if ($id){
                                    $sql = "SELECT * FROM param_admins WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO param_admins (name, value, created_at, updated_at) VALUES ('" .$nome . "', '".$valor."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE param_admins SET name = '".$nome."', value = '".$valor."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;                                 
                case "versao":
                    /*$sql = "TRUNCATE versions";
                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                    $delimitador = ';';
                    $cerca = '"';
    
                    // Abrir arquivo para leitura
                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                    if ($f) {
    
                        // Enquanto nao terminar o arquivo
                        while (!feof($f)) {
    
                            // Ler uma linha do arquivo
                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                            if (!$linha) {
                                continue;
                            }
    
                            // Montar registro com valores indexados pelo cabecalho
                            $registro = array_combine($cabecalho, $linha);
                            if ($linha[0] != 'Id'){
                                $id = $linha[0];
                                $nome = $linha[1];
                                $descricao = $linha[2];
                                $data = $linha[3];
                                $vet = explode('/', $data);
                                $data = $vet[2]."-".$vet[1]."-".$vet[0];
                                $img = $linha[4];
                                if ($id){
                                    if ($img && file_exists(DIRETORIO."importar/".$img)){
                                        copy(DIRETORIO."importar/".$img, DIRETORIO."storage/".$img);
                                    }
                                    $sql = "SELECT * FROM versions WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO versions (name, value, created_at, updated_at) VALUES ('" .$nome . "', '".$valor."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE versions SET name = '".$nome."', description = '".$descricao."', date = '".$data."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                        }
                        fclose($f);
                    }
                    break;                                 
                    case "feriado":
                        /*$sql = "TRUNCATE holidays";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        $delimitador = ';';
                        $cerca = '"';
                        // Abrir arquivo para leitura
                        if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match('/.csv/', $_FILES['arquivo']['name'])){
                            $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                            if ($f) {
            
                                // Enquanto nao terminar o arquivo
                                while (!feof($f)) {
            
                                    // Ler uma linha do arquivo
                                    $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                    if (!$linha) {
                                        continue;
                                    }
            
                                    // Montar registro com valores indexados pelo cabecalho
                                    $registro = array_combine($cabecalho, $linha);
                                    if ($linha[0] != 'Id'){
                                        $id = $linha[0];
                                        $nome = $linha[1];
                                        $data = $linha[2];
                                        $vet = explode('/', $data);
                                        $data = $vet[2]."-".$vet[1]."-".$vet[0];
                                        $comMsg = ($linha[3] == 'Sim') ? "1" : "0";
                                        $msg = $linha[4];
                                        $status = ($linha[5] == 'Ativo') ? "1" : "0";
                                        if ($id){
                                            $sql = "SELECT * FROM holidays WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO holidays (name, date, comMsg, msg, status, created_at, updated_at) VALUES ('" .$nome . "', '".$data."', '".$nomMsg."', '".$msg."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE holidays SET name = '".$nome."', date = '".$data."', comMsg = '".$comMsg."', msg = '".$msg."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                fclose($f);
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.CSV' ou '.csv'! Confira!";
                            die();
                        }
                        break;                            
                    case "comentarioFeriado":
                        /*$sql = "TRUNCATE holidays_coments";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        $delimitador = ';';
                        $cerca = '"';
                        // Abrir arquivo para leitura
                        if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match('/.csv/', $_FILES['arquivo']['name'])){
                            $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                            if ($f) {
            
                                // Enquanto nao terminar o arquivo
                                while (!feof($f)) {
            
                                    // Ler uma linha do arquivo
                                    $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                    if (!$linha) {
                                        continue;
                                    }
            
                                    // Montar registro com valores indexados pelo cabecalho
                                    $registro = array_combine($cabecalho, $linha);
                                    if ($linha[0] != 'Id'){
                                        $id = $linha[0];
                                        $feriado = $linha[1];
                                        $vet = explode('|-|', $feriado);
                                        $nomeFeriado = (($vet[0]));
                                        $dataFeriado = $vet[1];
                                        $vet = explode('/', $dataFeriado);
                                        $dataFeriado = $vet[2]."-".$vet[1]."-".$vet[0];
                                        $cliente = $linha[2];
                                        $vet = explode('|-|', $cliente);
                                        $nomeCliente = $vet[0];
                                        $emailCliente = $vet[1];
                                        $vet = explode('|*|', $nomeCliente);
                                        $nomeCliente = $vet[0];
                                        $contato = $vet[1];
                                        $tpCliente = ($contato) ? "J" : "F";
                                        $sql = "SELECT * FROM holidays WHERE name = '".($nomeFeriado)."' AND date = '".$dataFeriado."'";
                                        $query = mysqli_query($con, $sql);
                                        if (mysqli_num_rows($query)){
                                            $row = mysqli_fetch_array($query);
                                            $idFeriado = $row['id'];
                                        }
                                        else{
                                            $sql = ("INSERT INTO holidays (name, date, status, created_at, updated_at)
                                            VALUES ('".$nomeFeriado."', '".$dataFeriado."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql);
                                            $idFeriado = mysqli_insert_id($con);
                                        }
                                        $sql = "SELECT * FROM clients WHERE email = '".$emailCliente."'";
                                        $query = mysqli_query($con, $sql);
                                        if (mysqli_num_rows($query)){
                                            $row = mysqli_fetch_array($query);
                                            $idCliente = $row['id'];
                                        }
                                        else{
                                            $sql = "INSERT INTO clients (type_person, email, password, created_at, updated_at)
                                            VALUES ('".$tpCliente."', '".$emailCliente."', '".md5('123456')."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                            $idCliente = mysqli_insert_id($con);
                                            if ($tpCliente == 'F'){
                                                $sql = "INSERT INTO pessoa_fisicas (client, name, dtNasc, created_at, updated_at)
                                                VALUES ('".$idCliente."', '".$nomeCliente."', '9999-12-31', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                            }
                                            else{
                                                $sql = "INSERT INTO pessoa_juridicas (client, razaoSocial, nomeFantasia, contato, dataAbertura, created_at, updated_at)
                                                VALUES ('".$idCliente."', '".$nomeCliente."', '".$nomeCliente."', '".$contato."', '9999-12-31', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                            }
                                        }
                                        $avaliacao = $linha[3];
                                        $coment = ($linha[4]);
                                        $status = ($linha[5] == 'Aprovado') ? "2" : "1";
                                        $sql = "SELECT * FROM holidays_coments WHERE id = '".$id."'";
                                        $query = mysqli_query($con, $sql);
                                        if (mysqli_num_rows($query)){
                                            $row = mysqli_fetch_array($query);
                                            $sql = ("UPDATE holidays_coments SET holiday = '".$idFeriado."', client = '".$idCliente."', avaliacao = '".$avaliacao."', coment = '".($coment)."', status = '".$status."', ");
                                            $sql .= "updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                        else{
                                            $sql = ("INSERT INTO holidays_coments (holiday, client, avaliacao, coment, status, created_at, updated_at) 
                                            VALUES ('".$idFeriado."', '".$idCliente."', '".$avaliacao."', '".($coment)."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");                                        
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                    }
                                }
                                fclose($f);
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.CSV' ou '.csv'! Confira!";
                            die();
                        }
                        break;                             
                    case "formasPagamento":
                        /*$sql = "TRUNCATE holidays";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        $delimitador = ';';
                        $cerca = '"';
                        // Abrir arquivo para leitura
                        if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match('/.csv/', $_FILES['arquivo']['name'])){
                            $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                            if ($f) {
            
                                // Enquanto nao terminar o arquivo
                                while (!feof($f)) {
            
                                    // Ler uma linha do arquivo
                                    $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                    if (!$linha) {
                                        continue;
                                    }
            
                                    // Montar registro com valores indexados pelo cabecalho
                                    $registro = array_combine($cabecalho, $linha);
                                    if ($linha[0] != 'Id'){
                                        $id = $linha[0];
                                        $nome = $linha[1];
                                        $vlParcelaMinima = str_replace(",", ".", str_replace('.', '', $linha[2]));
                                        $parcelas = $linha[3];
                                        $img = $linha[4];
                                        if ($img && file_exists(DIRETORIO."importar/".$img)){
                                            copy(DIRETORIO."importar/".$img, DIRETORIO."storage/".$img);
                                        }
                                        if ($id){
                                            $sql = "SELECT * FROM payment_methods WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO payment_methods (name, vlParcelaMinima, parcelas, img, created_at, updated_at) VALUES ('" .$nome . "', '".$vlParcelaMinima."', '".$parcelas."', '".$img."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE payment_methods SET name = '".$nome."', vlParcelaMinima = '".$vlParcelaMinima."', parcelas = '".$parcelas."', img = '".$img."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                fclose($f);
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.CSV' ou '.csv'! Confira!";
                            die();
                        }
                        break;         
                    case "nacionalidade":
                        /*$sql = "TRUNCATE holidays";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        $delimitador = ';';
                        $cerca = '"';
                        // Abrir arquivo para leitura
                        if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match('/.csv/', $_FILES['arquivo']['name'])){
                            $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                            if ($f) {
            
                                // Enquanto nao terminar o arquivo
                                while (!feof($f)) {
            
                                    // Ler uma linha do arquivo
                                    $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                    if (!$linha) {
                                        continue;
                                    }
            
                                    // Montar registro com valores indexados pelo cabecalho
                                    $registro = array_combine($cabecalho, $linha);
                                    if ($linha[0] != 'Id'){
                                        $id = $linha[0];
                                        $nome = $linha[1];
                                        $padrao = ($linha[2] == 'Sim') ? "1" : "0";
                                        $status = ($linha[3] == 'Ativo') ? "1" : "0";
                                        if ($id){
                                            $sql = "SELECT * FROM nationalities WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO nationalities (name, padrao, status, created_at, updated_at) VALUES ('" .$nome . "', '".$padrao."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE nationalities SET name = '".$nome."', padrao = '".$padrao."',  status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                fclose($f);
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.CSV' ou '.csv'! Confira!";
                            die();
                        }
                        break;                        
                    case "pais":
                        /*$sql = "TRUNCATE countries";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        $delimitador = ';';
                        $cerca = '"';
                        // Abrir arquivo para leitura
                        if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match('/.csv/', $_FILES['arquivo']['name'])){
                            $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                            if ($f) {
            
                                // Enquanto nao terminar o arquivo
                                while (!feof($f)) {
            
                                    // Ler uma linha do arquivo
                                    $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                    if (!$linha) {
                                        continue;
                                    }
            
                                    // Montar registro com valores indexados pelo cabecalho
                                    $registro = array_combine($cabecalho, $linha);
                                    if ($linha[0] != 'Id'){
                                        $id = $linha[0];
                                        $nome = $linha[1];
                                        $padrao = ($linha[2] == 'Sim') ? "1" : "0";
                                        $status = ($linha[3] == 'Ativo') ? "1" : "0";
                                        if ($id){
                                            $sql = "SELECT * FROM countries WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO countries (name, padrao, status, created_at, updated_at) VALUES ('" .$nome . "', '".$padrao."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE countries SET name = '".$nome."', padrao = '".$padrao."',  status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                fclose($f);
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.CSV' ou '.csv'! Confira!";
                            die();
                        }
                        break;                        
                        case "formasFrete":
                            /*$sql = "TRUNCATE shipping_methods";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
                            $delimitador = ';';
                            $cerca = '"';
                            // Abrir arquivo para leitura
                            if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match('/.csv/', $_FILES['arquivo']['name'])){
                                $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                                if ($f) {
                
                                    // Enquanto nao terminar o arquivo
                                    while (!feof($f)) {
                
                                        // Ler uma linha do arquivo
                                        $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                        if (!$linha) {
                                            continue;
                                        }
                
                                        // Montar registro com valores indexados pelo cabecalho
                                        $registro = array_combine($cabecalho, $linha);
                                        if ($linha[0] != 'Id'){
                                            $id = $linha[0];
                                            $codigo = $linha[1];
                                            $nome = $linha[2];
                                            $valor = str_replace("R$ ", "", str_replace(",", ".", str_replace(".", "", $linha[3])));
                                            $status = ($linha[4] == 'Ativa') ? "1" : "0";
                                            if ($id){
                                                $sql = "SELECT * FROM shipping_methods WHERE id = '".$id."'";
                                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                                if (!mysqli_num_rows($query)){
                                                    $sql = ("INSERT INTO shipping_methods (code, name, value, status, created_at, updated_at) VALUES ('".$codigo."', '" .$nome . "', '".$valor."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                                    $linha[0] = mysqli_insert_id($con);
                                                }
                                                else{
                                                    $sql = ("UPDATE shipping_methods SET code = '".$codigo."', name = '".$nome."', value = '".$valor."',  status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                                }
                                            }
                                        }
                                    }
                                    fclose($f);
                                }
                            }
                            else{
                                echo "0|-|O arquivo deve ser do tipo '.CSV' ou '.csv'! Confira!";
                                die();
                            }
                            break;               
                    case "posicoes":
                        /*$sql = "TRUNCATE shipping_methods";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        $delimitador = ';';
                        $cerca = '"';
                        // Abrir arquivo para leitura
                        if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match('/.csv/', $_FILES['arquivo']['name'])){
                            $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                            if ($f) {
            
                                // Enquanto nao terminar o arquivo
                                while (!feof($f)) {
            
                                    // Ler uma linha do arquivo
                                    $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                    if (!$linha) {
                                        continue;
                                    }
            
                                    // Montar registro com valores indexados pelo cabecalho
                                    $registro = array_combine($cabecalho, $linha);
                                    if ($linha[0] != 'Id'){
                                        $id = $linha[0];
                                        $nome = $linha[1];
                                        $status = ($linha[2] == 'Ativa') ? "1" : "0";
                                        if ($id){
                                            $sql = "SELECT * FROM positions WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO positions (name, status, created_at, updated_at) VALUES ('" .$nome . "', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE positions SET name = '".$nome."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                fclose($f);
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.CSV' ou '.csv'! Confira!";
                            die();
                        }
                        break;         
                        case "tempoBanner":
                            /*$sql = "TRUNCATE shipping_methods";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
                            $delimitador = ';';
                            $cerca = '"';
                            // Abrir arquivo para leitura
                            if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match('/.csv/', $_FILES['arquivo']['name'])){
                                $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                                if ($f) {
                
                                    // Enquanto nao terminar o arquivo
                                    while (!feof($f)) {
                
                                        // Ler uma linha do arquivo
                                        $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                        if (!$linha) {
                                            continue;
                                        }
                
                                        // Montar registro com valores indexados pelo cabecalho
                                        $registro = array_combine($cabecalho, $linha);
                                        if ($linha[0] != 'Id'){
                                            $id = $linha[0];
                                            $nome = $linha[1];
                                            $days = $linha[2];
                                            $status = ($linha[3] == 'Ativo') ? "1" : "0";
                                            if ($id){
                                                $sql = "SELECT * FROM time_banners WHERE id = '".$id."'";
                                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                                if (!mysqli_num_rows($query)){
                                                    $sql = ("INSERT INTO time_banners (name, status, created_at, updated_at) VALUES ('" .$nome . "', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                                    $linha[0] = mysqli_insert_id($con);
                                                }
                                                else{
                                                    $sql = ("UPDATE time_banners SET name = '".$nome."', days = '".$days."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                                }
                                            }
                                        }
                                    }
                                    fclose($f);
                                }
                            }
                            else{
                                echo "0|-|O arquivo deve ser do tipo '.CSV' ou '.csv'! Confira!";
                                die();
                            }
                            break;      
                        case "target":
                            /*$sql = "TRUNCATE shipping_methods";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
                            $delimitador = ';';
                            $cerca = '"';
                            // Abrir arquivo para leitura
                            if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match('/.csv/', $_FILES['arquivo']['name'])){
                                $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                                if ($f) {
                
                                    // Enquanto nao terminar o arquivo
                                    while (!feof($f)) {
                
                                        // Ler uma linha do arquivo
                                        $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                        if (!$linha) {
                                            continue;
                                        }
                
                                        // Montar registro com valores indexados pelo cabecalho
                                        $registro = array_combine($cabecalho, $linha);
                                        if ($linha[0] != 'Id'){
                                            $id = $linha[0];
                                            $nome = $linha[1];
                                            $code = $linha[2];
                                            $status = ($linha[3] == 'Ativo') ? "1" : "0";
                                            if ($id){
                                                $sql = "SELECT * FROM targets WHERE id = '".$id."'";
                                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                                if (!mysqli_num_rows($query)){
                                                    $sql = ("INSERT INTO targets (name, status, created_at, updated_at) VALUES ('" .$nome . "', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                                    $linha[0] = mysqli_insert_id($con);
                                                }
                                                else{
                                                    $sql = ("UPDATE targets SET name = '".$nome."', code = '".$code."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                                }
                                            }
                                        }
                                    }
                                    fclose($f);
                                }
                            }
                            else{
                                echo "0|-|O arquivo deve ser do tipo '.CSV' ou '.csv'! Confira!";
                                die();
                            }
                            break;
                            case "backgrounds":
                                /*$sql = "TRUNCATE backgrounds";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                $delimitador = ';';
                                $cerca = '"';
                                // Abrir arquivo para leitura
                                if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match('/.csv/', $_FILES['arquivo']['name'])){
                                    $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                                    if ($f) {
                    
                                        // Enquanto nao terminar o arquivo
                                        while (!feof($f)) {
                    
                                            // Ler uma linha do arquivo
                                            $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                            if (!$linha) {
                                                continue;
                                            }
                    
                                            // Montar registro com valores indexados pelo cabecalho
                                            $registro = array_combine($cabecalho, $linha);
                                            if ($linha[0] != 'Id'){
                                                $id = $linha[0];
                                                $nome = $linha[1];
                                                $img = $linha[2];
                                                if ($id){
                                                    $sql = "SELECT * FROM backgrounds WHERE id = '".$id."'";
                                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                                    if (!mysqli_num_rows($query)){
                                                        $sql = ("INSERT INTO backgrounds (name, img, created_at, updated_at) VALUES ('" .$nome . "', '".$img."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                                        $id = mysqli_insert_id($con);
                                                    }
                                                    else{
                                                        $sql = ("UPDATE backgrounds SET name = '".$nome."', img = '".$img."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                                    }
                                                    if ($img && file_exists(DIRETORIO."importar/".$img)){
                                                        copy(DIRETORIO."importar/".$img, DIRETORIO."storage/".$img);
                                                    }
                                                }
                                            }
                                        }
                                        reescreveArquivoCss();
                                        fclose($f);
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '.CSV' ou '.csv'! Confira!";
                                    die();
                                }
                                break;
                                case "usuarios":
                                    /*$sql = "TRUNCATE users";
                                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                    $delimitador = ';';
                                    $cerca = '"';
                                    // Abrir arquivo para leitura
                                    if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match('/.csv/', $_FILES['arquivo']['name'])){
                                        $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                                        if ($f) {
                        
                                            // Enquanto nao terminar o arquivo
                                            while (!feof($f)) {
                        
                                                // Ler uma linha do arquivo
                                                $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                                if (!$linha) {
                                                    continue;
                                                }
                        
                                                // Montar registro com valores indexados pelo cabecalho
                                                $registro = array_combine($cabecalho, $linha);
                                                if ($linha[0] != 'Id'){
                                                    $id = $linha[0];
                                                    $nome = $linha[1];
                                                    $email = $linha[2];
                                                    $password = $linha[3];
                                                    $remember_token = $linha[4];
                                                    $img = $linha[5];
                                                    $email_verified_at = ($linha[6] != '31/12/1969 às 21:00:00h') ? date('Y-m-d H:i:s', strtotime($linha[6])) : "0000-00-00 00:00:00";
                                                    if ($id){
                                                        $sql = "SELECT * FROM users WHERE id = '".$id."'";
                                                        $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                                        if (!mysqli_num_rows($query)){
                                                            $sql = ("INSERT INTO users (name, email, password, remember_token, img, email_verified_at, created_at, updated_at) VALUES ('" .$nome . "', '".$email."', '".$password."', '".$remember_token."', '".$img."', '".$email_verified_at."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                                            $id = mysqli_insert_id($con);
                                                        }
                                                        else{
                                                            $sql = ("UPDATE users SET name = '".$nome."', email = '".$email."', password = '".$password."', remember_token = '".$remember_token."', img = '".$img."', email_verified_at = '".$email_verified_at."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                            mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                                        }
                                                        if ($img && file_exists(DIRETORIO."importar/".$img)){
                                                            copy(DIRETORIO."importar/".$img, DIRETORIO."storage/".$img);
                                                        }
                                                    }
                                                }
                                            }
                                            fclose($f);
                                        }
                                    }
                                    else{
                                        echo "0|-|O arquivo deve ser do tipo '.CSV' ou '.csv'! Confira!";
                                        die();
                                    }
                                    break;
                                    case "usuariosPre":
                                        /*$sql = "TRUNCATE user_pres";
                                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                        $delimitador = ';';
                                        $cerca = '"';
                                        // Abrir arquivo para leitura
                                        if (preg_match('/.CSV/', $_FILES['arquivo']['name']) || preg_match('/.csv/', $_FILES['arquivo']['name'])){
                                            $f = fopen($_FILES['arquivo']['tmp_name'], 'r');
                                            if ($f) {
                            
                                                // Enquanto nao terminar o arquivo
                                                while (!feof($f)) {
                            
                                                    // Ler uma linha do arquivo
                                                    $linha = fgetcsv($f, 0, $delimitador, $cerca);
                                                    if (!$linha) {
                                                        continue;
                                                    }
                            
                                                    // Montar registro com valores indexados pelo cabecalho
                                                    $registro = array_combine($cabecalho, $linha);
                                                    if ($linha[0] != 'Id'){
                                                        $id = $linha[0];
                                                        $nome = $linha[1];
                                                        $email = $linha[2];
                                                        $password = $linha[3];
                                                        if ($id){
                                                            $sql = "SELECT * FROM user_pres WHERE id = '".$id."'";
                                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                                            if (!mysqli_num_rows($query)){
                                                                $sql = ("INSERT INTO user_pres (name, email, password, remember_token, img, email_verified_at, created_at, updated_at) VALUES ('" .$nome . "', '".$email."', '".$password."', '".$remember_token."', '".$img."', '".$email_verified_at."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                                $id = mysqli_insert_id($con);
                                                            }
                                                            else{
                                                                $sql = ("UPDATE user_pres SET name = '".$nome."', email = '".$email."', password = '".$password."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                                            }
                                                        }
                                                    }
                                                }
                                                fclose($f);
                                            }
                                        }
                                        else{
                                            echo "0|-|O arquivo deve ser do tipo '.CSV' ou '.csv'! Confira!";
                                            die();
                                        }
                                        break;
                }
                echo "1";
                break;
                case "importarXml":
                    switch ($_REQUEST['table']){
                        case 'clientes':
                            /*$sql = "TRUNCATE clients";
                            mysqli_query($con, $sql) or die(mysqli_error($con));
                            $sql = "TRUNCATE pessoa_fisicas";
                            mysqli_query($con, $sql) or die(mysqli_error($con));
                            $sql = "TRUNCATE pessoa_juridicas";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/            
                            // Abrir arquivo para leitura
                            if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                $link = $_FILES['arquivoXml']['tmp_name'];
                                $xml = simplexml_load_file($link);
                                foreach ($xml->cliente as $key => $value){
                                    $type_person = ($value->tipo_cliente == 'Física') ? "F" : "J";
                                    $sql = "SELECT * FROM clients WHERE id = '".$value->id."'";
                                    $query = mysqli_query($con, $sql);
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO clients (id, email, type_person, password, created_at, updated_at) VALUES ('".$value->id."', '" .$value->email . "', '".$type_person."', '".$value->senha."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $idCliente = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE clients SET email = '".$value->email."', type_person = '".$type_person."', password = '".$value->senha."', ");
                                        $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        $idCliente = $value->id;
                                    }
                                    $nacionalidade = ($value->nacionalidade) ? ($value->nacionalidade) : ($value->nacionalidadeEmpresa);
                                    $sql = "SELECT * FROM nationalities WHERE name = '".$nacionalidade."'";
                                    $query2 = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (mysqli_num_rows($query2)){
                                        $row2 = mysqli_fetch_array($query2);
                                        $nacionalidade = $row2['id'];
                                    }
                                    else{
                                        $sql = "INSERT INTO nationalities (name, padrao, status, created_at, updated_at) VALUES ('".$nacionalidade."', '0', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $nacionalidade = mysqli_insert_id($con);
                                    }
                                    if ($type_person == 'F'){
                                        $sql = "SELECT * FROM pessoa_fisicas WHERE client = '".$idCliente."'";
                                        $query2 = mysqli_query($con, $sql);
                                        if (!mysqli_num_rows($query2)){
                                            $sql = utf8_encode("INSERT INTO pessoa_fisicas (client, name, cpf, rg, dtNasc, cel, nationality, status, created_at, updated_at) VALUES ('".$idCliente."', '".$value->name."', '".$value->cpf."', '".$value->rg."', '".$value->dataNascimento."', '".$value->celular."', '".$nacionalidade."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                        else{
                                            $sql = utf8_encode("UPDATE pessoa_fisicas SET name = '".$value->name."', cpf = '".$value->cpf."', rg = '".$value->rg."', dtNasc = '".$value->dataNascimento."', cel = '".$value->celular."', nationality = '".$nacionalidade."', status = '1', updated_at = '".date('Y-m-d H:i:s')."' WHERE client = '".$idCliente."'");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                    }
                                    else{
                                        $sql = "SELECT * FROM pessoa_juridicas WHERE client = '".$idCliente."'";
                                        $query2 = mysqli_query($con, $sql);
                                        if (!mysqli_num_rows($query2)){
                                            $sql = utf8_encode("INSERT INTO pessoa_juridicas (client, razaoSocial, nomeFantasia, contato, cnpj, im, ie, dataAbertura, cel, telefone, nationality, status, created_at, updated_at) VALUES ('".$idCliente."', '".$value->razaoSocial."', '".$value->nomeFantasia."', '".$value->nomeContato."', '".$value->cnpj."', '".$value->ie."', '".$value->im."', '".$value->dataAbertura."', '".$value->cel."', '".$value->telefone."', '".$nacionalidade."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                        else{
                                            $sql = utf8_encode("UPDATE pessoa_juridicas SET razaoSocial = '".$value->razaoSocial."', nomeFantasia = '".$value->nomeFantasia."', contato = '".$value->nomeContato."', cnpj = '".$value->cnpj."', ie = '".$value->ie."', im = '".$value->im."', dataAbertura = '".$value->dataAbertura."', cel = '".$value->cel."', telefone = '".$value->telefone."', nationality = '".$nacionalidade."', status = '1', updated_at = '".date('Y-m-d H:i:s')."' WHERE client = '".$idCliente."'");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                    }
                                }
                            }
                            else{
                                echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                die();
                            }
                            //carrega o arquivo XML e retornando um Array
                            break;
                            case "enderecos":
                                    /*$sql = "TRUNCATE addresses";
                                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                    // Abrir arquivo para leitura
                                    if (preg_match('/.xml/', $_FILES['arquivoEnderecosXml']['name']) || preg_match("/.XML/", $_FILES['arquivoEnderecosXml']['name'])){
                                        $link = $_FILES['arquivoEnderecosXml']['tmp_name'];
                                        $xml = simplexml_load_file($link);
                                        foreach ($xml->endereco as $key => $value){
                                            $sql = "SELECT * FROM countries WHERE name = '".($value->country)."'";
                                            $query = mysqli_query($con, $sql);
                                            if (mysqli_num_rows($query)){
                                                $row = mysqli_fetch_array($query);
                                                $country = $row['id'];
                                            }
                                            else{
                                                $sql = ("INSERT INTO countries VALUES (name, padrao, status, created_at, updated_at) 
                                                VALUES ('".($value->country)."', '0', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                                $country = mysqli_insert_id($con);
                                            }
                                            $sql = "SELECT * FROM addresses WHERE id = '".$value->id."'";
                                            $query = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO clients (id, email, type_person, password, created_at, updated_at) VALUES ('".$value->id."', '" .$value->email . "', '".$type_person."', '".$value->senha."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $idCliente = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE addresses SET country = '".$country."', ");
                                                $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                                $idCliente = $value->id;
                                            }
                                        }
                                    }
                                    else{
                                        echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                        die();
                                    }
                                    //carrega o arquivo XML e retornando um Array
                                break;
                            case "statusPedido":
                                    /*$sql = "TRUNCATE requests_statuses";
                                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                    // Abrir arquivo para leitura
                                    if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                        $link = $_FILES['arquivoXml']['tmp_name'];
                                        $xml = simplexml_load_file($link);
                                        foreach ($xml->statusPedido as $key => $value){
                                            $sql = "SELECT * FROM requests_statuses WHERE id = '".$value->id."'";
                                            $query = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO requests_statuses (id, name, sigla, color, background, send_email, email, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->sigla."', '".$value->color."', '".$value->background."', '".$value->send_email."', '".str_replace("<br />", "\r\n", $value->email)."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                            }
                                            else{
                                                $sql = ("UPDATE requests_statuses SET name = '".$value->name."', sigla = '".$value->sigla."', color = '".$value->color."', background = '".$value->background."', send_email = '".$value->send_email."', email = '".str_replace("<br />", "\r\n", $value->email)."', ");
                                                $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                    else{
                                        echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                        die();
                                    }
                                    //carrega o arquivo XML e retornando um Array
                                break;
                            case "comentariosProduto":
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    /*$sql = "TRUNCATE products_reviews";
                                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                    // Abrir arquivo para leitura
                                        $link = $_FILES['arquivoXml']['tmp_name'];
                                        $xml = simplexml_load_file($link);
                                        foreach ($xml->comentarioProduto as $key => $value){
                                            $sql = "SELECT * FROM products_reviews WHERE id = '".$value->id."'";
                                            $query = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO products_reviews (id, nome, email, product, avaliacao, mensagem, status, created_at, updated_at) VALUES ('".$value->id."', '" .$value->nome . "', '".$value->email."', '".$value->idProduto."', '".$value->avaliacao."', '".$value->mensagem."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                            }
                                            else{
                                                $sql = ("UPDATE products_reviews SET nome = '".$value->nome."', email= '".$value->email."', product = '".$value->idProduto."', avaliacao = '".$value->avaliacao."', mensagem = '".$value->mensagem."', status = '".$value->status."', ");
                                                $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                    else{
                                        echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                        die();
                                    }
                                    //carrega o arquivo XML e retornando um Array
                                break;                                
                                case "solicitacaoComentario":
                                    /*$sql = "TRUNCATE products_reviews_solicitas";
                                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                    // Abrir arquivo para leitura
                                    if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                        $link = $_FILES['arquivoXml']['tmp_name'];
                                        $xml = simplexml_load_file($link);
                                        foreach ($xml->solicitacaoComentario as $key => $value){
                                            $sql = "SELECT * FROM products_reviews_solicitas WHERE id = '".$value->id."'";
                                            $query = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO products_reviews_solicitas (id, nome, email, product, avaliacao, mensagem, status, created_at, updated_at) VALUES ('".$value->id."', '" .$value->nome . "', '".$value->email."', '".$value->idProduto."', '".$value->avaliacao."', '".$value->mensagem."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                echo $sql;
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                            }
                                            else{
                                                $sql = ("UPDATE products_reviews_solicitas SET avaliacao = '".$value->avaliacao."', mensagem = '".$value->mensagem."', ");
                                                $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }           
                                            if ($value->status == 1){
                                                $sql = ("UPDATE products_reviews SET avaliacao = '".$value->avaliacao."', mensagem = '".$value->mensagem."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$value->idComentario."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                                $sql = "DELETE FROM products_reviews_solicitas WHERE id = '".$value->id."'";
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                            }
                                        }
                                    }
                                    else{
                                        echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                        die();
                                    }
                                    //carrega o arquivo XML e retornando um Array
                                break;                              
                            case "listasPresentes":
                                /*$sql = "TRUNCATE presents_lists";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->listaPresente as $key => $value){
                                        $s = 1;
                                        $sql = "SELECT * FROM presents_lists WHERE id != '".$value->id."' AND slug = '".$value->slug."'";
                                        $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                        while (mysqli_num_rows($query)){
                                            $value->slug .= $s;
                                            $sql = "SELECT * FROM presents_lists WHERE id != '".$value->id."' AND slug = '".$value->slug."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            $s++;
                                        }
                                        $sql = "SELECT * FROM presents_lists WHERE id = '".$value->id."'";
                                        $query = mysqli_query($con, $sql);
                                        if (!mysqli_num_rows($query)){
                                            $sql = ("INSERT INTO presents_lists (id, client, nomeAniversariante, dataAniversario, slug, nomeMae, nomePai, idade, status, cep, address, number, complement, neighborhood, city, state, created_at, updated_at) VALUES ('".$value->id."', '" .$value->client . "', '".$value->nomeAniversariante."', '".$value->dataAniversario."', '".$value->slug."', '".$value->nomeMae."', '".$value->nomePai."', '".$value->idade."', '".$value->status."', '".$value->cep."', '".$value->address."', '".$value->number."', '".$value->complement."', '".$value->neighborhood."', '".$value->city."', '".$value->state."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                        else{
                                            $sql = ("UPDATE presents_lists SET nomeAniversariante = '".$value->nomeAniversariante."', dataAniversario = '".$value->dataAniversario."', slug = '".$value->slug."', ");
                                            $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                            mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;                       
                            case "presentes":
                                /*$sql = "TRUNCATE presents_lists_products";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoPresenteXml']['name']) || preg_match("/.XML/", $_FILES['arquivoPresenteXml']['name'])){
                                    $link = $_FILES['arquivoPresenteXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->presente as $key => $value){
                                        $sql = "SELECT * FROM presents_lists_products WHERE id = '".$value->id."'";
                                        $query = mysqli_query($con, $sql);
                                        if (!mysqli_num_rows($query)){
                                            $sql = ("INSERT INTO presents_lists_products (id, lista, product, product_item, quantity, ganhou, created_at, updated_at) VALUES ('".$value->id."', '" .$value->lista . "', '".$value->product."', '".$value->product_item."', '".$value->quantity."', '".$value->ganhou."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                        else{
                                            $sql = ("UPDATE presents_lists_products SET quantity = '".$value->quantity."', ganhou = '".$value->ganhou."', ");
                                            $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                            mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;                    
                            case "convidados":
                                /*$sql = "TRUNCATE presents_lists_guests";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoConvidadosXml']['name']) || preg_match("/.XML/", $_FILES['arquivoConvidadosXml']['name'])){
                                    $link = $_FILES['arquivoConvidadosXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->convidado as $key => $value){
                                        $sql = "SELECT * FROM presents_lists_guests WHERE id = '".$value->id."'";
                                        $query = mysqli_query($con, $sql);
                                        if (!mysqli_num_rows($query)){
                                            $sql = ("INSERT INTO presents_lists_guests (lista, name, email, cel, created_at, updated_at) VALUES ('" .$value->lista . "', '".$value->nomeConvidado."', '".$value->emailConvidado."', '".$value->celConvidado."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                        else{
                                            $sql = ("UPDATE presents_lists_guests SET name = '".$value->nomeConvidado."', email = '".$value->emailConvidado."', cel = '".$value->celConvidado."', ");
                                            $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                            mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;                  
                            case "banners":
                                /*$sql = "TRUNCATE banners";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->banner as $key => $value){
                                        if ($value->img){
                                            copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                        }
                                        if ($value->background){
                                            copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                        }
                                        $vet = explode(' - ', $value->target);
                                        $target = $vet[0];
                                        $nomeTarget = $vet[1];
                                        $vet = explode(' - ', $value->posicao);
                                        $position = $vet[0];
                                        $nomePosicao = $vet[1];
                                        $sql = "SELECT * FROM targets WHERE id = '".($target)."'";
                                        $query = mysqli_query($con, $sql);
                                        if (!mysqli_num_rows($query)){
                                            $sql = ("INSERT INTO targets (id, name, code, status, created_at, updated_at) VALUES ('".($target)."', '".($nomeTarget)."', '_parent', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                            $target = mysqli_insert_id($con);
                                        }
                                        $sql = "SELECT * FROM positions WHERE id = '".($position)."'";
                                        $query = mysqli_query($con, $sql);
                                        if (!mysqli_num_rows($query)){
                                            $sql = ("INSERT INTO positions (id, name, status, created_at, updated_at) VALUES ('".($position)."', '".($nomePosicao)."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                            $position = mysqli_insert_id($con);
                                        }
                                        $sql = "SELECT * FROM banners WHERE id = '".$value->id."'";
                                        $query = mysqli_query($con, $sql);
                                        if (!mysqli_num_rows($query)){
                                            $sql = ("INSERT INTO banners (name, slug, description, position, link, target, tipo, qual, status, img, background, created_at, updated_at) VALUES ('".$value->name."', '".$value->urlAmigavel."', '".$value->description."', '".$position."', '".$value->link."', '".$target."', '".$value->tipo."', '".$value->qual."', '".$value->status."', '".$value->img."', '".$value->background."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                        }
                                        else{
                                            $sql = ("UPDATE banners SET name = '".$value->name."', slug = '".$value->urlAmigavel."', description = '".$value->description."', position = '".$position."', link = '".$value->link."', target = '".$target."', tipo = '".$value->tipo."', qual = '".$value->qual."', status = '".$value->status."', img = '".$value->img."', background = '".$value->background."', ");
                                            $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                            mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;            
                            case "pagina":
                                /*$sql = "TRUNCATE pages";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->pagina as $key => $value){
                                        if ($value->id){
                                            $id = $value->id;
                                            $name = $value->name;
                                            $urlAmigavel = $value->urlAmigavel;
                                            $descricoes = $value->descricoes;
                                            $subname = $value->subname;
                                            $appearsMenu = $value->appearsMenu;
                                            $appearsSite = $value->appearsSite;
                                            $status = $value->status;
                                            $img = $value->img;
                                            $ordem = $value->ordem;
                                            $background = $value->background;
                                            if ($value->img){
                                                copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                            }
                                            if ($value->background){
                                                copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                            }
                                            $vet = explode('|-|', $value->descricoes);
                                            if (count($vet) > 0 && $vet[0]){
                                                foreach ($vet as $chave => $valor){
                                                    $vet2 = explode('|*|', $valor);
                                                    $idPaginaDescricao = addslashes($vet2[0]);
                                                    $numPaginaDescricao = addslashes($vet2[1]);
                                                    $typePaginaDescricao = addslashes($vet2[2]);
                                                    $textPaginaDescricao = addslashes($vet2[3]);
                                                    $sql = "SELECT * FROM pages_descriptions WHERE id = '".$idPaginaDescricao."'";
                                                    $query2 = mysqli_query($con, $sql) or die(mysqli_error($con));
                                                    if (mysqli_num_rows($query2)){
                                                        $sql = ("UPDATE pages_descriptions SET num = '".$numPaginaDescricao."', type = '".$typePaginaDescricao."', text = '".$textPaginaDescricao."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$idPaginaDescricao."'");
                                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                                    }
                                                    else{
                                                        $sql = ("INSERT INTO pages_descriptions (id, num, type, text, created_at, updated_at) VALUES ('".$idPaginaDescricao."', '".$numPaginaDescricao."', '".$textPaginaDescricao."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                                    }
                                                }
                                            }
                                            $sql = "SELECT * FROM pages WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO pages (id, name, slug, subname, appearsMenu, appearsSite, ordem, status, created_at, updated_at) VALUES ('".$id."', '" .$value->nome . "', '".$value->slug."', '".$value->subname."', '".$value->appearsMenu."', '".$value->appearsSite."', '".$value->ordem."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE pages SET name = '".$name."', slug = '".$urlAmigavel."', subname = '".$subname."', appearsMenu = '".$value->appearsMenu."', appearsSite='".$value->appearsSite."', status = '".$value->status."', img = '".$value->img."', background = '".$value->background."', ordem = '".$value->ordem."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;          
                            case "subitems":
                                /*$sql = "TRUNCATE subitems";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->subitem as $key => $value){
                                        if ($value->id){
                                            $id = $value->id;
                                            $page = $value->page;
                                            $nomePagina = $value->nomePagina;
                                            $slugPagina = $value->slugPagina;
                                            $name = $value->name;
                                            $urlAmigavel = $value->urlAmigavel;
                                            $descricao = $value->description;
                                            $subname = $value->subname;
                                            $appearsImg = $value->appearsImg;
                                            $status = $value->status;
                                            $img = $value->img;
                                            if ($value->img){
                                                copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                            }/*
                                            if ($value->background){
                                                copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                            }*/
                                            $sql = "SELECT * FROM pages WHERE name = '".($nomePagina)."'";
                                            $query = mysqli_query($con, $sql);
                                            if (mysqli_num_rows($query)){
                                                $row = mysqli_fetch_array($query);
                                                $page = $row['id'];
                                            }
                                            else{
                                                $sql = ("INSERT INTO pages (name, slug, status, created_at, updated_at) VALUES ('".($nomePagina)."', '".$slugPagina."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql);
                                                $page = mysqli_insert_id($con);
                                            }
                                            $sql = "SELECT * FROM subitems WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO subitems (id, page, name, slug, subname, description, appearsImg, status, created_at, updated_at) VALUES ('".$id."', '".$page."', '" .$value->nome . "', '".$value->urlAmigavel."', '".$value->subname."', '".$value->description."', '".$value->appearsImg."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE subitems SET page = '".$page."', name = '".$name."', slug = '".$urlAmigavel."', subname = '".$subname."', description = '".$value->description."', appearsImg='".$value->appearsImg."', status = '".$value->status."', img = '".$value->img."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;        
                            case "categorias":
                                /*$sql = "TRUNCATE categories";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->categoria as $key => $value){
                                        if ($value->id){
                                            $id = $value->id;
                                            $idPai = $value->idPai;
                                            $name = $value->name;
                                            $slug = $value->urlAmigavel;
                                            $aparece_menu = $value->aparece_menu;
                                            $status = $value->status;
                                            $img = $value->img;
                                            $background = $value->background;
                                            if ($value->img){
                                                copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                            }
                                            if ($value->background){
                                                copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                            }
                                            $sql = "SELECT * FROM categories WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO categories (id, name, slug, idPai, aparece_menu, img, background, status, created_at, updated_at) VALUES ('".$id."', '" .$name . "', '".$slug."', '".$idPai."', '".$aparece_menu."', '".$img."', '".$background."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE categories SET idPai = '".$idPai."', name = '".$name."', slug = '".$slug."', aparece_menu = '".$aparece_menu."', img = '".$img."', background = '".$background."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;
                            case "atributos":
                                /*$sql = "TRUNCATE subitems";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->atributo as $key => $value){
                                        if ($value->id){
                                            $id = $value->id;
                                            $name = $value->name;
                                            $urlAmigavel = $value->urlAmigavel;
                                            $descricao = $value->description;
                                            $subname = $value->subname;
                                            $appearsImg = $value->appearsImg;
                                            $status = $value->status;
                                            $img = $value->img;
                                            if ($value->img){
                                                copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                            }/*
                                            if ($value->background){
                                                copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                            }*/
                                            $sql = "SELECT * FROM attributes WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO pages (id, name, status, created_at, updated_at) VALUES ('".$id."', '" .$value->nome . "', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE attributes SET name = '".$name."', status = '".$value->status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;
                            case "marcas":
                                /*$sql = "TRUNCATE brands";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->marca as $key => $value){
                                        if ($value->id){
                                            $id = $value->id;
                                            $name = $value->name;
                                            $urlAmigavel = $value->urlAmigavel;
                                            $descricao = $value->description;
                                            $subname = $value->subname;
                                            $appearsImg = $value->appearsImg;
                                            $img = $value->img;
                                            $background = $value->background;
                                            if ($value->img){
                                                copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                            }
                                            if ($value->background){
                                                copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                            }
                                            $sql = "SELECT * FROM brands WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO brands (id, name, status, created_at, updated_at) VALUES ('".$id."', '" .$value->nome . "', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE brands SET name = '".$name."', slug = '".$urlAmigavel."', description = '".$descricao."', img = '".$img."', background = '".$background."', status = '".$value->status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;
                            case "selos":
                                /*$sql = "TRUNCATE stamps";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->selo as $key => $value){
                                        if ($value->id){
                                            $id = $value->id;
                                            $name = $value->name;
                                            $urlAmigavel = $value->urlAmigavel;
                                            $descricao = $value->description;
                                            $subname = $value->subname;
                                            $appearsImg = $value->appearsImg;
                                            $img = $value->img;
                                            $background = $value->background;
                                            if ($value->img){
                                                copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                            }
                                            if ($value->background){
                                                copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                            }
                                            $sql = "SELECT * FROM stamps WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO stamps (id, name, slug, description, status, created_at, updated_at) VALUES ('".$id."', '" .$value->nome . "', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE stamps SET name = '".$name."', slug = '".$urlAmigavel."', description = '".$descricao."', img = '".$img."', background = '".$background."', status = '".$value->status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;
                            case "sugestoes":
                                $sql = "TRUNCATE suggestions";
                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->sugestao as $key => $value){
                                        if ($value->id){
                                            $id = $value->id;
                                            $name = $value->name;
                                            $urlAmigavel = $value->urlAmigavel;
                                            $descricao = $value->description;
                                            $subname = $value->subname;
                                            $appearsImg = $value->appearsImg;
                                            $img = $value->img;
                                            $background = $value->background;
                                            if ($value->img){
                                                copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                            }
                                            if ($value->background){
                                                copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                            }
                                            $sql = "SELECT * FROM suggestions WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO suggestions (id, name, slug, description, status, created_at, updated_at) VALUES ('".$id."', '" .$name . "',  '" .$value->slug . "',  '" .$descricao . "', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE suggestions SET name = '".$name."', slug = '".$urlAmigavel."', description = '".$descricao."', img = '".$img."', background = '".$background."', status = '".$value->status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;
                            case "relacionamentos":
                                /*$sql = "TRUNCATE relationships";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->sugestao as $key => $value){
                                        if ($value->id){
                                            $id = $value->id;
                                            $name = $value->name;
                                            $urlAmigavel = $value->urlAmigavel;
                                            $img = $value->img;
                                            $background = $value->background;
                                            if ($value->img){
                                                copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                            }
                                            if ($value->background){
                                                copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                            }
                                            $sql = "SELECT * FROM relationships WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO relationships (id, name, slug, status, created_at, updated_at) VALUES ('".$id."', '" .$value->nome . "', '".$value->status."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE relationships SET name = '".$name."', slug = '".$urlAmigavel."', img = '".$img."', background = '".$background."', status = '".$value->status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;
                            case "produto":
                                /*$sql = "SELECT * FROM categories";
                                $query = mysqli_query($con, $sql);
                                if (mysqli_num_rows($query)){
                                    while ($row = mysqli_fetch_array($query)){
                                        @unlink(DIRETORIO."storage/".$row['img']);
                                        @unlink(DIRETORIO."storage/".$row['background']);
                                    }
                                }
                                $sql = "TRUNCATE categories";
                                $query = mysqli_query($con, $sql);
                                $sql = "SELECT * FROM brands";
                                $query = mysqli_query($con, $sql);
                                if (mysqli_num_rows($query)){
                                    while ($row = mysqli_fetch_array($query)){
                                        @unlink(DIRETORIO."storage/".$row['img']);
                                    }
                                }
                                $sql = "TRUNCATE brands";
                                $query = mysqli_query($con, $sql);
                                $sql = "TRUNCATE attributes";
                                $query = mysqli_query($con, $sql);
                                $sql = "SELECT * FROM suggestions";
                                $query = mysqli_query($con, $sql);
                                if (mysqli_num_rows($query)){
                                    while ($row = mysqli_fetch_array($query)){
                                        @unlink(DIRETORIO."storage/".$row['img']);
                                    }
                                }
                                $sql = "TRUNCATE suggestions";
                                $query = mysqli_query($con, $sql);
                                $sql = "TRUNCATE relationships";
                                $query = mysqli_query($con, $sql);
                                $sql = "SELECT * FROM stamps";
                                $query = mysqli_query($con, $sql);
                                if (mysqli_num_rows($query)){
                                    while ($row = mysqli_fetch_array($query)){
                                        @unlink(DIRETORIO."storage/".$row['img']);
                                    }
                                }
                                $sql = "TRUNCATE stamps";
                                $query = mysqli_query($con, $sql);
                                $sql = "SELECT * FROM products";
                                $query = mysqli_query($con, $sql);
                                if (mysqli_num_rows($query)){
                                    while ($row = mysqli_fetch_array($query)){
                                        @unlink(DIRETORIO."storage/".$row['img']);
                                    }
                                }
                                $sql = "TRUNCATE products";
                                $query = mysqli_query($con, $sql);
                                $sql = "TRUNCATE products_items";
                                $query = mysqli_query($con, $sql);
                                $sql = "SELECT * FROM products_images";
                                $query = mysqli_query($con, $sql);
                                if (mysqli_num_rows($query)){
                                    while ($row = mysqli_fetch_array($query)){
                                        @unlink(DIRETORIO."storage/".$row['img']);
                                    }
                                }
                                $sql = "TRUNCATE products_images";
                                $query = mysqli_query($con, $sql);
                                $sql = "TRUNCATE products_descriptions";
                                $query = mysqli_query($con, $sql);
                                $sql = "TRUNCATE products_categories";
                                $query = mysqli_query($con, $sql);
                                $sql = "TRUNCATE products_brands";
                                $query = mysqli_query($con, $sql);
                                $sql = "TRUNCATE products_suggestions";
                                $query = mysqli_query($con, $sql);
                                $sql = "TRUNCATE products_attributes";
                                $query = mysqli_query($con, $sql);
                                $sql = "TRUNCATE products_relationships";
                                $query = mysqli_query($con, $sql);
                                $sql = "TRUNCATE products_videos";
                                $query = mysqli_query($con, $sql);
                                $sql = "TRUNCATE products_stamps";
                                $query = mysqli_query($con, $sql);
                                $sql = "TRUNCATE products_reviews";
                                $query = mysqli_query($con, $sql);*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->produto as $key => $value){
                                            $id = $value->id;
                                            $name = $value->name;
                                            $descricoes = addslashes($value->descricoes);
                                            $apareceVitrine = $value->apareceVitrine;
                                            $destaque = $value->destaque;
                                            $compreAgora = $value->compreAgora;
                                            $freteGratis = $value->freteGratis;
                                            $mostraCarrinho = $value->mostraCarrinho;
                                            $promocao = $value->promocao;
                                            $valorContaParaOFrete = $value->valorContaParaOFrete;
                                            $itemRecomendado = $value->itemRecomendado;
                                            $prioridadeBusca = $value->prioridadeBusca;
                                            $apareceLateralEsquerda = $value->apareceLateralEsquerda;
                                            $ofertaDoDia = $value->ofertaDoDia;
                                            $ofertaEspecial = $value->ofertaEspecial;
                                            $slugProduto = strtolower($value->slug);
                                            $background = $value->img;
                                            $status = $value->status;
                                            $idItem = $value->idItem;
                                            $codigo = sprintf("%012s", $idItem);
                                            $nomeItem = $value->nameItem;
                                            $valor = $value->value;
                                            $valorPromocao = $value->promotion;
                                            $validadePromocao = $value->validity_promotion;
                                            $peso = $value->peso;
                                            $altura = $value->altura;
                                            $largura = $value->largura;
                                            $comprimento = $value->comprimento;
                                            $diametro = $value->diametro;
                                            $estoque = $value->estoque;
                                            $statusItem = $value->statusItem;
                                            $atributos = "";
                                            for ($i = 1; $i <= 10; $i++){
                                                if ($value->{"attribute".$i}){
                                                    ${"attribute".$i} = $value->{"attribute".$i};
                                                }
                                                else{
                                                    ${"attribute".$i} = 0;
                                                }
                                            }
                                            $atributos = substr($atributos, 0, -3);
                                            $categorias = addslashes($value->categorias);
                                            $marcas = addslashes($value->marcas);
                                            $sugestoes = addslashes($value->sugestoes);
                                            $relacionamentos = addslashes($value->relacionamentos);
                                            $selos = addslashes($value->selos);
                                            $comentarios = addslashes($value->comentarios);
                                            $videos = addslashes($value->videos);
                                            $imagens = addslashes($value->imagens);
                                            $client = addslashes($value->client);
                                            $sql = "SELECT * FROM products WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO products (name, slug, apareceVitrine, destaque, compreAgora, freteGratis, mostraCarrinho, promocao, valorContaParaOFrete, itemRecomendado, prioridadeBusca, apareceLateralEsquerda, ofertaDoDia, ofertaEspecial, status, client, created_at, updated_at)
                                                VALUES ('" . addslashes(ucwords($name)) . "', '".$slugProduto."', '".$apareceVitrine."', '".$destaque."', '".$compreAgora."', '".$freteGratis."', '".$mostraCarrinho."', '".$promocao."', '".$valorContaParaOFrete."', '".$itemRecomendado."', '".$prioridadeBusca."', '".$apareceLateralEsquerda."', '".$ofertaDoDia."', '".$ofertaEspecial."', '".$status."', '".$client."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $idProduto = mysqli_insert_id($con);
                                            }
                                            else{
                                                $row = mysqli_fetch_array($query);
                                                $idProduto = $row['id'];
                                                $sql = ("UPDATE products SET name = '".$value->name."', slug = '".$slugProduto."', img = '".$background."', apareceVitrine = '".$value->apareceVitrine."', destaque = '".$value->destaque."', freteGratis = '".$value->freteGratis."', mostraCarrinho = '".$value->mostraCarrinho."', promocao = '".$value->promocao."', valorContaParaOFrete = '".$value->valorContaParaOFrete."', itemRecomendado = '".$value->itemRecomendado."', prioridadeBusca = '".$value->prioridadeBusca."', apareceLateralEsquerda = '".$value->apareceLateralEsquerda."', ofertaDoDia = '".$value->ofertaDoDia."', ofertaEspecial = '".$value->ofertaEspecial."', status = '".$value->status."' WHERE id = '".$row['id']."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                            }
                                            if ($background){
                                                copy(DIRETORIO."importar/".$background, DIRETORIO."storage/".$background);
                                                $sql = "UPDATE products SET img = '".$background."' WHERE id = '".$idProduto."'";
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                            }
                                            if ($atributos){
                                                $vet1 = explode('*|*', $atributos);
                                                $i = 0;
                                                if (count($vet1)){
                                                    foreach ($vet1 as $key => $value){
                                                        $idPai = 0;
                                                        $sql = ("SELECT * FROM attributes WHERE id = '".($vet1[$value])."'");
                                                        $query = mysqli_query($con, $sql);
                                                        if (mysqli_num_rows($query)){
                                                            $row = mysqli_fetch_array($query);
                                                            $idAtributo = $row['id'];
                                                            $idAtributoPai = $row['idPai'];
                                                        }
                                                        $sql = "SELECT * FROM products_attributes WHERE product = '".$idProduto."' AND attribute = '".$idAtributo."'";
                                                        $query2 = mysqli_query($con, $sql);
                                                        if (!mysqli_num_rows($query2)){
                                                            $sql = "INSERT INTO products_attributes (product, attribute, created_at, updated_at) VALUES ('".$idProduto."', '".$idAtributo."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                            mysqli_query($con, $sql);
                                                        }
                                                        $sql = "SELECT * FROM products_attributes WHERE product = '".$idProduto."' AND attribute = '".$idAtributoPai."'";
                                                        $query2 = mysqli_query($con, $sql);
                                                        if (!mysqli_num_rows($query2)){
                                                            $sql = "INSERT INTO products_attributes (product, attribute, created_at, updated_at) VALUES ('".$idProduto."', '".$idAtributoPai."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                            mysqli_query($con, $sql);
                                                        }
                                                        $idPai = 0;
                                                    }
                                                }
                                            }
                                            else{
                                                $idAtributo2 = 0;
                                            }
                                            if ($selos){
                                                $vet1 = explode('*|*', $selos);
                                                $i = 0;
                                                if (count($vet1)){
                                                    foreach ($vet1 as $key => $value){
                                                        $vet2 = explode('|*|', $value);
                                                        $sql = ("SELECT * FROM stamps WHERE id = '".$vet2[0]."'");
                                                        $query = mysqli_query($con, $sql);
                                                        if (mysqli_num_rows($query)){
                                                            $row = mysqli_fetch_array($query);
                                                            $idSelo = $row['id'];
                                                        }
                                                        else{
                                                            $sql = ("INSERT INTO stamps (name, status, created_at, updated_at) VALUES ('".$vet2[1]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                            mysqli_query($con, $sql);
                                                            $idSelo = mysqli_insert_id($con);
                                                            if ($vet2[1] && file_exists(DIRETORIO."importar/".$vet2[1])){
                                                                copy(DIRETORIO."importar/".$vet2[2], DIRETORIO."storage/".$vet2[2]);
                                                                $sql = "UPDATE stamps SET img = '".$vet2[2]."' WHERE id = '".$idSelo."'";
                                                                mysqli_query($con, $sql);
                                                            }
                                                        }
                                                        $sql = "SELECT * FROM products_stamps WHERE product = '".$idProduto."' AND stamp = '".$idSelo."'";
                                                        $query2 = mysqli_query($con, $sql);
                                                        if (!mysqli_num_rows($query2)){
                                                            $sql = "INSERT INTO products_stamps (product, stamp, created_at, updated_at) VALUES ('".$idProduto."', '".$idSelo."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                            mysqli_query($con, $sql);
                                                        }
                                                    }
                                                }
                                            }
                                            else{
                                               $idSelo = 0;
                                            }
                                            $sql = "SELECT * FROM products_items WHERE id = '".$idItem."'";
                                            $query = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO products_items (product, code, name, value, promotion, validity_promotion, peso, altura, largura, comprimento, diametro, estoque, status, attribute1, created_at, updated_at) VALUES ('".$idProduto."', '".$codigo."', '" . addslashes(ucwords($nomeItem)) . "', '".$valor."', '".$valorPromocao."', '".$validadePromocao."', '".$peso."', '".$altura."', '".$largura."', '".$comprimento."', '".$diametro."', '".$estoque."', '".$statusItem."', '".$idAtributo2."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql);
                                                $idItem = mysqli_insert_id($con);
                                            }
                                            else{
                                                $row = mysqli_fetch_array($query);
                                                $idItem = $row['id'];
                                                $sql = ("UPDATE products_items SET name = '".addslashes(ucwords($nomeItem))."', product = '".$idProduto."', code = '".$codigo."', value = '".$valor."', promotion = '".$valorPromocao."', validity_promotion = '".$validadePromocao."', peso = '".$peso."', altura = '".$altura."', largura = '".$largura."', comprimento = '".$comprimento."', diametro = '".$diametro."', estoque = '".$estoque."', status = '".$statusItem."'");
                                                for ($i = 1; $i <= 10; $i++){
                                                    $sql .= ", attribute".$i." = '".${"attribute".$i}."'";
                                                }
                                                $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                            }
                                            $vet1 = explode('*|*0123*|*', $categorias);
                                            $i = 0;
                                            if (count($vet1)){
                                                foreach ($vet1 as $key => $value){
                                                    $vet2 = explode('|*|9876|*|', $value);
                                                    if ($key % 2 == 0){
                                                        $idPai = 0;
                                                    }
                                                    else{
                                                        $idPai = $idCategoria;
                                                    }
                                                    $sql = ("SELECT * FROM categories WHERE name = '".$vet2[0]."' AND idPai = '".$idPai."'");
                                                    $query = mysqli_query($con, $sql);
                                                    if (mysqli_num_rows($query)){
                                                        $row = mysqli_fetch_array($query);
                                                        $idCategoria = $row['id'];
                                                    }
                                                    else{
                                                        $sql = ("INSERT INTO categories (name, idPai, slug, status, aparece_menu, created_at, updated_at) VALUES ('".$vet2[0]."', '".$idPai."', '".$vet2[2]."', '1', '".$vet2[3]."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                        mysqli_query($con, $sql);
                                                        $idCategoria = mysqli_insert_id($con);
                                                    }
                                                    if ($vet2[1] && file_exists(DIRETORIO."importar/".$vet2[1])){
                                                        copy(DIRETORIO."importar/".$vet2[1], DIRETORIO."storage/".$vet2[1]);
                                                        $sql = "UPDATE categories SET img = '".$vet2[1]."' WHERE id = '".$idCategoria."'";
                                                        mysqli_query($con, $sql);
                                                    }
                                                    if ($vet2[4] && file_exists(DIRETORIO."importar/".$vet2[4])){
                                                        copy(DIRETORIO."importar/".$vet2[4], DIRETORIO."storage/".$vet2[4]);
                                                        $sql = "UPDATE categories SET background = '".$vet2[4]."' WHERE id = '".$idCategoria."'";
                                                        mysqli_query($con, $sql);
                                                    }
                                                    $sql = "SELECT * FROM products_categories WHERE product = '".$idProduto."' AND categorie = '".$idCategoria."'";
                                                    $query2 = mysqli_query($con, $sql);
                                                    if (!mysqli_num_rows($query2)){
                                                        $sql = "INSERT INTO products_categories (product, categorie, created_at, updated_at) VALUES ('".$idProduto."', '".$idCategoria."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                        mysqli_query($con, $sql);
                                                    }
                                                }
                                            }
                                            $vet1 = explode('*|*', $marcas);
                                            $i = 0;
                                            if (count($vet1)){
                                                foreach ($vet1 as $key => $value){
                                                    if ($value){
                                                        $vet2 = explode('|*|', $value);
                                                        $sql = ("SELECT * FROM brands WHERE name = '".$vet2[0]."'");
                                                        $query = mysqli_query($con, $sql);
                                                        if (mysqli_num_rows($query)){
                                                            $row = mysqli_fetch_array($query);
                                                            $idMarca = $row['id'];
                                                        }
                                                        else{
                                                            $sql = ("INSERT INTO brands (name, slug, status, created_at, updated_at) VALUES ('".$vet2[0]."', '".$vet2[2]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                            mysqli_query($con, $sql);
                                                            $idMarca = mysqli_insert_id($con);
                                                        }
                                                        if ($vet2[1] && file_exists(DIRETORIO."importar/".$vet2[1])){
                                                            copy(DIRETORIO."importar/".$vet2[1], DIRETORIO."storage/".$vet2[1]);
                                                            $sql = "UPDATE brands SET img = '".$vet2[1]."' WHERE id = '".$idMarca."'";
                                                            mysqli_query($con, $sql);
                                                        }
                                                        $sql = "SELECT * FROM products_brands WHERE product = '".$idProduto."' AND brand = '".$idMarca."'";
                                                        $query2 = mysqli_query($con, $sql);
                                                        if (!mysqli_num_rows($query2)){
                                                            $sql = "INSERT INTO products_brands (product, brand, created_at, updated_at) VALUES ('".$idProduto."', '".$idMarca."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                            mysqli_query($con, $sql);
                                                        }
                                                    }
                                                }
                                            }
                                            $vet1 = explode('*|*', $sugestoes);
                                            $i = 0;
                                            if (count($vet1)){
                                                foreach ($vet1 as $key => $value){
                                                    if ($value){
                                                        $vet2 = explode('|*|', $value);
                                                        $sql = ("SELECT * FROM suggestions WHERE name = '".$vet2[0]."'");
                                                        $query = mysqli_query($con, $sql);
                                                        if (mysqli_num_rows($query)){
                                                            $row = mysqli_fetch_array($query);
                                                            $idSugestao = $row['id'];
                                                        }
                                                        else{
                                                            $sql = ("INSERT INTO suggestions (name, slug, status, created_at, updated_at) VALUES ('".$vet2[0]."', '".$vet2[2]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                            mysqli_query($con, $sql);
                                                            $idSugestao = mysqli_insert_id($con);
                                                        }
                                                        $sql = "SELECT * FROM products_suggestions WHERE product = '".$idProduto."' AND suggestion = '".$idSugestao."'";
                                                        $query2 = mysqli_query($con, $sql);
                                                        if (!mysqli_num_rows($query2)){
                                                            $sql = "INSERT INTO products_suggestions (product, suggestion, created_at, updated_at) VALUES ('".$idProduto."', '".$idSugestao."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                            mysqli_query($con, $sql);
                                                        }
                                                        if ($vet2[1] && file_exists(DIRETORIO."importar/".$vet2[1])){
                                                            copy(DIRETORIO."importar/".$vet2[1], DIRETORIO."storage/".$vet2[1]);
                                                            $sql = "UPDATE suggestions SET img = '".$vet2[1]."' WHERE id = '".$idMarca."'";
                                                            mysqli_query($con, $sql);
                                                        }
                                                    }
                                                }
                                            }
                                            $vet1 = explode('*|*', $relacionamentos);
                                            $i = 0;
                                            if (count($vet1)){
                                                foreach ($vet1 as $key => $value){
                                                    if ($value){
                                                        $vet2 = explode('|*|', $value);
                                                        $sql = "SELECT * FROM relationships WHERE slug = '".$vet2[1]."'";
                                                        $query = mysqli_query($con, $sql);
                                                        if (mysqli_num_rows($query)){
                                                            $row = mysqli_fetch_array($query);
                                                            $idRelacionamentos = $row['id'];
                                                        }
                                                        else{
                                                            $sql = ("INSERT INTO relationships (name, slug, status, created_at, updated_at) VALUES ('".$vet2[0]."', '".$vet2[1]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                            mysqli_query($con, $sql);
                                                            $idRelacionamentos = mysqli_insert_id($con);
                                                        }
                                                        $sql = "SELECT * FROM products_relationships WHERE product = '".$idProduto."' AND relationship = '".$idRelacionamentos."'";
                                                        $query2 = mysqli_query($con, $sql);
                                                        if (!mysqli_num_rows($query2)){
                                                            $sql = "INSERT INTO products_relationships (product, relationship, created_at, updated_at) VALUES ('".$idProduto."', '".$idRelacionamentos."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                            mysqli_query($con, $sql);
                                                        }
                                                    }
                                                }
                                            }
                                            $vet1 = explode('*|*', $comentarios);
                                            $i = 0;
                                            $s = 0;
                                            if (count($vet1)){
                                                foreach ($vet1 as $key => $value){
                                                    if ($value){
                                                        $vet2 = explode('|*|', $value);
                                                        $sql = ("SELECT * FROM products_reviews WHERE id = '".$vet2[0]."'");
                                                        $query3 = mysqli_query($con, $sql);
                                                        if (!mysqli_num_rows($query3)){
                                                            $sql = ("INSERT INTO products_reviews (product, nome, email, avaliacao, mensagem, status, created_at, updated_at) VALUES ('".$idProduto."', '".$vet2[0]."', '".$vet2[1]."', '".$vet2[3]."', '".$vet2[2]."', '1', '".$vet2[4]."', '".$vet2[5]."')");
                                                            mysqli_query($con, $sql);
                                                            $s++;
                                                        }
                                                    }
                                                }
                                            }
                                            $vet1 = explode('*|*', $descricoes);
                                            $i = 0;
                                            if (count($vet1)){
                                                foreach ($vet1 as $key => $value){
                                                    if ($value){
                                                        $vet2 = explode('|*|', $value);
                                                        $sql = ("SELECT * FROM products_descriptions WHERE id = '".$vet2[0]."'");
                                                        $query3 = mysqli_query($con, $sql);
                                                        if (!mysqli_num_rows($query3)){
                                                            $sql = ("INSERT INTO products_descriptions (product, num, text, type, created_at, updated_at) VALUES ('".$idProduto."', '".$i."', '".$vet2[2]."', '".$vet2[1]."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                            mysqli_query($con, $sql);
                                                        }
                                                        else{
                                                            $sql = ("UPDATE products_descriptions SET num = '".$i."', text = '".$vet2[2]."', type = '".$vet2[1]."' WHERE id = '".$vet2[0]."'");
                                                            mysqli_query($con, $sql);
                                                        }
                                                        $i++;
                                                    }
                                                }
                                            }
                                            $vet2 = explode('*|*', $imagens);
                                            $i = 0;
                                            if (count($vet2)){
                                                foreach($vet2 as $key => $value){
                                                    $vet3 = explode('|*|', $value);
                                                    $sql = "SELECT * FROM products_images WHERE id = '".$vet3[0]."'";
                                                    $query = mysqli_query($con, $sql);
                                                    if (!mysqli_num_rows($query)){
                                                        copy(DIRETORIO.'importar/'.$vet3[2], DIRETORIO."storage/".$vet3[2]);
                                                        $sql = ("INSERT INTO products_images (name, product, product_item, img, status, created_at, updated_at) VALUES ('" . addslashes(ucwords($vet3[1])) . "', '".$idProduto."', '".$idItem."', '".$vet3[2]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                        mysqli_query($con, $sql);
                                                    }
                                                }
                                            }
                                            $vet2 = explode('*|*', $videos);
                                            $i = 0;
                                            if (count($vet2) && $idProduto != $idProduto2){
                                                foreach($vet2 as $key => $value){
                                                    if ($value){
                                                        $vet3 = explode('|*|', $value);
                                                        $sql = "SELECT * FROM products_videos WHERE id = '".$vet3[0]."'";
                                                        $query = mysqli_query($con, $sql);
                                                        if (!mysqli_num_rows($query)){
                                                            $sql = ("INSERT INTO products_videos (name, v, product, status, created_at, updated_at) VALUES ('" . addslashes(ucwords($vet3[1])) . "', '".addslashes($vet3[2])."', '".$idProduto."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                            mysqli_query($con, $sql);
                                                        }
                                                        else{
                                                            $sql = ("UPDATE products_videos SET name = '".$vet3[1]."', v = '".addslashes($vet3[2])."' WHERE id = '".$vet3[0]."'");
                                                            mysqli_query($con, $sql);
                                                        }
                                                    }
                                                }
                                            }
                                            $idProduto2 = $idProduto;
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;
                            case "parceiros":
                                /*$sql = "TRUNCATE partners";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->parceiro as $key => $value){
                                        if ($value->id){
                                            $id = $value->id;
                                            $name = $value->name;
                                            $description = $value->description;
                                            $link = $value->link;
                                            $sql = "SELECT * FROM partners WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO partners (id, name, description, link, status, created_at, updated_at) VALUES ('".$id."', '" .$value->name . "', '".$value->description."', '".$value->link."', '".$value->status."', '".$value->cliques."', '".$value->recebidos."', '".$value->img."', '".$value->background."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE partners SET name = '".$name."', description = '".$description."', link = '".$link."', status = '".$value->status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;
                            case "redesSociais":
                                /*$sql = "TRUNCATE social_networks";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->redeSocial as $key => $value){
                                        if ($value->id){
                                            $id = $value->id;
                                            $name = $value->name;
                                            $description = $value->description;
                                            $link = $value->link;
                                            if ($value->img){
                                                copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                            }
                                            if ($value->background){
                                                copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                            }
                                            $sql = "SELECT * FROM social_networks WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO social_networks (id, name, description, link, status, cliques, recebidos, img, background, created_at, updated_at) VALUES ('".$id."', '" .$value->name . "', '".$value->description."', '".$value->link."', '".$value->status."', , '".$value->cliques."', '".$value->recebidos."', '".$value->img."', '".$value->background."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE social_networks SET name = '".$name."', description = '".$description."', link = '".$link."', cliques = '".$value->cliques."', recebidos = '".$value->recebidos."', img = '".$value->img."', background = '".$value->background."', status = '".$value->status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;
                            case "cupomDesconto":
                                /*$sql = "TRUNCATE coupon_discounts";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->cupomDesconto as $key => $value){
                                        if ($value->id){
                                            $id = $value->id;
                                            $sql = "SELECT * FROM coupon_discounts WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO coupon_discounts (");
                                                foreach($value as $chave => $valor){
                                                    if ($chave != 'created_at' && $chave != 'updated_at'){
                                                        $sql .= $chave.", "; 
                                                    }
                                                }
                                                $sql .= "created_at, updated_at) VALUES (";
                                                foreach($value as $chave => $valor){
                                                    if ($chave != 'created_at' && $chave != 'updated_at'){
                                                        $sql .= "'".$valor."', "; 
                                                    }
                                                }
                                                $sql .= "'".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE coupon_discounts SET ");
                                                foreach($value as $chave => $valor){
                                                    if ($chave != 'created_at' && $chave != 'updated_at'){
                                                        $sql .= $chave." = '".$valor."', "; 
                                                    }
                                                }
                                                $sql .= "updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'";
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;
                            case "valePresente":
                                /*$sql = "TRUNCATE vales";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->valePresente as $key => $value){
                                        if ($value->id){
                                            $id = $value->id;
                                            $sql = "SELECT * FROM vales WHERE id = '".$id."'";
                                            $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO vales (");
                                                foreach($value as $chave => $valor){
                                                    if ($chave != 'created_at' && $chave != 'updated_at'){
                                                        $sql .= $chave.", "; 
                                                    }
                                                }
                                                $sql .= "created_at, updated_at) VALUES (";
                                                foreach($value as $chave => $valor){
                                                    if ($chave != 'created_at' && $chave != 'updated_at'){
                                                        $sql .= "'".$valor."', "; 
                                                    }
                                                }
                                                $sql .= "'".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE vales SET ");
                                                foreach($value as $chave => $valor){
                                                    if ($chave != 'created_at' && $chave != 'updated_at'){
                                                        $sql .= $chave." = '".$valor."', "; 
                                                    }
                                                }
                                                $sql .= "updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'";
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;
                            case "paramAdmin":
                                /*$sql = "TRUNCATE param_admins";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->paramAdmin as $key => $value){
                                        $sql = "SELECT * FROM param_admins WHERE id = '".$value->id."'";
                                        $query = mysqli_query($con, $sql);
                                        if (!mysqli_num_rows($query)){
                                            $sql = ("INSERT INTO param_admins (id, name, value, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->value."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                            $linha[0] = mysqli_insert_id($con);
                                        }
                                        else{
                                            $sql = ("UPDATE param_admins SET name = '".$value->name."', value = '".$value->value."', ");
                                            $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                            mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;
                            case "paramSite":
                                /*$sql = "TRUNCATE param_sites";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                
                                // Abrir arquivo para leitura
                                if (preg_match('/.xml/', $_FILES['arquivoXml']['name']) || preg_match("/.XML/", $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->paramSite as $key => $value){
                                        $sql = "SELECT * FROM param_sites WHERE id = '".$value->id."'";
                                        $query = mysqli_query($con, $sql);
                                        if (!mysqli_num_rows($query)){
                                            $sql = ("INSERT INTO param_sites (id, name, type, value, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->value."', '".$value->type."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                            $linha[0] = mysqli_insert_id($con);
                                        }
                                        else{
                                            $sql = ("UPDATE param_sites SET name = '".$value->name."', value = '".$value->value."', type = '".$value->type."', ");
                                            $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                            mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '*.XML' ou '*.xml'! Confira!";
                                    die();
                                }
                                //carrega o arquivo XML e retornando um Array
                            break;
                        case "versao":
                            /*$sql = "TRUNCATE versions";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
            
                            // Abrir arquivo para leitura
                            $link = $_FILES['arquivoXml']['tmp_name'];
                            $xml = simplexml_load_file($link);
                            foreach ($xml->version as $key => $value){
                                $sql = "SELECT * FROM versions WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                if (isset($value->img) && file_exists(DIRETORIO."importar/".$value->img)){
                                    copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                    $img = $value->img;
                                }
                                else{
                                    $img = "";
                                }
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO versions (id, name, description, img, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->description."', '".$img."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE versions SET name = '".$value->name."', description = '".$value->description."', date = '".$value->date."', ");
                                    if ($img){
                                    $sql .= "img = '".$img."', ";
                                    }
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            //carrega o arquivo XML e retornando um Array
                        break;
                    case "feriado":
                            /*$sql = "TRUNCATE versions";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
            
                            // Abrir arquivo para leitura
                        if (preg_match('/.XML/', $_FILES['arquivoXml']['name']) || preg_match('/.xml/', $_FILES['arquivoXml']['name'])){
                            $link = $_FILES['arquivoXml']['tmp_name'];
                            $xml = simplexml_load_file($link);
                            foreach ($xml->holiday as $key => $value){
                                $sql = "SELECT * FROM holidays WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                $status = ($value->status == 'Ativo') ? 1 : 0;
                                $comMsg = ($value->comMsg == 'Sim') ? 1 : 0;
                                $vet = explode('/', $value->date);
                                $value->date = $vet[2]."-".$vet[1]."-".$vet[0];
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO holidays (id, name, date, status, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->date."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE holidays SET name = '".$value->name."', date = '".$value->date."', comMsg = '".$comMsg."', msg = '".$value->msg."', status = '".$status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.XML' ou '.xml'! Confira!";
                            die();
                        }
                            //carrega o arquivo XML e retornando um Array
                        break;
                    case "comentarioFeriado":
                            /*$sql = "TRUNCATE versions";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
            
                            // Abrir arquivo para leitura
                        if (preg_match('/.XML/', $_FILES['arquivoXml']['name']) || preg_match('/.xml/', $_FILES['arquivoXml']['name'])){
                            $link = $_FILES['arquivoXml']['tmp_name'];
                            $xml = simplexml_load_file($link);
                            foreach ($xml->holidayComent as $key => $value){
                                $status = ($value->status == 'Pendente') ? 1 : 2;
                                $vet = explode("|-|", $value->feriado);
                                $nomeFeriado = $vet[0];
                                $dataFeriado = $vet[1];
                                $sql = "SELECT * FROM holidays WHERE name = '".($nomeFeriado)."' AND date = '".$dataFeriado."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (mysqli_num_rows($query)){
                                    $row = mysqli_fetch_array($query);
                                    $idFeriado = $row['id'];
                                }
                                else{
                                    $sql = "INSERT INTO holidays (name, date, status, created_at, updated_at) VALUES ('".($nomeFeriado)."', '".$dataFeriado."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $idFeriado = mysqli_insert_id($con);
                                }
                                $vet = explode("|-|", $value->cliente);
                                $nomeCliente = $vet[0];
                                $emailCliente = $vet[1];
                                $sql = "SELECT * FROM clients WHERE email = '".$emailCliente."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (mysqli_num_rows($query)){
                                    $row = mysqli_fetch_array($query);
                                    $idCliente = $row['id'];
                                }
                                else{
                                    $vet = explode('|*|', $nomeCliente);
                                    $nomeCliente = $vet[0];
                                    $contato = $vet[1];
                                    $tpCliente = ($contato) ? "J" : "F";
                                    $sql = "INSERT INTO clients (type_person, email, password, created_at, updated_at) VALUES ('".$tpCliente."', '".$emailCliente."', '".md5('123456')."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $idCliente = mysqli_insert_id($con);
                                    if ($tpCliente == 'F'){
                                        $sql = "INSERT INTO pessoa_fisicas (client, name, dtNasc, created_at, updated_at)
                                        VALUES ('".$idCliente."', '".$nomeCliente."', '9999-12-31', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                    }
                                    else{
                                        $sql = "INSERT INTO pessoa_juridicas (client, razaoSocial, nomeFantasia, contato, dataAbertura, created_at, updated_at)
                                        VALUES ('".$idCliente."', '".$nomeCliente."', '".$nomeCliente."', '".$contato."', '9999-12-31', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                    }
                                }
                                $sql = "SELECT * FROM holidays WHERE name = '".($nomeFeriado)."' AND date = '".$dataFeriado."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (mysqli_num_rows($query)){
                                    $row = mysqli_fetch_array($query);
                                    $idFeriado = $row['id'];
                                }
                                else{
                                    $sql = ("INSERT INTO holidays (name, date, status, created_at, updated_at) VALUES ('".$nomeFeriado."', '".$dataFeriado."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $idFeriado = mysqli_insert_id($con);
                                }
                                $sql = "SELECT * FROM holidays_coments WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                if (mysqli_num_rows($query)){
                                    $row = mysqli_fetch_array($query);
                                    $sql = "UPDATE holidays_coments SET holiday = '".$idFeriado."', client = '".$idCliente."', avaliacao = '".$value->avaliacao."', coment = '".($value->comentario)."', status = '".$status."', ";
                                    $sql .= "updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
                                }
                                else{
                                    $sql = "INSERT INTO holidays_coments (id, holiday, client, avaliacao, coment, status, created_at, updated_at) 
                                    VALUES ('".$value->id."', '".$idFeriado."', '".$idCliente."', '".$value->avaliacao."', '".($value->comentario)."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";                                        
                                }
                                mysqli_query($con, $sql) or die(mysqli_error($con));
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.XML' ou '.xml'! Confira!";
                            die();
                        }
                            //carrega o arquivo XML e retornando um Array
                        break;
                    case "formasPagamento":
                            /*$sql = "TRUNCATE versions";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
            
                            // Abrir arquivo para leitura
                        if (preg_match('/.XML/', $_FILES['arquivoXml']['name']) || preg_match('/.xml/', $_FILES['arquivoXml']['name'])){
                            $link = $_FILES['arquivoXml']['tmp_name'];
                            $xml = simplexml_load_file($link);
                            foreach ($xml->paymentMethod as $key => $value){
                                if (isset($value->img) && file_exists(DIRETORIO."importar/".$value->img)){
                                    copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                    $img = $value->img;
                                }
                                else{
                                    $img = "";
                                }
                                $value->vlParcelaMinima = str_replace("R$ ", "", str_replace(",", ".", str_replace(".", "", $value->vlParcelaMinima)));
                                $sql = "SELECT * FROM payment_methods WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO payment_methods (id, name, vlParcelaMinima, parcelas, img, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->vlParcelaMinima."', '".$value->parcelas."', '".$value->img."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE payment_methods SET name = '".$value->name."', vlParcelaMinima = '".$value->vlParcelaMinima."', parcelas = '".$value->parcelas."', img = '".$value->img."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.XML' ou '.xml'! Confira!";
                            die();
                        }
                            //carrega o arquivo XML e retornando um Array
                        break;
                    case "nacionalidade":
                            /*$sql = "TRUNCATE nationalities";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
            
                            // Abrir arquivo para leitura
                        if (preg_match('/.XML/', $_FILES['arquivoXml']['name']) || preg_match('/.xml/', $_FILES['arquivoXml']['name'])){
                            $link = $_FILES['arquivoXml']['tmp_name'];
                            $xml = simplexml_load_file($link);
                            foreach ($xml->nationality as $key => $value){
                                $sql = "SELECT * FROM nationalities WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                $status = ($value->status == 'Ativo') ? 1 : 0;
                                $padrao = ($value->padrao == 'Sim') ? 1 : 0;
                                $vet = explode('/', $value->date);
                                $value->date = $vet[2]."-".$vet[1]."-".$vet[0];
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO nationalities (id, name, date, status, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->date."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE nationalities SET name = '".$value->name."', padrao = '".$padrao."', status = '".$status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.XML' ou '.xml'! Confira!";
                            die();
                        }
                            //carrega o arquivo XML e retornando um Array
                        break;
                        case "pais":
                            /*$sql = "TRUNCATE countries";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
            
                            // Abrir arquivo para leitura
                        if (preg_match('/.XML/', $_FILES['arquivoXml']['name']) || preg_match('/.xml/', $_FILES['arquivoXml']['name'])){
                            $link = $_FILES['arquivoXml']['tmp_name'];
                            $xml = simplexml_load_file($link);
                            foreach ($xml->country as $key => $value){
                                $sql = "SELECT * FROM countries WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                $status = ($value->status == 'Ativo') ? 1 : 0;
                                $padrao = ($value->padrao == 'Sim') ? 1 : 0;
                                $vet = explode('/', $value->date);
                                $value->date = $vet[2]."-".$vet[1]."-".$vet[0];
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO countries (id, name, date, status, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->date."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE countries SET name = '".$value->name."', padrao = '".$padrao."', status = '".$status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.XML' ou '.xml'! Confira!";
                            die();
                        }
                            //carrega o arquivo XML e retornando um Array
                        break;
                        case "formasFrete":
                            /*$sql = "TRUNCATE shipping_methods";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
            
                            // Abrir arquivo para leitura
                        if (preg_match('/.XML/', $_FILES['arquivoXml']['name']) || preg_match('/.xml/', $_FILES['arquivoXml']['name'])){
                            $link = $_FILES['arquivoXml']['tmp_name'];
                            $xml = simplexml_load_file($link);
                            foreach ($xml->shipping_method as $key => $value){
                                $sql = "SELECT * FROM shipping_methods WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                $status = ($value->status == 'Ativa') ? 1 : 0;
                                $vet = explode('/', $value->date);
                                $value->date = $vet[2]."-".$vet[1]."-".$vet[0];
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO shipping_methods (id, name, date, status, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->date."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE shipping_methods SET code = '".$value->code."', name = '".$value->name."', value = '".$value->value."', status = '".$status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.XML' ou '.xml'! Confira!";
                            die();
                        }
                            //carrega o arquivo XML e retornando um Array
                        break;
                        case "posicoes":
                            /*$sql = "TRUNCATE shipping_methods";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
            
                            // Abrir arquivo para leitura
                        if (preg_match('/.XML/', $_FILES['arquivoXml']['name']) || preg_match('/.xml/', $_FILES['arquivoXml']['name'])){
                            $link = $_FILES['arquivoXml']['tmp_name'];
                            $xml = simplexml_load_file($link);
                            foreach ($xml->position as $key => $value){
                                $sql = "SELECT * FROM positions WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                $status = ($value->status == 'Ativa') ? 1 : 0;
                                $vet = explode('/', $value->date);
                                $value->date = $vet[2]."-".$vet[1]."-".$vet[0];
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO positions (id, name, status, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE positions SET name = '".$value->name."', status = '".$status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.XML' ou '.xml'! Confira!";
                            die();
                        }
                            //carrega o arquivo XML e retornando um Array
                        break;
                        case "tempoBanner":
                            /*$sql = "TRUNCATE shipping_methods";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
            
                            // Abrir arquivo para leitura
                        if (preg_match('/.XML/', $_FILES['arquivoXml']['name']) || preg_match('/.xml/', $_FILES['arquivoXml']['name'])){
                            $link = $_FILES['arquivoXml']['tmp_name'];
                            $xml = simplexml_load_file($link);
                            foreach ($xml->timeBanner as $key => $value){
                                $sql = "SELECT * FROM time_banners WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                $status = ($value->status == 'Ativo') ? 1 : 0;
                                $vet = explode('/', $value->date);
                                $value->date = $vet[2]."-".$vet[1]."-".$vet[0];
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO time_banners (id, name, days, status, created_at, updated_at) VALUES ('".$value->id."', '".$value->name."', '" .$value->days . "', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE time_banners SET name = '".$value->name."', days = '".$value->days."', status = '".$status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.XML' ou '.xml'! Confira!";
                            die();
                        }
                            //carrega o arquivo XML e retornando um Array
                        break;
                        case "target":
                            /*$sql = "TRUNCATE shipping_methods";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
            
                            // Abrir arquivo para leitura
                        if (preg_match('/.XML/', $_FILES['arquivoXml']['name']) || preg_match('/.xml/', $_FILES['arquivoXml']['name'])){
                            $link = $_FILES['arquivoXml']['tmp_name'];
                            $xml = simplexml_load_file($link);
                            foreach ($xml->target as $key => $value){
                                $sql = "SELECT * FROM targets WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                $status = ($value->status == 'Ativo') ? 1 : 0;
                                $vet = explode('/', $value->date);
                                $value->date = $vet[2]."-".$vet[1]."-".$vet[0];
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO targets (id, name, code, status, created_at, updated_at) VALUES ('".$value->id."', '".$value->name."', '" .$value->code. "', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE targets SET name = '".$value->name."', code = '".$value->code."', status = '".$status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.XML' ou '.xml'! Confira!";
                            die();
                        }
                            //carrega o arquivo XML e retornando um Array
                        break;
                        case "backgrounds":
                                /*$sql = "TRUNCATE backgrounds";
                                mysqli_query($con, $sql) or die(mysqli_error($con));*/
                
                                // Abrir arquivo para leitura
                            if (preg_match('/.XML/', $_FILES['arquivoXml']['name']) || preg_match('/.xml/', $_FILES['arquivoXml']['name'])){
                                $link = $_FILES['arquivoXml']['tmp_name'];
                                $xml = simplexml_load_file($link);
                                foreach ($xml->background as $key => $value){
                                    $sql = "SELECT * FROM backgrounds WHERE id = '".$value->id."'";
                                    $query = mysqli_query($con, $sql);
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO backgrounds (id, name, img, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->img."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE backgrounds SET name = '".$value->name."', img = '".$value->img."', ");
                                        $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                    if ($value->img && file_exists(DIRETORIO."importar/".$value->img)){
                                        copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                    }
                                }
                                reescreveArquivoCss();
                            }
                            else{
                                echo "0|-|O arquivo deve ser do tipo '.XML' ou '.xml'! Confira!";
                                die();
                            }
                                //carrega o arquivo XML e retornando um Array
                            break;
                            case "usuarios":
                                    /*$sql = "TRUNCATE users";
                                    mysqli_query($con, $sql) or die(mysqli_error($con));*/
                    
                                    // Abrir arquivo para leitura
                                if (preg_match('/.XML/', $_FILES['arquivoXml']['name']) || preg_match('/.xml/', $_FILES['arquivoXml']['name'])){
                                    $link = $_FILES['arquivoXml']['tmp_name'];
                                    $xml = simplexml_load_file($link);
                                    foreach ($xml->user as $key => $value){
                                        $value->email_verified_at = ($value->email_verified_at) ? $value->email_verified_at : "0000-00-00 00:00:00";
                                        $sql = "SELECT * FROM users WHERE id = '".$value->id."'";
                                        $query = mysqli_query($con, $sql);
                                        if (!mysqli_num_rows($query)){
                                            $sql = ("INSERT INTO users (id, name, email, password, remember_token, img, email_verified_at, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->email."', '".$value->password."', '".$value->remember_token."', '".$value->img."', '".$value->email_verified_at."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                            mysqli_query($con, $sql) or die(mysqli_error($con));
                                            $linha[0] = mysqli_insert_id($con);
                                        }
                                        else{
                                            $sql = ("UPDATE users SET name = '".$value->name."', email = '".$value->email."', password = '".$value->password."', remember_token = '".$value->remember_token."', img = '".$value->img."', ");
                                            $sql .= ("email_verified_at = '".$value->email_verified_at."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                            mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        }
                                        if ($value->img && file_exists(DIRETORIO."importar/".$value->img)){
                                            copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                        }
                                    }
                                }
                                else{
                                    echo "0|-|O arquivo deve ser do tipo '.XML' ou '.xml'! Confira!";
                                    die();
                                }
                                    //carrega o arquivo XML e retornando um Array
                                break;
                                case "usuariosPre":
                                        /*$sql = "TRUNCATE user_pres";
                                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        
                                        // Abrir arquivo para leitura
                                    if (preg_match('/.XML/', $_FILES['arquivoXml']['name']) || preg_match('/.xml/', $_FILES['arquivoXml']['name'])){
                                        $link = $_FILES['arquivoXml']['tmp_name'];
                                        $xml = simplexml_load_file($link);
                                        foreach ($xml->user as $key => $value){
                                            $sql = "SELECT * FROM user_pres WHERE id = '".$value->id."'";
                                            $query = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query)){
                                                $sql = ("INSERT INTO users (id, name, email, password, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->email."', '".$value->password."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con));
                                                $linha[0] = mysqli_insert_id($con);
                                            }
                                            else{
                                                $sql = ("UPDATE user_pres SET name = '".$value->name."', email = '".$value->email."', password = '".$value->password."', ");
                                                $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                    else{
                                        echo "0|-|O arquivo deve ser do tipo '.XML' ou '.xml'! Confira!";
                                        die();
                                    }
                                        //carrega o arquivo XML e retornando um Array
                                    break;
                    }
                    echo "1";
                    break;
            case "importarJSON":
                switch ($_REQUEST['table']){
                    case "clientes":
                        /*$sql = "TRUNCATE clients";
                        mysqli_query($con, $sql) or die(mysqli_error($con));
                        $sql = "TRUNCATE pessoa_fisicas";
                        mysqli_query($con, $sql) or die(mysqli_error($con));
                        $sql = "TRUNCATE pessoa_juridicas";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                $sql = "SELECT * FROM clients WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO clients (id, email, type_person, password, img, remember_token, created_at, updated_at) VALUES ('".$value->id."', '" .$value->email . "', '".$value->type_person."', '".$value->password."', '".$value->img."', '".$value->remember_token."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $idCliente = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE clients SET email = '".$value->email."', type_person = '".$value->type_person."', password = '".$value->password."', img = '".$value->img."', remember_token = '".$value->remember_token."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'"); 
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    $idCliente = $value->id;
                                }
                                $nacionalidade = ($value->nacionalidade) ? ($value->nacionalidade) : ($value->nacionalidadeEmpresa);
                                $sql = ("SELECT * FROM nationalities WHERE name = '".$nacionalidade."'");
                                $query2 = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (mysqli_num_rows($query2)){
                                    $row2 = mysqli_fetch_array($query2);
                                    $nacionalidade = $row2['id'];
                                }
                                else{
                                    $sql = ("INSERT INTO nationalities (name, padrao, status, created_at, updated_at) VALUES ('".$nacionalidade."', '0', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $nacionalidade = mysqli_insert_id($con);
                                }
                                if ($value->type_person == 'F'){
                                    $sql = "SELECT * FROM pessoa_fisicas WHERE client = '".$idCliente."'";
                                    $query2 = mysqli_query($con, $sql);
                                    if(!mysqli_num_rows($query2)){
                                        $sql = utf8_encode("INSERT INTO pessoa_fisicas (client, name, cpf, rg, dtNasc, cel, nationality, status, created_at, updated_at) VALUES ('".$idCliente."', '".$value->name."', '".$value->cpf."', '".$value->rg."', '".$value->dtNasc."', '".$value->celular."', '".$nacionalidade."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                    }
                                    else{
                                        $sql = utf8_encode("UPDATE pessoa_fisicas SET name = '".$value->name."', cpf = '".$value->cpf."', rg = '".$value->rg."', dtNasc = '".$value->dtNasc."', cel = '".$value->celular."', nationality = '".$nacionalidade."', updated_at = '".date('Y-m-d H:i:s')."' WHERE client = '".$idCliente."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                    }
                                }
                                else{
                                    $sql = "SELECT * FROM pessoa_juridicas WHERE client = '".$idCliente."'";
                                    $query2 = mysqli_query($con, $sql);
                                    if(!mysqli_num_rows($query2)){
                                        $sql = utf8_encode("INSERT INTO pessoa_juridicas (client, razaoSocial, nomeFantasia, contato, cnpj, ie, im, dataAbertura, cel, telefone, nationality, status, created_at, updated_at) VALUES ('".$idCliente."', '".$value->razaoSocial."', '".$value->nomeFantasia."', '".$value->contato."', '".$value->cnpj."', '".$value->ie."', '".$value->im."', '".$value->dataAbertura."', '".$value->cel."', '".$value->telefone."', '".$nacionalidade."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                    }
                                    else{
                                        $sql = utf8_encode("UPDATE pessoa_juridicas SET razaoSocial = '".$value->razaoSocial."', nomeFantasia = '".$value->nomeFantasia."', contato = '".$value->contato."', cnpj = '".$value->cnpj."', ie = '".$value->ie."', im = '".$value->im."', dataAbertura = '".$value->dataAbertura."', cel = '".$value->celEmpresa."', telefone = '".$value->telefone."', nationality = '".$nacionalidade."', updated_at = '".date('Y-m-d H:i:s')."' WHERE client = '".$idCliente."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                    }
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                case "enderecos":
                        /*$sql = "TRUNCATE addresses";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoEnderecosJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoEnderecosJson']['name'])){
                            copy($_FILES['arquivoEnderecosJson']['tmp_name'], DIRETORIO.$_FILES['arquivoEnderecosJson']['name']);
                            $link = $_FILES['arquivoEnderecosJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                foreach ($value as $chave => $valor){
                                    $value->{$chave} = ($valor);
                                }
                                $sql = ("SELECT * FROM countries WHERE name = '".$value->nomePais."'");
                                $query2 = mysqli_query($con, $sql) or die(mysqli_error($con));
                                if (mysqli_num_rows($query2)){
                                    $row2 = mysqli_fetch_array($query2);
                                    $country = $row2['id'];
                                }
                                else{
                                    $sql = ("INSERT INTO countries (name, padrao, status, created_at, updated_at) VALUES ('".$value->nomePais."', '0', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $country = mysqli_insert_id($con);
                                }
                                $sql = "SELECT * FROM addresses WHERE id = '".$value->id."'";
                                $query2 = mysqli_query($con, $sql);
                                if(!mysqli_num_rows($query2)){
                                    $sql = ("INSERT INTO addresses (id, idClient, cep, name, address, number, complement, neighborhood, city, state, country, created_at, updated_at) VALUES ('".$value->id."', '".$_REQUEST['idClienteImportarEnderecosJson']."', '".$value->cep."', '".$value->name."', '".$value->address."', '".$value->number."', '".$value->complement."', '".$value->neighborhood."', '".$value->city."', '".$value->state."', '".$country."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                                else{
                                    $sql = ("UPDATE addresses SET name = '".$value->name."', address = '".$value->address."', number = '".$value->number."', complement = '".$value->complement."', neighborhood = '".$value->neighborhood."', city = '".$value->city."', state = '".$value->state."', country = '".$country."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "statusPedido":
                        /*$sql = "TRUNCATE requests_statuses";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                $sql = "SELECT * FROM requests_statuses WHERE id = '".$value->id."'";
                                $query2 = mysqli_query($con, $sql);
                                if(!mysqli_num_rows($query2)){
                                    $sql = (("INSERT INTO requests_statuses (id, name, sigla, color, background, send_email, email, created_at, updated_at) VALUES ('".$value->id."', '".$value->name."', '".$value->sigla."', '".$value->color."', '".$value->background."', '".$value->send_email."', '".$value->email."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')"));
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                                else{
                                    $sql = (("UPDATE requests_statuses SET name = '".$value->name."', sigla = '".$value->sigla."', color = '".$value->color."', background = '".$value->background."', send_email = '".$value->send_email."', email = '".$value->email."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'"));
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "comentariosProduto":
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            /*$sql = "TRUNCATE products_reviews";
                            mysqli_query($con, $sql) or die(mysqli_error($con));*/
            
                            // Abrir arquivo para leitura
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                $sql = "SELECT * FROM products_reviews WHERE id = '".$value->id."'";
                                $query2 = mysqli_query($con, $sql);
                                if(!mysqli_num_rows($query2)){
                                    $sql = (("INSERT INTO products_reviews (id, nome, email, product, avaliacao, mensagem, status, created_at, updated_at) VALUES ('".$value->id."', '".$value->nome."', '".$value->email."', '".$value->product."', '".$value->avaliacao."', '".$value->mensagem."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')"));
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                                else{
                                    $sql = (("UPDATE products_reviews SET nome = '".$value->nome."', email = '".$value->email."', product = '".$value->product."', avaliacao = '".$value->avaliacao."', mensagem = '".$value->mensagem."', status = '".$value->status."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'"));
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "solicitacaoComentario":
                        /*$sql = "TRUNCATE products_reviews_solicitas";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                $sql = "SELECT * FROM products_reviews_solicitas WHERE id = '".$value->id."'";
                                $query2 = mysqli_query($con, $sql);
                                if(!mysqli_num_rows($query2)){
                                    $sql = (("INSERT INTO products_reviews_solicitas (id, nome, email, product, avaliacao, mensagem, status, created_at, updated_at) VALUES ('".$value->id."', '".$value->nome."', '".$value->email."', '".$value->product."', '".$value->avaliacao."', '".$value->mensagem."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')"));
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                                else{
                                    $sql = (("UPDATE products_reviews_solicitas SET avaliacao = '".$value->avaliacao."', mensagem = '".$value->mensagem."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'"));
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }        
                                if ($value->status == 1){
                                    $sql = ("UPDATE products_reviews SET avaliacao = '".$value->avaliacao."', mensagem = '".$value->mensagem."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$value->id_product_review."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    $sql = "DELETE FROM products_reviews_solicitas WHERE id = '".$value->id."'";
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "listasPresentes":
                        /*$sql = "TRUNCATE presents_lists";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){$s = 1;
                                $sql = "SELECT * FROM presents_lists WHERE id != '".$value->id."' AND slug = '".$value->slug."'";
                                $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                while (mysqli_num_rows($query)){
                                    $value->slug .= $s;
                                    $sql = "SELECT * FROM presents_lists WHERE id != '".$value->id."' AND slug = '".$value->slug."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $s++;
                                }
                                $sql = "SELECT * FROM presents_lists WHERE id = '".$value->id."'";
                                $query2 = mysqli_query($con, $sql);
                                if(!mysqli_num_rows($query2)){
                                    $sql = (("INSERT INTO presents_lists (id, client, nomeAniversariante, dataAniversario, slug, nomeMae, nomePai, idade, status, cep, address, number, complement, neighborhood, city, state, slug, created_at, updated_at) VALUES ('".$value->id."', '".$value->client."', '".$value->nomeAniversariante."', '".$value->dataAniversario."', '".$value->slug."', '".$value->nomeMae."', '".$value->nomePai."', '".$value->idade."', '".$value->status."', '".$value->cep."', '".$value->address."', '".$value->number."', '".$value->complement."', '".$value->neighborhood."', '".$value->city."', '".$value->state."', '".$value->slug."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')"));
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                                else{
                                    $sql = (("UPDATE presents_lists SET nomeAniversariante = '".$value->nomeAniversariante."', dataAniversario = '".$value->dataAniversario."', nomeMae = '".$value->nomeMae."', nomePai = '".$value->nomePai."', idade = '".$value->idade."', slug = '".$value->slug."', status = '".$value->status."', cep = '".$value->cep."', address = '".$value->address."', number = '".$value->number."', complement = '".$value->complement."', neighborhood = '".$value->neighborhood."', city = '".$value->city."', state = '".$value->state."', slug = '".$value->slug."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'"));
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "presentes":
                        /*$sql = "TRUNCATE presents_lists_products";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoPresenteJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoPresenteJson']['name'])){
                            copy($_FILES['arquivoPresenteJson']['tmp_name'], DIRETORIO.$_FILES['arquivoPresenteJson']['name']);
                            $link = $_FILES['arquivoPresenteJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                $sql = "SELECT * FROM presents_lists_products WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO presents_lists_products (id, lista, product, product_item, quantity, ganhou, created_at, updated_at) VALUES ('".$value->id."', '" .$value->lista . "', '".$value->product."', '".$value->product_item."', '".$value->quantity."', '".$value->ganhou."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                                else{
                                    $sql = ("UPDATE presents_lists_products SET quantity = '".$value->quantity."', ganhou = '".$value->ganhou."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "convidados":
                        /*$sql = "TRUNCATE presents_lists_guests";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoConvidadosJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoConvidadosJson']['name'])){
                            copy($_FILES['arquivoConvidadosJson']['tmp_name'], DIRETORIO.$_FILES['arquivoConvidadosJson']['name']);
                            $link = $_FILES['arquivoConvidadosJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                $sql = "SELECT * FROM presents_lists_guests WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO presents_lists_guests (id, lista, name, email, cel, created_at, updated_at) VALUES ('".$value->id."', '" .$value->lista . "', '".$value->name."', '".$value->email."', '".$value->cel."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                                else{
                                    $sql = ("UPDATE presents_lists_guests SET name = '".$value->name."', email = '".$value->email."', cel = '".$value->cel."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "banners":
                        /*$sql = "TRUNCATE banners";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->img){
                                    copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                }
                                if ($value->background){
                                    copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                }
                                $vet = explode(' - ', $value->target);
                                $target = $vet[0];
                                $nomeTarget = $vet[1];
                                $vet = explode(' - ', $value->posicao);
                                $position = $vet[0];
                                $nomePosicao = $vet[1];
                                $sql = "SELECT * FROM targets WHERE id = '".$value->target."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO targets (id, name, code, status, created_at, updated_at) VALUES ('".$value->target."', '".$nomeTarget."', '_parent', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $target = mysqli_insert_id($con);
                                }
                                $sql = "SELECT * FROM positions WHERE id = '".$value->position."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO positions (id, name, status, created_at, updated_at) VALUES ('".$value->position."', '".$nomePosicao."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $position = mysqli_insert_id($con);
                                }
                                $sql = "SELECT * FROM banners WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO banners (name, slug, description, position, link, target, tipo, qual, status, img, background, created_at, updated_at) VALUES ('".$value->name."', '".$value->urlAmigavel."', '".$value->description."', '".$position."', '".$value->link."', '".$target."', '".$value->tipo."', '".$value->qual."', '".$value->status."', '".$value->img."', '".$value->background."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                }
                                else{
                                    $sql = ("UPDATE banners SET name = '".$value->name."', slug = '".$value->slug."', description = '".$value->description."', position = '".$value->position."', link = '".$value->link."', target = '".$value->target."', tipo = '".$value->tipo."', qual = '".$value->qual."', status = '".$value->status."', img = '".$value->img."', background = '".$value->background."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "pagina":
                        /*$sql = "TRUNCATE pages";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->id){
                                    $id = $value->id;
                                    $name = $value->name;
                                    $urlAmigavel = $value->slug;
                                    $descricoes = $value->descricoes;
                                    $subname = $value->subname;
                                    $appearsMenu = $value->appearsMenu;
                                    $appearsSite = $value->appearsSite;
                                    $status = $value->status;
                                    $img = $value->img;
                                    $ordem = $value->ordem;
                                    $background = $value->background;
                                    if ($value->img){
                                        copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                    }
                                    if ($value->background){
                                        copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                    }
                                    $vet = explode('|-|', $value->descricoes);
                                    if (count($vet) > 0 && $vet[0]){
                                        foreach ($vet as $chave => $valor){
                                            $vet2 = explode('|*|', $valor);
                                            $idPaginaDescricao = addslashes($vet2[0]);
                                            $numPaginaDescricao = addslashes($vet2[1]);
                                            $typePaginaDescricao = addslashes($vet2[2]);
                                            $textPaginaDescricao = addslashes($vet2[3]);
                                            $sql = "SELECT * FROM pages_descriptions WHERE id = '".$idPaginaDescricao."'";
                                            $query2 = mysqli_query($con, $sql) or die(mysqli_error($con));
                                            if (mysqli_num_rows($query2)){
                                                $sql = ("UPDATE pages_descriptions SET num = '".$numPaginaDescricao."', type = '".$typePaginaDescricao."', text = '".$textPaginaDescricao."', updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$idPaginaDescricao."'");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                            else{
                                                $sql = ("INSERT INTO pages_descriptions (id, num, type, text, created_at, updated_at) VALUES ('".$idPaginaDescricao."', '".$numPaginaDescricao."', '".$textPaginaDescricao."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                            }
                                        }
                                    }
                                    $sql = "SELECT * FROM pages WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO pages (id, name, slug, subname, appearsMenu, appearsSite, ordem, status, created_at, updated_at) VALUES ('".$id."', '" .$value->nome . "', '".$value->slug."', '".$value->subname."', '".$value->appearsMenu."', '".$value->appearsSite."', '".$value->ordem."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE pages SET name = '".$name."', slug = '".$urlAmigavel."', subname = '".$subname."', appearsMenu = '".$value->appearsMenu."', appearsSite='".$value->appearsSite."', status = '".$value->status."', img = '".$value->img."', background = '".$value->background."', ordem = '".$value->ordem."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "subitems":
                        /*$sql = "TRUNCATE subitems";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->id){
                                    $id = $value->id;
                                    $page = $value->page;
                                    $nomePagina = $value->nomePagina;
                                    $slugPagina = $value->slugPagina;
                                    $name = $value->name;
                                    $urlAmigavel = $value->slug;
                                    $description = $value->description;
                                    $subname = $value->subname;
                                    $appearsImg = $value->appearsImg;
                                    $status = $value->status;
                                    $img = $value->img;
                                    if ($value->img){
                                        copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                    }
                                    /*if ($value->background){
                                        copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                    }*/
                                    $sql = "SELECT * FROM pages WHERE name = '".($nomePagina)."'";
                                    $query = mysqli_query($con, $sql);
                                    if (mysqli_num_rows($query)){
                                        $row = mysqli_fetch_array($query);
                                        $page = $row['id'];
                                    }
                                    else{
                                        $sql = ("INSERT INTO pages (name, slug, status, created_at, updated_at) VALUES ('".($nomePagina)."', '".$slugPagina."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql);
                                        $page = mysqli_insert_id($con);
                                    }
                                    $sql = "SELECT * FROM subitems WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO subitems (id, name, slug, subname, description, appearsImg, status, created_at, updated_at) VALUES ('".$id."', '" .$value->nome . "', '".$value->slug."', '".$value->subname."', '".$value->description."', '".$value->appearsImg."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE subitems SET page = '".$page."', name = '".$name."', slug = '".$urlAmigavel."', subname = '".$subname."', description = '".$description."', appearsImg = '".$appearsImg."', status = '".$value->status."', img = '".$value->img."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "atributos":
                        /*$sql = "TRUNCATE attributes";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->id){
                                    $id = $value->id;
                                    $name = $value->name;
                                    $status = $value->status;
                                    /*$img = $value->img;
                                    if ($value->img){
                                        copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                    }
                                    /*if ($value->background){
                                        copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                    }*/
                                    $sql = "SELECT * FROM attributes WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO subitems (id, name, slug, subname, description, appearsImg, status, created_at, updated_at) VALUES ('".$id."', '" .$value->nome . "', '".$value->slug."', '".$value->subname."', '".$value->description."', '".$value->appearsImg."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE attributes SET name = '".$name."', status = '".$value->status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "categorias":
                        /*$sql = "TRUNCATE categories";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->id){
                                    $id = $value->id;
                                    $idPai = $value->idPai;
                                    $name = $value->name;
                                    $slug = $value->slug;
                                    $aparece_menu = $value->aparece_menu;
                                    $status = $value->status;
                                    $img = $value->img;
                                    $background = $value->background;
                                    if ($value->img){
                                        copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                    }
                                    if ($value->background){
                                        copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                    }
                                    $sql = "SELECT * FROM categories WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO categories (id, name, slug, idPai, aparece_menu, img, background, status, created_at, updated_at) VALUES ('".$id."', '" .$name . "', '".$slug."', '".$idPai."', '".$aparece_menu."', '".$img."', '".$background."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE categories SET idPai = '".$idPai."', name = '".$name."', slug = '".$slug."', aparece_menu = '".$aparece_menu."', img = '".$img."', background = '".$background."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "marcas":
                        $sql = "TRUNCATE brands";
                        mysqli_query($con, $sql) or die(mysqli_error($con));
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->id){
                                    $id = $value->id;
                                    $name = $value->name;
                                    $slug = $value->slug;
                                    $aparece_menu = $value->aparece_menu;
                                    $status = $value->status;
                                    $img = $value->img;
                                    $background = $value->background;
                                    if ($value->img){
                                        copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                    }
                                    if ($value->background){
                                        copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                    }
                                    $sql = "SELECT * FROM brands WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO brands (id, name, slug, img, background, status, created_at, updated_at) VALUES ('".$id."', '" .$name . "', '".$slug."', '".$img."', '".$background."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE brands SET name = '".$name."', slug = '".$slug."', img = '".$img."', background = '".$background."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "selos":
                        /*$sql = "TRUNCATE stamps";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->id){
                                    $id = $value->id;
                                    $name = $value->name;
                                    $slug = $value->slug;
                                    $aparece_menu = $value->aparece_menu;
                                    $status = $value->status;
                                    $img = $value->img;
                                    $background = $value->background;
                                    if ($value->img){
                                        copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                    }
                                    if ($value->background){
                                        copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                    }
                                    $sql = "SELECT * FROM stamps WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO stamps (id, name, slug, img, background, status, created_at, updated_at) VALUES ('".$id."', '" .$name . "', '".$slug."', '".$img."', '".$background."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE stamps SET name = '".$name."', slug = '".$slug."', img = '".$img."', background = '".$background."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "sugestoes":
                        /*$sql = "TRUNCATE suggestions";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->id){
                                    $id = $value->id;
                                    $name = $value->name;
                                    $slug = $value->slug;
                                    $aparece_menu = $value->aparece_menu;
                                    $status = $value->status;
                                    $img = $value->img;
                                    $background = $value->background;
                                    if ($value->img){
                                        copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                    }
                                    if ($value->background){
                                        copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                    }
                                    $sql = "SELECT * FROM suggestions WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO suggestions (id, name, slug, img, background, status, created_at, updated_at) VALUES ('".$id."', '" .$name . "', '".$slug."', '".$img."', '".$background."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE suggestions SET name = '".$name."', slug = '".$slug."', img = '".$img."', background = '".$background."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "relacionamentos":
                        /*$sql = "TRUNCATE suggestions";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->id){
                                    $id = $value->id;
                                    $name = $value->name;
                                    $slug = $value->slug;
                                    $aparece_menu = $value->aparece_menu;
                                    $status = $value->status;
                                    $img = $value->img;
                                    $background = $value->background;
                                    if ($value->img){
                                        copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                    }
                                    if ($value->background){
                                        copy(DIRETORIO."importar/".$value->background, DIRETORIO."storage/".$value->background);
                                    }
                                    $sql = "SELECT * FROM relationships WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO relationships (id, name, slug, img, background, status, created_at, updated_at) VALUES ('".$id."', '" .$name . "', '".$slug."', '".$img."', '".$background."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE relationships SET name = '".$name."', slug = '".$slug."', img = '".$img."', background = '".$background."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "produto":
                        /*$sql = "TRUNCATE suggestions";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->id){
                                    $id = $value->id;
                                    $name = $value->name;
                                    $descricoes = addslashes($value->descricoes);
                                    $apareceVitrine = $value->apareceVitrine;
                                    $destaque = $value->destaque;
                                    $compreAgora = $value->compreAgora;
                                    $freteGratis = $value->freteGratis;
                                    $mostraCarrinho = $value->mostraCarrinho;
                                    $promocao = $value->promocao;
                                    $valorContaParaOFrete = $value->valorContaParaOFrete;
                                    $itemRecomendado = $value->itemRecomendado;
                                    $prioridadeBusca = $value->prioridadeBusca;
                                    $apareceLateralEsquerda = $value->apareceLateralEsquerda;
                                    $ofertaDoDia = $value->ofertaDoDia;
                                    $ofertaEspecial = $value->ofertaEspecial;
                                    $slugProduto = strtolower($value->slug);
                                    $background = $value->img;
                                    $status = $value->status;
                                    $idItem = $value->idItem;
                                    $codigo = sprintf("%012s", $idItem);
                                    $nomeItem = $value->nameItem;
                                    $valor = $value->value;
                                    $valorPromocao = $value->promotion;
                                    $validadePromocao = $value->validity_promotion;
                                    $peso = $value->peso;
                                    $altura = $value->altura;
                                    $largura = $value->largura;
                                    $comprimento = $value->comprimento;
                                    $diametro = $value->diametro;
                                    $estoque = $value->estoque;
                                    $statusItem = $value->statusItem;
                                    $atributos = "";
                                    for ($i = 1; $i <= 10; $i++){
                                        if ($value->{"attribute".$i}){
                                            ${"attribute".$i} = $value->{"attribute".$i};
                                        }
                                        else{
                                            ${"attribute".$i} = 0;
                                        }
                                    }
                                    $atributos = substr($atributos, 0, -3);
                                    $categorias = addslashes($value->categorias);
                                    $marcas = addslashes($value->marcas);
                                    $sugestoes = addslashes($value->sugestoes);
                                    $relacionamentos = addslashes($value->relacionamentos);
                                    $selos = addslashes($value->selos);
                                    $comentarios = addslashes($value->comentarios);
                                    $videos = addslashes($value->videos);
                                    $imagens = addslashes($value->imagens);
                                    $client = addslashes($value->client);
                                    $sql = "SELECT * FROM products WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO products (name, slug, apareceVitrine, destaque, compreAgora, freteGratis, mostraCarrinho, promocao, valorContaParaOFrete, itemRecomendado, prioridadeBusca, apareceLateralEsquerda, ofertaDoDia, ofertaEspecial, status, client, created_at, updated_at)
                                        VALUES ('" . addslashes(ucwords($name)) . "', '".$slugProduto."', '".$apareceVitrine."', '".$destaque."', '".$compreAgora."', '".$freteGratis."', '".$mostraCarrinho."', '".$promocao."', '".$valorContaParaOFrete."', '".$itemRecomendado."', '".$prioridadeBusca."', '".$apareceLateralEsquerda."', '".$ofertaDoDia."', '".$ofertaEspecial."', '".$status."', '".$client."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $idProduto = mysqli_insert_id($con);
                                    }
                                    else{
                                        $row = mysqli_fetch_array($query);
                                        $idProduto = $row['id'];
                                        $sql = ("UPDATE products SET name = '".$value->name."', slug = '".$slugProduto."', img = '".$background."', apareceVitrine = '".$value->apareceVitrine."', destaque = '".$value->destaque."', freteGratis = '".$value->freteGratis."', mostraCarrinho = '".$value->mostraCarrinho."', promocao = '".$value->promocao."', valorContaParaOFrete = '".$value->valorContaParaOFrete."', itemRecomendado = '".$value->itemRecomendado."', prioridadeBusca = '".$value->prioridadeBusca."', apareceLateralEsquerda = '".$value->apareceLateralEsquerda."', ofertaDoDia = '".$value->ofertaDoDia."', ofertaEspecial = '".$value->ofertaEspecial."', status = '".$value->status."' WHERE id = '".$row['id']."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                    }
                                    if ($background){
                                        copy(DIRETORIO."importar/".$background, DIRETORIO."storage/".$background);
                                        $sql = "UPDATE products SET img = '".$background."' WHERE id = '".$idProduto."'";
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                    }
                                    if ($atributos){
                                        $vet1 = explode('*|*', $atributos);
                                        $i = 0;
                                        if (count($vet1)){
                                            foreach ($vet1 as $key => $value){
                                                $idPai = 0;
                                                $sql = ("SELECT * FROM attributes WHERE id = '".($vet1[$value])."'");
                                                $query = mysqli_query($con, $sql);
                                                if (mysqli_num_rows($query)){
                                                    $row = mysqli_fetch_array($query);
                                                    $idAtributo = $row['id'];
                                                    $idAtributoPai = $row['idPai'];
                                                }
                                                $sql = "SELECT * FROM products_attributes WHERE product = '".$idProduto."' AND attribute = '".$idAtributo."'";
                                                $query2 = mysqli_query($con, $sql);
                                                if (!mysqli_num_rows($query2)){
                                                    $sql = "INSERT INTO products_attributes (product, attribute, created_at, updated_at) VALUES ('".$idProduto."', '".$idAtributo."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                    mysqli_query($con, $sql);
                                                }
                                                $sql = "SELECT * FROM products_attributes WHERE product = '".$idProduto."' AND attribute = '".$idAtributoPai."'";
                                                $query2 = mysqli_query($con, $sql);
                                                if (!mysqli_num_rows($query2)){
                                                    $sql = "INSERT INTO products_attributes (product, attribute, created_at, updated_at) VALUES ('".$idProduto."', '".$idAtributoPai."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                    mysqli_query($con, $sql);
                                                }
                                                $idPai = 0;
                                            }
                                        }
                                    }
                                    else{
                                        $idAtributo2 = 0;
                                    }
                                    if ($selos){
                                        $vet1 = explode('*|*', $selos);
                                        $i = 0;
                                        if (count($vet1)){
                                            foreach ($vet1 as $key => $value){
                                                $vet2 = explode('|*|', $value);
                                                $sql = ("SELECT * FROM stamps WHERE id = '".$vet2[0]."'");
                                                $query = mysqli_query($con, $sql);
                                                if (mysqli_num_rows($query)){
                                                    $row = mysqli_fetch_array($query);
                                                    $idSelo = $row['id'];
                                                }
                                                else{
                                                    $sql = ("INSERT INTO stamps (name, status, created_at, updated_at) VALUES ('".$vet2[1]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                    mysqli_query($con, $sql);
                                                    $idSelo = mysqli_insert_id($con);
                                                    if ($vet2[1] && file_exists(DIRETORIO."importar/".$vet2[1])){
                                                        copy(DIRETORIO."importar/".$vet2[2], DIRETORIO."storage/".$vet2[2]);
                                                        $sql = "UPDATE stamps SET img = '".$vet2[2]."' WHERE id = '".$idSelo."'";
                                                        mysqli_query($con, $sql);
                                                    }
                                                }
                                                $sql = "SELECT * FROM products_stamps WHERE product = '".$idProduto."' AND stamp = '".$idSelo."'";
                                                $query2 = mysqli_query($con, $sql);
                                                if (!mysqli_num_rows($query2)){
                                                    $sql = "INSERT INTO products_stamps (product, stamp, created_at, updated_at) VALUES ('".$idProduto."', '".$idSelo."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                    mysqli_query($con, $sql);
                                                }
                                            }
                                        }
                                    }
                                    else{
                                        $idSelo = 0;
                                    }
                                    $sql = "SELECT * FROM products_items WHERE id = '".$idItem."'";
                                    $query = mysqli_query($con, $sql);
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO products_items (product, code, name, value, promotion, validity_promotion, peso, altura, largura, comprimento, diametro, estoque, status, attribute1, created_at, updated_at) VALUES ('".$idProduto."', '".$codigo."', '" . addslashes(ucwords($nomeItem)) . "', '".$valor."', '".$valorPromocao."', '".$validadePromocao."', '".$peso."', '".$altura."', '".$largura."', '".$comprimento."', '".$diametro."', '".$estoque."', '".$statusItem."', '".$idAtributo2."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql);
                                        $idItem = mysqli_insert_id($con);
                                    }
                                    else{
                                        $row = mysqli_fetch_array($query);
                                        $idItem = $row['id'];
                                        $sql = ("UPDATE products_items SET name = '".addslashes(ucwords($nomeItem))."', product = '".$idProduto."', code = '".$codigo."', value = '".$valor."', promotion = '".$valorPromocao."', validity_promotion = '".$validadePromocao."', peso = '".$peso."', altura = '".$altura."', largura = '".$largura."', comprimento = '".$comprimento."', diametro = '".$diametro."', estoque = '".$estoque."', status = '".$statusItem."'");
                                        for ($i = 1; $i <= 10; $i++){
                                            $sql .= ", attribute".$i." = '".${"attribute".$i}."'";
                                        }
                                        $sql .= ", updated_at = '".date('Y-m-d H:i:s')."' WHERE id = '".$row['id']."'";
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                    }
                                    $vet1 = explode('*|*', $categorias);
                                    $i = 0;
                                    if (count($vet1)){
                                        foreach ($vet1 as $key => $value){
                                            $vet2 = explode('|*|', $value);
                                            if ($key % 2 == 0){
                                                $idPai = 0;
                                            }
                                            else{
                                                $idPai = $idCategoria;
                                            }
                                            $sql = ("SELECT * FROM categories WHERE name = '".$vet2[0]."' AND idPai = '".$idPai."'");
                                            $query = mysqli_query($con, $sql);
                                            if (mysqli_num_rows($query)){
                                                $row = mysqli_fetch_array($query);
                                                $idCategoria = $row['id'];
                                            }
                                            else{
                                                $sql = ("INSERT INTO categories (name, idPai, slug, status, aparece_menu, created_at, updated_at) VALUES ('".$vet2[0]."', '".$idPai."', '".$vet2[2]."', '1', '".$vet2[3]."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql);
                                                $idCategoria = mysqli_insert_id($con);
                                            }
                                            if ($vet2[1] && file_exists(DIRETORIO."importar/".$vet2[1])){
                                                copy(DIRETORIO."importar/".$vet2[1], DIRETORIO."storage/".$vet2[1]);
                                                $sql = "UPDATE categories SET img = '".$vet2[1]."' WHERE id = '".$idCategoria."'";
                                                mysqli_query($con, $sql);
                                            }
                                            if ($vet2[4] && file_exists(DIRETORIO."importar/".$vet2[4])){
                                                copy(DIRETORIO."importar/".$vet2[4], DIRETORIO."storage/".$vet2[4]);
                                                $sql = "UPDATE categories SET background = '".$vet2[4]."' WHERE id = '".$idCategoria."'";
                                                mysqli_query($con, $sql);
                                            }
                                            $sql = "SELECT * FROM products_categories WHERE product = '".$idProduto."' AND categorie = '".$idCategoria."'";
                                            $query2 = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query2)){
                                                $sql = "INSERT INTO products_categories (product, categorie, created_at, updated_at) VALUES ('".$idProduto."', '".$idCategoria."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                mysqli_query($con, $sql);
                                            }
                                        }
                                    }
                                    $vet1 = explode('*|*', $marcas);
                                    $i = 0;
                                    if (count($vet1)){
                                        foreach ($vet1 as $key => $value){
                                            if ($value){
                                                $vet2 = explode('|*|', $value);
                                                $sql = ("SELECT * FROM brands WHERE name = '".$vet2[0]."'");
                                                $query = mysqli_query($con, $sql);
                                                if (mysqli_num_rows($query)){
                                                    $row = mysqli_fetch_array($query);
                                                    $idMarca = $row['id'];
                                                }
                                                else{
                                                    $sql = ("INSERT INTO brands (name, slug, status, created_at, updated_at) VALUES ('".$vet2[0]."', '".$vet2[2]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                    mysqli_query($con, $sql);
                                                    $idMarca = mysqli_insert_id($con);
                                                }
                                                if ($vet2[1] && file_exists(DIRETORIO."importar/".$vet2[1])){
                                                    copy(DIRETORIO."importar/".$vet2[1], DIRETORIO."storage/".$vet2[1]);
                                                    $sql = "UPDATE brands SET img = '".$vet2[1]."' WHERE id = '".$idMarca."'";
                                                    mysqli_query($con, $sql);
                                                }
                                                $sql = "SELECT * FROM products_brands WHERE product = '".$idProduto."' AND brand = '".$idMarca."'";
                                                $query2 = mysqli_query($con, $sql);
                                                if (!mysqli_num_rows($query2)){
                                                    $sql = "INSERT INTO products_brands (product, brand, created_at, updated_at) VALUES ('".$idProduto."', '".$idMarca."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                    mysqli_query($con, $sql);
                                                }
                                            }
                                        }
                                    }
                                    $vet1 = explode('*|*', $sugestoes);
                                    $i = 0;
                                    if (count($vet1)){
                                        foreach ($vet1 as $key => $value){
                                            if ($value){
                                                $vet2 = explode('|*|', $value);
                                                $sql = ("SELECT * FROM suggestions WHERE name = '".$vet2[0]."'");
                                                $query = mysqli_query($con, $sql);
                                                if (mysqli_num_rows($query)){
                                                    $row = mysqli_fetch_array($query);
                                                    $idSugestao = $row['id'];
                                                }
                                                else{
                                                    $sql = ("INSERT INTO suggestions (name, slug, status, created_at, updated_at) VALUES ('".$vet2[0]."', '".$vet2[2]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                    mysqli_query($con, $sql);
                                                    $idSugestao = mysqli_insert_id($con);
                                                }
                                                $sql = "SELECT * FROM products_suggestions WHERE product = '".$idProduto."' AND suggestion = '".$idSugestao."'";
                                                $query2 = mysqli_query($con, $sql);
                                                if (!mysqli_num_rows($query2)){
                                                    $sql = "INSERT INTO products_suggestions (product, suggestion, created_at, updated_at) VALUES ('".$idProduto."', '".$idSugestao."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                    mysqli_query($con, $sql);
                                                }
                                                if ($vet2[1] && file_exists(DIRETORIO."importar/".$vet2[1])){
                                                    copy(DIRETORIO."importar/".$vet2[1], DIRETORIO."storage/".$vet2[1]);
                                                    $sql = "UPDATE suggestions SET img = '".$vet2[1]."' WHERE id = '".$idMarca."'";
                                                    mysqli_query($con, $sql);
                                                }
                                            }
                                        }
                                    }
                                    $vet1 = explode('*|*', $relacionamentos);
                                    $i = 0;
                                    if (count($vet1)){
                                        foreach ($vet1 as $key => $value){
                                            if ($value){
                                                $vet2 = explode('|*|', $value);
                                                $sql = "SELECT * FROM relationships WHERE slug = '".$vet2[1]."'";
                                                $query = mysqli_query($con, $sql);
                                                if (mysqli_num_rows($query)){
                                                    $row = mysqli_fetch_array($query);
                                                    $idRelacionamentos = $row['id'];
                                                }
                                                else{
                                                    $sql = ("INSERT INTO relationships (name, slug, status, created_at, updated_at) VALUES ('".$vet2[0]."', '".$vet2[1]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                    mysqli_query($con, $sql);
                                                    $idRelacionamentos = mysqli_insert_id($con);
                                                }
                                                $sql = "SELECT * FROM products_relationships WHERE product = '".$idProduto."' AND relationship = '".$idRelacionamentos."'";
                                                $query2 = mysqli_query($con, $sql);
                                                if (!mysqli_num_rows($query2)){
                                                    $sql = "INSERT INTO products_relationships (product, relationship, created_at, updated_at) VALUES ('".$idProduto."', '".$idRelacionamentos."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                                    mysqli_query($con, $sql);
                                                }
                                            }
                                        }
                                    }
                                    $vet1 = explode('*|*', $comentarios);
                                    $i = 0;
                                    $s = 0;
                                    if (count($vet1)){
                                        foreach ($vet1 as $key => $value){
                                            if ($value){
                                                $vet2 = explode('|*|', $value);
                                                $sql = ("SELECT * FROM products_reviews WHERE id = '".$vet2[0]."'");
                                                $query3 = mysqli_query($con, $sql);
                                                if (!mysqli_num_rows($query3)){
                                                    $sql = ("INSERT INTO products_reviews (product, nome, email, avaliacao, mensagem, status, created_at, updated_at) VALUES ('".$idProduto."', '".$vet2[0]."', '".$vet2[1]."', '".$vet2[3]."', '".$vet2[2]."', '1', '".$vet2[4]."', '".$vet2[5]."')");
                                                    mysqli_query($con, $sql);
                                                    $s++;
                                                }
                                            }
                                        }
                                    }
                                    $vet1 = explode('*|*', $descricoes);
                                    $i = 0;
                                    if (count($vet1)){
                                        foreach ($vet1 as $key => $value){
                                            if ($value){
                                                $vet2 = explode('|*|', $value);
                                                $sql = ("SELECT * FROM products_descriptions WHERE id = '".$vet2[0]."'");
                                                $query3 = mysqli_query($con, $sql);
                                                if (!mysqli_num_rows($query3)){
                                                    $sql = ("INSERT INTO products_descriptions (product, num, text, type, created_at, updated_at) VALUES ('".$idProduto."', '".$i."', '".$vet2[2]."', '".$vet2[1]."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                    mysqli_query($con, $sql);
                                                }
                                                else{
                                                    $sql = ("UPDATE products_descriptions SET num = '".$i."', text = '".$vet2[2]."', type = '".$vet2[1]."' WHERE id = '".$vet2[0]."'");
                                                    mysqli_query($con, $sql);
                                                }
                                                $i++;
                                            }
                                        }
                                    }
                                    $vet2 = explode('*|*', $imagens);
                                    $i = 0;
                                    if (count($vet2)){
                                        foreach($vet2 as $key => $value){
                                            $vet3 = explode('|*|', $value);
                                            $sql = "SELECT * FROM products_images WHERE id = '".$vet3[2]."'";
                                            $query = mysqli_query($con, $sql);
                                            if (!mysqli_num_rows($query)){
                                                copy(DIRETORIO.'importar/'.$vet3[1], DIRETORIO."storage/".$vet3[1]);
                                                $sql = ("INSERT INTO products_images (name, product, product_item, img, status, created_at, updated_at) VALUES ('" . addslashes(ucwords($vet3[0])) . "', '".$idProduto."', '".$idItem."', '".$vet3[1]."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                mysqli_query($con, $sql);
                                            }
                                        }
                                    }
                                    $vet2 = explode('*|*', $videos);
                                    $i = 0;
                                    if (count($vet2) && $idProduto != $idProduto2){
                                        foreach($vet2 as $key => $value){
                                            if ($value){
                                                $vet3 = explode('|*|', $value);
                                                $sql = "SELECT * FROM products_videos WHERE id = '".$vet3[2]."'";
                                                $query = mysqli_query($con, $sql);
                                                if (!mysqli_num_rows($query)){
                                                    $sql = ("INSERT INTO products_videos (name, v, product, status, created_at, updated_at) VALUES ('" . addslashes(ucwords($vet3[0])) . "', '".addslashes($vet3[1])."', '".$idProduto."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                                    mysqli_query($con, $sql);
                                                }
                                                else{
                                                    $sql = ("UPDATE products_videos SET name = '".$vet3[0]."', v = '".$vet3[1]."' WHERE id = '".$vet3[2]."'");
                                                    mysqli_query($con, $sql);
                                                }
                                            }
                                        }
                                    }
                                    $idProduto2 = $idProduto;
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "parceiros":
                        /*$sql = "TRUNCATE partners";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->id){
                                    $id = $value->id;
                                    $name = $value->name;
                                    $description = $value->description;
                                    $link = $value->link;
                                    $status = $value->status;
                                    $sql = "SELECT * FROM partners WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO relationships (id, name, description, link, status, created_at, updated_at) VALUES ('".$id."', '" .$name . "', '".$description."', '".$link."', '".$status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE partners SET name = '".$name."', description = '".$description."', link = '".$link."', status = '".$status."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "redesSociais":
                        /*$sql = "TRUNCATE social_networks";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->id){
                                    $id = $value->id;
                                    $name = $value->name;
                                    $description = $value->description;
                                    $link = $value->link;
                                    $status = $value->status;
                                    $sql = "SELECT * FROM social_networks WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO social_networks (id, name, description, link, status, cliques, recebidos, img, background, created_at, updated_at) VALUES ('".$id."', '" .$name . "', '".$description."', '".$link."', '".$status."', '".$value->cliques."', '".$value->recebidos."', '".$value->img."', '".$value->background."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                        mysqli_query($con, $sql) or die(mysqli_error($con));
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE social_networks SET name = '".$name."', description = '".$description."', link = '".$link."', status = '".$status."', cliques = '".$value->cliques."', recebidos = '".$value->recebidos."', img = '".$value->img."',  background = '".$value->background."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'");
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "cupomDesconto":
                        /*$sql = "TRUNCATE coupon_discounts";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->id){
                                    $id = $value->id;
                                    $sql = "SELECT * FROM coupon_discounts WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO coupon_discounts (");
                                        foreach($value as $chave => $valor){
                                            if ($chave != 'created_at' && $chave != 'updated_at'){
                                                $sql .= $chave.", "; 
                                            }
                                        }
                                        $sql .= "created_at, updated_at) VALUES (";
                                        foreach($value as $chave => $valor){
                                            if ($chave != 'created_at' && $chave != 'updated_at'){
                                                $sql .= "'".$valor."', "; 
                                            }
                                        }
                                        $sql .= "'".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE coupon_discounts SET ");
                                        foreach($value as $chave => $valor){
                                            if ($chave != 'created_at' && $chave != 'updated_at'){
                                                $sql .= $chave." = '".$valor."', "; 
                                            }
                                        }
                                        $sql .= "updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'";
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "valePresente":
                        /*$sql = "TRUNCATE vales";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                if ($value->id){
                                    $id = $value->id;
                                    $sql = "SELECT * FROM vales WHERE id = '".$id."'";
                                    $query = mysqli_query($con, $sql) or die(mysqli_error($con));
                                    if (!mysqli_num_rows($query)){
                                        $sql = ("INSERT INTO vales (");
                                        foreach($value as $chave => $valor){
                                            if ($chave != 'created_at' && $chave != 'updated_at'){
                                                $sql .= $chave.", "; 
                                            }
                                        }
                                        $sql .= "created_at, updated_at) VALUES (";
                                        foreach($value as $chave => $valor){
                                            if ($chave != 'created_at' && $chave != 'updated_at'){
                                                $sql .= "'".$valor."', "; 
                                            }
                                        }
                                        $sql .= "'".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        $linha[0] = mysqli_insert_id($con);
                                    }
                                    else{
                                        $sql = ("UPDATE vales SET ");
                                        foreach($value as $chave => $valor){
                                            if ($chave != 'created_at' && $chave != 'updated_at'){
                                                $sql .= $chave." = '".$valor."', "; 
                                            }
                                        }
                                        $sql .= "updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$id."'";
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "paramSite":
                        /*$sql = "TRUNCATE param_sites";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                $sql = "SELECT * FROM param_sites WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO param_sites (id, name, value, type, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->value."', '".$value->type."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE param_sites SET name = '".$value->name."', value = '".$value->value."', type = '".$value->type."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "paramAdmin":
                        /*$sql = "TRUNCATE param_sites";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $json = json_decode($ler);
                            foreach ($json as $key => $value){
                                $sql = "SELECT * FROM param_admins WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO param_sites (id, name, value, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->value."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE param_admins SET name = '".$value->name."', value = '".$value->value."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "versao":
                        /*$sql = "TRUNCATE versions";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $xml = json_decode($ler);
                            foreach ($xml as $key => $value){
                                $sql = "SELECT * FROM versions WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                if (isset($value->img) && file_exists(DIRETORIO."importar/".$value->img)){
                                    copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                    $img = $value->img;
                                }
                                else{
                                    $img = "";
                                }
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO versions (id, name, description, img, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->description."', '".$img."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE versions SET name = '".$value->name."', description = '".$value->description."', date = '".$value->date."', ");
                                    if ($img){
                                    $sql .= "img = '".$img."', ";
                                    }
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "feriado":
                        /*$sql = "TRUNCATE versions";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $xml = json_decode($ler);
                            foreach ($xml as $key => $value){
                                $sql = "SELECT * FROM holidays WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);                            
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO holidays (id, name, date, status, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->date."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE holidays SET name = '".$value->name."', date = '".$value->date."', comMsg = '".$value->comMsg."', msg = '".$value->msg."', status = '".$value->status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");                                
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "comentarioFeriado":
                        /*$sql = "TRUNCATE holidays_coments";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $xml = json_decode($ler);
                            foreach ($xml as $key => $value){
                                $sql = "SELECT * FROM holidays WHERE id = '".$value->holiday."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO holidays (id, name, date, status, created_at, updated_at)
                                    VALUES ('".$value->holiday."', '".$value->nomeFeriado."', '".$value->dataFeriado."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                }
                                else{
                                    $sql = "UPDATE holidays SET name = '".$value->nomeFeriado."', date = '".$value->dataFeriado."', status = '1' WHERE id = '".$value->holiday."'";
                                }
                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                $sql = "SELECT * FROM clients WHERE id = '".$value->client."'";
                                $type_person = ($value->contato) ? "J" : "F";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = "INSERT INTO clients (id, name, date, status, created_at, updated_at)
                                    VALUES ('".$value->holiday."', '".$value->nomeFeriado."', '".$value->dataFeriado."', '1', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                }
                                else{
                                    if ($type_person == 'F'){
                                        $sql = "DELETE FROM pessoa_juridicas WHERE client = '".$value->client."'";
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        $sql = "UPDATE pessoa_fisicas SET name = '".($value->nomeCliente)."' WHERE client = '".$value->client."'";
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        $sql = "SELECT * FROM pessoa_fisicas WHERE client = '".$value->client."'";
                                        $query = mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        if (mysqli_num_rows($query)){
                                            $sql = "UPDATE pessoa_fisicas SET name = '".($value->nomeCliente)."' WHERE client = '".$value->client."'";
                                        }
                                        else{
                                            $sql = "INSERT INTO pessoa_fisicas (client, name, dtNasc, created_at, updated_at)
                                            VALUES ('".$value->client."', '".($value->nomeCliente)."', '1950-31-12', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                        }
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                    else{
                                        $sql = "DELETE FROM pessoa_fisicas WHERE client = '".$value->client."'";
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        $sql = "SELECT * FROM pessoa_juridicas WHERE client = '".$value->client."'";
                                        $query = mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                        if (mysqli_num_rows($query)){
                                            $sql = "UPDATE pessoa_juridicas SET razaoSocial = '".($value->nomeCliente)."', nomeFantasia = '".($value->nomeFantasia)."', contato = '".($value->contato)."' WHERE client = '".$value->client."'";
                                        }
                                        else{
                                            $sql = "INSERT INTO pessoa_juridicas (client, razaoSocial, nomeFantasia, contato, dataAbertura, created_at, updated_at)
                                            VALUES ('".$value->client."', '".($value->nomeCliente)."', '".($value->nomeFantasia)."', '".($value->contato)."', '1950-31-12', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                                        }
                                        mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    }
                                    $sql = "UPDATE clients SET type_person = '".$type_person."', email = '".$value->email."' WHERE id = '".$value->client."'";
                                }
                                mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                $sql = "SELECT * FROM holidays_coments WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);                            
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO holidays_coments (id, holiday, client, avaliacao, coment, status, created_at, updated_at) VALUES ('".$value->id."', '" .$value->holiday . "', '".$value->client."', '".$value->avaliacao."', '".$value->coment."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE holidays_coments SET holiday = '".$value->holiday."', client = '".$value->client."', avaliacao = '".$value->avaliacao."', coment = '".$value->coment."', status = '".$value->status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");                                
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "formasPagamento":
                        /*$sql = "TRUNCATE versions";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $xml = json_decode($ler);
                            foreach ($xml as $key => $value){
                                if (isset($value->img) && file_exists(DIRETORIO."importar/".$value->img)){
                                    copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                    $img = $value->img;
                                }
                                else{
                                    $img = "";
                                }
                                $sql = "SELECT * FROM payment_methods WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);                            
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO payment_methods (id, name, vlParcelaMinima, parcelas, img, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->vlParcelaMinima."', '".$value->parcelas."', '".$img."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE payment_methods SET name = '".$value->name."', vlParcelaMinima = '".$value->vlParcelaMinima."', parcelas = '".$value->parcelas."', img = '".$img."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");                          
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;                    
                    case "nacionalidade":
                        /*$sql = "TRUNCATE versions";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $xml = json_decode($ler);
                            foreach ($xml as $key => $value){
                                $sql = "SELECT * FROM nationalities WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);                            
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO nationalities (id, name, vlParcelaMinima, parcelas, img, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->vlParcelaMinima."', '".$value->parcelas."', '".$img."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE nationalities SET name = '".$value->name."', padrao = '".$value->padrao."', status = '".$value->status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");                          
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;                   
                    case "pais":
                        /*$sql = "TRUNCATE versions";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $xml = json_decode($ler);
                            foreach ($xml as $key => $value){
                                $sql = "SELECT * FROM countries WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);                            
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO countries (id, name, vlParcelaMinima, parcelas, img, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->vlParcelaMinima."', '".$value->parcelas."', '".$img."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE countries SET name = '".$value->name."', padrao = '".$value->padrao."', status = '".$value->status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");                          
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;                 
                    case "formasFrete":
                        /*$sql = "TRUNCATE versions";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $xml = json_decode($ler);
                            foreach ($xml as $key => $value){
                                $sql = "SELECT * FROM shipping_methods WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);                            
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO shipping_methods (id, name, vlParcelaMinima, parcelas, img, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->vlParcelaMinima."', '".$value->parcelas."', '".$img."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE shipping_methods SET code = '".$value->code."', name = '".$value->name."', value = '".$value->value."', status = '".$value->status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");                          
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;           
                    case "posicao":
                        /*$sql = "TRUNCATE positions";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $xml = json_decode($ler);
                            foreach ($xml as $key => $value){
                                $sql = "SELECT * FROM positions WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);                            
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO positions (id, name, status, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE positions SET name = '".$value->name."', status = '".$value->status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");                          
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;          
                    case "tempoBanner":
                        /*$sql = "TRUNCATE time_banners";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $xml = json_decode($ler);
                            foreach ($xml as $key => $value){
                                $sql = "SELECT * FROM time_banners WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);                            
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO time_banners (id, name, status, days, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->days."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE time_banners SET name = '".$value->name."', days = '".$value->days."', status = '".$value->status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");     
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;     
                    case "target":
                        /*$sql = "TRUNCATE target";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $xml = json_decode($ler);
                            foreach ($xml as $key => $value){
                                $sql = "SELECT * FROM targets WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);                            
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO targets (id, name, status, days, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->days."', '".$value->status."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE targets SET name = '".$value->name."', code = '".$value->code."', status = '".$value->status."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");     
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "backgrounds":
                        /*$sql = "TRUNCATE backgrounds";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $xml = json_decode($ler);
                            foreach ($xml as $key => $value){
                                $sql = "SELECT * FROM backgrounds WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);                            
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO backgrounds (id, name, img, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->img."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE backgrounds SET name = '".$value->name."', img = '".$value->img."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");                          
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                                if ($value->img && file_exists(DIRETORIO."importar/".$value->img)){
                                    copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                            reescreveArquivoCss();
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "usuarios":
                        /*$sql = "TRUNCATE users";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $xml = json_decode($ler);
                            foreach ($xml as $key => $value){
                                $value->email_verified_at = ($value->email_verified_at) ? $value->email_verified_at : "0000-00-00 00:00:00";
                                $sql = "SELECT * FROM users WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO users (id, name, email, password, remember_token, img, email_verified_at, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->email."', '".$value->password."', '".$value->remember_token."', '".$value->img."', '".$value->email_verified_at."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE users SET name = '".$value->name."', email = '".$value->email."', password = '".$value->password."', remember_token = '".$value->remember_token."', img = '".$value->img."', ");
                                    $sql .= ("email_verified_at = '".$value->email_verified_at."', updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                                if ($value->img && file_exists(DIRETORIO."importar/".$value->img)){
                                    copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                    case "usuariosPre":
                        /*$sql = "TRUNCATE user_pres";
                        mysqli_query($con, $sql) or die(mysqli_error($con));*/
        
                        // Abrir arquivo para leitura
                        if (preg_match('/.json/', $_FILES['arquivoJson']['name']) || preg_match("/.JSON/", $_FILES['arquivoJson']['name'])){
                            copy($_FILES['arquivoJson']['tmp_name'], DIRETORIO.$_FILES['arquivoJson']['name']);
                            $link = $_FILES['arquivoJson']['name'];
                            $ler = file_get_contents($link);
                            $xml = json_decode($ler);
                            foreach ($xml as $key => $value){
                                $sql = "SELECT * FROM user_pres WHERE id = '".$value->id."'";
                                $query = mysqli_query($con, $sql);
                                if (!mysqli_num_rows($query)){
                                    $sql = ("INSERT INTO user_pres (id, name, email, password, remember_token, img, email_verified_at, created_at, updated_at) VALUES ('".$value->id."', '" .$value->name . "', '".$value->email."', '".$value->password."', '".$value->remember_token."', '".$value->img."', '".$value->email_verified_at."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')");
                                    mysqli_query($con, $sql) or die(mysqli_error($con));
                                    $linha[0] = mysqli_insert_id($con);
                                }
                                else{
                                    $sql = ("UPDATE user_pres SET name = '".$value->name."', email = '".$value->email."', password = '".$value->password."', ");
                                    $sql .= ("updated_at='".date('Y-m-d H:i:s')."' WHERE id = '".$value->id."'");
                                    mysqli_query($con, $sql) or die(mysqli_error($con)."\r\nSQL: ".$sql);
                                }
                                if ($value->img && file_exists(DIRETORIO."importar/".$value->img)){
                                    copy(DIRETORIO."importar/".$value->img, DIRETORIO."storage/".$value->img);
                                }
                            }
                            unlink(DIRETORIO.$_FILES['arquivoJson']['name']);
                        }
                        else{
                            echo "0|-|O arquivo deve ser do tipo '.JSON' ou '.json'! Confira!";
                            die();
                        }
                        //carrega o arquivo XML e retornando um Array
                    break;
                }
                echo "1";
                break;
            case "excluirImportar":
                unlink(DIRETORIO."importar/".$_REQUEST['img']);
                echo "1";
                break;
            case "addCarrinho":
                if (preg_match('/carrinho/', $_REQUEST['urlE']) || preg_match('/finalizacao-de-compra/', $_REQUEST['urlE']) || preg_match('/comprovante-de-compra/', $_REQUEST['urlE'])){
                    $redirecionaCarrinho = 1;
                }
                $_REQUEST['quantidade'] = ($_REQUEST['quantidade']) ? $_REQUEST['quantidade'] : 1;
                $sql = "SELECT * FROM products_items WHERE id = '".$_REQUEST['product_item']."'";
                $query = mysqli_query($con, $sql);
                $row = mysqli_fetch_array($query);
                $estoque = $row['estoque'] - $_REQUEST['quantidade'];
                $sql = "UPDATE products_items SET estoque = '".$estoque."' WHERE id = '".$_REQUEST['product_item']."'";
                mysqli_query($con, $sql);
                $sql = "SELECT * FROM carts WHERE session_id = '".session_id()."' AND product = '".$_REQUEST['id']."' AND product_item = '".$_REQUEST['product_item']."'";
                $query = mysqli_query($con, $sql);
                if (!mysqli_num_rows($query)){
                    $sql = "SELECT a.name, b.value, b.promotion, b.validity_promotion FROM products a INNER JOIN products_items b ON (a.id = b.product) WHERE a.id = '".$_REQUEST['id']."' AND b.id = '".$_REQUEST['product_item']."'";
                    $query2 = mysqli_query($con, $sql);
                    $row2 = mysqli_fetch_array($query2);
                    $row['value'] = ($row['promotion'] && $row['validity_promotion'] >= date('Y-m-d')) ? $row['promotion'] : $row['value'];
                    $sql = "INSERT INTO carts (product, product_item, session_id, name, quantity, value, created_at, updated_at) VALUES ('".$_REQUEST['id']."', '".$_REQUEST['product_item']."', '".session_id()."', '".addslashes($row2['name']." - ".$row['name'])."', '".$_REQUEST['quantidade']."', '".$row['value']."', '".date('Y-m-d H:i:s')."', '".date('Y-m-d H:i:s')."')";
                }
                else{
                    $row = mysqli_fetch_array($query);
                    $quantity = $row['quantity'] + $_REQUEST['quantidade'];
                    $sql = "UPDATE carts SET quantity = '".$quantity."' WHERE id = '".$row['id']."'";
                }
                $valorCarrinho = 0;
                $qtyCart = 0;
                mysqli_query($con, $sql);
                $sql = "SELECT * FROM carts WHERE session_id = '".session_id()."'";
                $query2 = mysqli_query($con, $sql);
                if (mysqli_num_rows($query2)){
                    while ($row2 = mysqli_fetch_array($query2)){
                        $valorCarrinho += $row2['value'] * $row2['quantity'];
                        $qtyCart += $row2['quantity'];
                    }
                }
                echo "1|-|".$redirecionaCarrinho."|-|".number_format($valorCarrinho, 2, ',', '.')."|-|".$qtyCart;
                break;
                case "verificaNumeroDias":
                    if ($_REQUEST['mesFimFiltro'] <= 9){
                        $mesFimFiltro2 = "0".$_REQUEST['mesFimFiltro'];
                    }
                    else{
                        $mesFimFiltro2 = $_REQUEST['mesFimFiltro'];
                    }
                    if ($mesFimFiltro2 != date('m') || $_REQUEST['anoFimFiltro'] != date('Y')){
                        $diaMesFiltro = cal_days_in_month(CAL_GREGORIAN, $_REQUEST['mesFimFiltro'], $_REQUEST['anoFimFiltro']);
                    }
                    else{
                        $diaMesFiltro = date('d');
                    }
                    echo '1|-|<input class="form-control" id="diaFimFiltro" name="diaFimFiltro" type="number" value="'.$diaMesFiltro.'" min="1" max="'.date("t", strtotime(date($_REQUEST['anoFimFiltro']."-".$_REQUEST['mesFimFiltro'])."-01")).'">|-|<input class="form-control" id="diaFiltro" name="diaFiltro" type="number" value="1" min="1" max="'.date("t", strtotime(date($_REQUEST['anoFimFiltro']."-".$_REQUEST['mesFimFiltro'])."-01")).'">';
                    break;
            default:
                echo "0|-|Não foi encontrada a ação pesquisada!";
                break;
        }
?>